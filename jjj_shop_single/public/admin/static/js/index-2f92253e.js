import{f as e,b as a,c as l,d as o,m as i,e as s}from"./element-plus-4e26fc63.js";import{r as m}from"./request-58949a77.js";import{_ as d}from"./index-bb8b9786.js";import{c as t,O as n,R as r,o as u,a as c,V as p,P as g,X as f}from"./@vue-5c89b57d.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-e57ebffb.js";import"./dayjs-342c85a3.js";import"./call-bind-0966096f.js";import"./get-intrinsic-ccd8a43d.js";import"./has-symbols-456daba2.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9b3bb84c.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./axios-85bcd05e.js";import"./qs-9a0be292.js";import"./side-channel-7d553c0c.js";import"./object-inspect-1e1e9601.js";import"./vue-router-feb6ca35.js";import"./pinia-3964e703.js";import"./vue-demi-71ba0ef2.js";let _={serviceDetail:(e,a)=>m._get("/admin/setting/index",e,a),editService:(e,a)=>m._post("/admin/setting/index",e,a)};const V={data:()=>({loading:!1,form:{admin_name:"",admin_bg_img:"",shop_name:"",shop_bg_img:"",weixin_service:{},storage:{default:"local",max_image:"",max_video:"",engine:{qiniu:{},aliyun:{},qcloud:{}}}}}),created(){this.getParams()},methods:{getParams(){let e=this;_.serviceDetail({},!0).then((a=>{let l=a.data.vars.values;e.form=a.data.vars.values,e.form.weixin_service.is_open=parseInt(e.form.weixin_service.is_open),l.storage?(e.form.storage.default=l.storage.default,e.form.storage.max_image=l.storage.max_image,e.form.storage.max_video=l.storage.max_video,l.storage.engine?(e.form.storage.engine.qiniu=l.storage.engine.qiniu,e.form.storage.engine.aliyun=l.storage.engine.aliyun,e.form.storage.engine.qcloud=l.storage.engine.qcloud):e.form.storage.engine={qiniu:{},aliyun:{},qcloud:{}}):e.form.storage={default:"local",max_image:"",max_video:"",engine:{qiniu:{},aliyun:{},qcloud:{}}},e.loading=!1})).catch((a=>{e.loading=!1}))},onSubmit(){let a=this,l=this.form;a.$refs.form.validate((o=>{o&&(a.loading=!0,_.editService(l,!0).then((l=>{a.loading=!1,e({message:"恭喜你，設定成功",type:"success"}),a.$router.push("/setting/Index")})).catch((e=>{a.loading=!1})))}))}}},v={class:"product-add"},h=c("div",{class:"common-form"},"運營後臺設定",-1),x=c("div",{class:"tips"}," saas端商城運營名稱，顯示在登入頁 ",-1),b=c("div",{class:"tips"}," saas端商城運營登入背景，不填則為系統預設登入背景，填寫網路地址 ",-1),y=c("div",{class:"common-form"},"商城後臺設定",-1),w=c("div",{class:"tips"}," shop端商城名稱，顯示在登入頁 ",-1),k=c("div",{class:"tips"}," shop端商城登入背景，不填則為系統預設登入背景，填寫網路地址 ",-1),q=c("div",{class:"common-form"},"微信服務商支付設定",-1),U=c("div",{class:"tips"}," 填寫服務商戶號、10位數字 ",-1),j=c("div",{class:"tips"}," 填寫服務商戶支付秘鑰apikey ",-1),C=c("div",{class:"tips"}," 填寫服務商戶號繫結的公眾號appid ",-1),S=c("div",{class:"tips"},"使用文字編輯器開啟apiclient_key.pem檔案，將檔案的全部內容複製進來",-1),K=c("div",{class:"tips"},"使用文字編輯器開啟apiclient_key.pem檔案，將檔案的全部內容複製進來",-1),R=c("div",{class:"common-form"},"檔案上傳設定",-1),D=c("div",{class:"tips"},"修改後請修改php上傳配置後生效",-1),E=c("div",{class:"tips"},"修改後請修改php上傳配置後生效",-1),A={key:1},I=c("div",{class:"tips"}," 請補全http:// 或 https://，例如：http://static.cloud.com ",-1),B={key:2},O=c("div",{class:"tips"}," 請補全http:// 或 https://，例如：http://static.cloud.com ",-1),P={key:3},M=c("div",{class:"tips"}," 請填寫地域簡稱，例如：ap-beijing、ap-hongkong、eu-frankfurt ",-1),Y=c("div",{class:"tips"}," 請補全http:// 或 https://，例如：http://static.cloud.com ",-1),$={class:"button-wrapper"};const z=d(V,[["render",function(e,m,d,_,V,z){const G=l,T=o,X=i,F=s,H=a;return u(),t("div",v,[n(H,{ref:"form",model:V.form,"label-width":"150px"},{default:r((()=>[h,n(T,{label:"商城運營名稱",rules:[{required:!0,message:" "}],prop:"shop_name"},{default:r((()=>[n(G,{modelValue:V.form.admin_name,"onUpdate:modelValue":m[0]||(m[0]=e=>V.form.admin_name=e),placeholder:"商城運營名稱",class:"max-w460"},null,8,["modelValue"]),x])),_:1}),n(T,{label:"商城運營登入背景",prop:"shop_bg_img"},{default:r((()=>[n(G,{modelValue:V.form.admin_bg_img,"onUpdate:modelValue":m[1]||(m[1]=e=>V.form.admin_bg_img=e),placeholder:"商城運營登入背景",class:"max-w460"},null,8,["modelValue"]),b])),_:1}),y,n(T,{label:"商城系統名稱",rules:[{required:!0,message:" "}],prop:"shop_name"},{default:r((()=>[n(G,{modelValue:V.form.shop_name,"onUpdate:modelValue":m[2]||(m[2]=e=>V.form.shop_name=e),placeholder:"商城名稱",class:"max-w460"},null,8,["modelValue"]),w])),_:1}),n(T,{label:"商城登入背景",prop:"shop_bg_img"},{default:r((()=>[n(G,{modelValue:V.form.shop_bg_img,"onUpdate:modelValue":m[3]||(m[3]=e=>V.form.shop_bg_img=e),placeholder:"商城登入背景",class:"max-w460"},null,8,["modelValue"]),k])),_:1}),q,n(T,{label:"是否開啟服務商支付"},{default:r((()=>[c("div",null,[n(X,{modelValue:V.form.weixin_service.is_open,"onUpdate:modelValue":m[4]||(m[4]=e=>V.form.weixin_service.is_open=e),label:1},{default:r((()=>[p("開啟")])),_:1},8,["modelValue"]),n(X,{modelValue:V.form.weixin_service.is_open,"onUpdate:modelValue":m[5]||(m[5]=e=>V.form.weixin_service.is_open=e),label:0},{default:r((()=>[p("關閉")])),_:1},8,["modelValue"])])])),_:1}),1==V.form.weixin_service.is_open?(u(),t(g,{key:0},[n(T,{label:"服務商戶號"},{default:r((()=>[n(G,{modelValue:V.form.weixin_service.mch_id,"onUpdate:modelValue":m[6]||(m[6]=e=>V.form.weixin_service.mch_id=e),placeholder:"服務商戶號",class:"max-w460"},null,8,["modelValue"]),U])),_:1}),n(T,{label:"服務商支付秘鑰apikey"},{default:r((()=>[n(G,{modelValue:V.form.weixin_service.apikey,"onUpdate:modelValue":m[7]||(m[7]=e=>V.form.weixin_service.apikey=e),placeholder:"服務商支付秘鑰apikey",class:"max-w460"},null,8,["modelValue"]),j])),_:1}),n(T,{label:"服務商appid"},{default:r((()=>[n(G,{modelValue:V.form.weixin_service.app_id,"onUpdate:modelValue":m[8]||(m[8]=e=>V.form.weixin_service.app_id=e),placeholder:"服務商appid",class:"max-w460"},null,8,["modelValue"]),C])),_:1}),n(T,{label:"apiclient_cert.pem"},{default:r((()=>[n(G,{type:"textarea",rows:4,placeholder:"使用文字編輯器開啟apiclient_cert.pem檔案，將檔案的全部內容複製進來",modelValue:V.form.weixin_service.cert_pem,"onUpdate:modelValue":m[9]||(m[9]=e=>V.form.weixin_service.cert_pem=e),class:"max-w460"},null,8,["modelValue"]),S])),_:1}),n(T,{label:"apiclient_key.pem"},{default:r((()=>[n(G,{type:"textarea",rows:4,placeholder:"使用文字編輯器開啟apiclient_cert.pem檔案，將檔案的全部內容複製進來",modelValue:V.form.weixin_service.key_pem,"onUpdate:modelValue":m[10]||(m[10]=e=>V.form.weixin_service.key_pem=e),class:"max-w460"},null,8,["modelValue"]),K])),_:1})],64)):f("",!0),R,n(T,{label:"最大圖片上傳"},{default:r((()=>[n(G,{modelValue:V.form.storage.max_image,"onUpdate:modelValue":m[11]||(m[11]=e=>V.form.storage.max_image=e),class:"max-w460"},{append:r((()=>[p("M")])),_:1},8,["modelValue"]),D])),_:1}),n(T,{label:"最大影片上傳"},{default:r((()=>[n(G,{modelValue:V.form.storage.max_video,"onUpdate:modelValue":m[12]||(m[12]=e=>V.form.storage.max_video=e),class:"max-w460"},{append:r((()=>[p("M")])),_:1},8,["modelValue"]),E])),_:1}),n(T,{label:"預設上傳方式"},{default:r((()=>[c("div",null,[n(X,{modelValue:V.form.storage.default,"onUpdate:modelValue":m[13]||(m[13]=e=>V.form.storage.default=e),label:"local",onChange:e.getRadio},{default:r((()=>[p("本地 (不推薦)")])),_:1},8,["modelValue","onChange"]),n(X,{modelValue:V.form.storage.default,"onUpdate:modelValue":m[14]||(m[14]=e=>V.form.storage.default=e),label:"qiniu",onChange:e.getRadio},{default:r((()=>[p("七牛雲端儲存")])),_:1},8,["modelValue","onChange"]),n(X,{modelValue:V.form.storage.default,"onUpdate:modelValue":m[15]||(m[15]=e=>V.form.storage.default=e),label:"aliyun",onChange:e.getRadio},{default:r((()=>[p("阿里雲OSS")])),_:1},8,["modelValue","onChange"]),n(X,{modelValue:V.form.storage.default,"onUpdate:modelValue":m[16]||(m[16]=e=>V.form.storage.default=e),label:"qcloud",onChange:e.getRadio},{default:r((()=>[p("騰訊雲COS")])),_:1},8,["modelValue","onChange"])])])),_:1}),"qiniu"==V.form.storage.default?(u(),t("div",A,[n(T,{label:"儲存空間名稱 Bucket"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qiniu.bucket,"onUpdate:modelValue":m[17]||(m[17]=e=>V.form.storage.engine.qiniu.bucket=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),n(T,{label:"ACCESS_KEY AK"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qiniu.access_key,"onUpdate:modelValue":m[18]||(m[18]=e=>V.form.storage.engine.qiniu.access_key=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),n(T,{label:"SECRET_KEY SK"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qiniu.secret_key,"onUpdate:modelValue":m[19]||(m[19]=e=>V.form.storage.engine.qiniu.secret_key=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),n(T,{label:"空間域名 Domain"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qiniu.domain,"onUpdate:modelValue":m[20]||(m[20]=e=>V.form.storage.engine.qiniu.domain=e),class:"max-w460"},null,8,["modelValue"]),I])),_:1})])):f("",!0),"aliyun"==V.form.storage.default?(u(),t("div",B,[n(T,{label:"儲存空間名稱 Bucket"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.aliyun.bucket,"onUpdate:modelValue":m[21]||(m[21]=e=>V.form.storage.engine.aliyun.bucket=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),n(T,{label:"AccessKeyId"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.aliyun.access_key_id,"onUpdate:modelValue":m[22]||(m[22]=e=>V.form.storage.engine.aliyun.access_key_id=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),n(T,{label:"AccessKeySecret"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.aliyun.access_key_secret,"onUpdate:modelValue":m[23]||(m[23]=e=>V.form.storage.engine.aliyun.access_key_secret=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),n(T,{label:"空間域名 Domain"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.aliyun.domain,"onUpdate:modelValue":m[24]||(m[24]=e=>V.form.storage.engine.aliyun.domain=e),class:"max-w460"},null,8,["modelValue"]),O])),_:1})])):f("",!0),"qcloud"==V.form.storage.default?(u(),t("div",P,[n(T,{label:"儲存空間名稱 Bucket"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qcloud.bucket,"onUpdate:modelValue":m[25]||(m[25]=e=>V.form.storage.engine.qcloud.bucket=e)},null,8,["modelValue"])])),_:1}),n(T,{label:"所屬地域 Region"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qcloud.region,"onUpdate:modelValue":m[26]||(m[26]=e=>V.form.storage.engine.qcloud.region=e)},null,8,["modelValue"]),M])),_:1}),n(T,{label:"SecretId"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qcloud.secret_id,"onUpdate:modelValue":m[27]||(m[27]=e=>V.form.storage.engine.qcloud.secret_id=e)},null,8,["modelValue"])])),_:1}),n(T,{label:"SecretKey"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qcloud.secret_key,"onUpdate:modelValue":m[28]||(m[28]=e=>V.form.storage.engine.qcloud.secret_key=e)},null,8,["modelValue"])])),_:1}),n(T,{label:"空間域名 Domain"},{default:r((()=>[n(G,{modelValue:V.form.storage.engine.qcloud.domain,"onUpdate:modelValue":m[29]||(m[29]=e=>V.form.storage.engine.qcloud.domain=e)},null,8,["modelValue"]),Y])),_:1})])):f("",!0),c("div",$,[n(F,{type:"primary",onClick:z.onSubmit,loading:V.loading},{default:r((()=>[p("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"])])}]]);export{z as default};
