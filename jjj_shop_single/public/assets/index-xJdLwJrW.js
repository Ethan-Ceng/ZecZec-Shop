/* empty css             *//* empty css             *//* empty css               *//* empty css                 *//* empty css                  *//* empty css              */import{d as E,e as b,u as C,f as g,o as S,c as B,a as t,b as s,g as o,w as l,F as R,h as j,r as z,E as I,i as N,j as U,k as q,l as L,m as M,n as $,p as T,_ as A}from"./index-CCr7jDqf.js";import{F as D}from"./index-tgq5S6HQ.js";import{u as G}from"./loading-a_aMpdwj.js";const H={class:"login-wrapper"},J={class:"sm:max-w-xl flex items-center justify-center bg-white px-8 md:px-16 w-full sm:w-4/5"},K={class:"max-w-sm w-full py-16"},O={class:"whitespace-nowrap flex items-center mb-16",href:"/"},P={class:"inline-block mr-6 relative after:absolute after:w-px after:h-6 after:m-auto after:bg-gray-500 after:inset-y-0 after:right-0"},Q={class:"mb-8"},W={class:"flex justify-between items-center mb-6"},X={class:"text-center text-gray-800 text-sm"},Y=E({__name:"index",setup(Z){const w=j(),x=b(""),{loading:c,setLoading:m}=G(),_=C(),u=b(),r=g({email:"",password:""}),v=g({email:[{required:!0,type:"email",message:"請輸入正確郵箱",trigger:"change"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{min:6,max:20,message:"密碼長度 6 至 20",trigger:"blur"}]}),y=async a=>{a&&await a.validate((e,i)=>{e?(console.log("submit!"),k({...r})):console.log("error submit!",i)})},k=async a=>{m(!0);try{await _.login(a),U.success("登入成功"),await w.replace("/")}catch{x.value=err.msg}finally{m(!1)}};return(a,e)=>{const i=q,d=z("router-link"),p=L,f=M,h=$,V=T,F=I;return S(),B(R,null,[t("div",H,[e[15]||(e[15]=t("div",{class:"gallery flex-1 invisible sm:visible relative overflow-hidden"},null,-1)),t("div",J,[t("div",K,[t("a",O,[t("h2",P,[s(i,{class:"mr-6 h-16",name:"logo",size:"80px"})]),e[3]||(e[3]=t("h3",{class:"inline-block"},"一起讓美好的事物發生",-1))]),e[13]||(e[13]=t("h1",{class:"font-bold text-3xl mb-4"},"登入",-1)),t("h4",Q,[e[5]||(e[5]=o("尚未成為會員？ ")),s(d,{class:"text-blue-600 font-bold underline",to:"/register"},{default:l(()=>e[4]||(e[4]=[o("註冊帳號")])),_:1}),e[6]||(e[6]=o(" 。 "))]),e[14]||(e[14]=t("a",{class:"font-bold bg-fb text-white hover:text-white py-3 block w-full text-center rounded-full hover:brightness-90 hover:shadow mb-8",rel:"nofollow","data-method":"post",href:"/users/auth/facebook"}," 使用 Facebook 登入或註冊 ",-1)),s(F,{ref_key:"formStateRef",ref:u,size:"large",model:r,rules:v,"label-width":"auto","label-position":"top"},{default:l(()=>[s(f,{label:"電子信箱",prop:"email"},{default:l(()=>[s(p,{modelValue:r.email,"onUpdate:modelValue":e[0]||(e[0]=n=>r.email=n)},null,8,["modelValue"])]),_:1}),s(f,{label:"密碼",prop:"password"},{default:l(()=>[s(p,{type:"password",modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=n=>r.password=n),"show-password":""},null,8,["modelValue"])]),_:1}),t("div",W,[s(h,null,{default:l(()=>e[7]||(e[7]=[o("記住我")])),_:1}),e[8]||(e[8]=t("a",{class:"text-sm text-gray-800 hover:text-blue-600 underline",href:"/users/password/new"},"忘記密碼？",-1))]),s(V,{loading:N(c),type:"success",round:"",size:"large",class:"w-full mb-8",onClick:e[2]||(e[2]=n=>y(u.value))},{default:l(()=>e[9]||(e[9]=[o(" 登入 ")])),_:1},8,["loading"]),t("p",X,[e[11]||(e[11]=o(" 繼續進行代表你同意 ")),s(d,{class:"text-blue-600",target:"_blank",to:"/agreement"},{default:l(()=>e[10]||(e[10]=[o("服務條款")])),_:1}),e[12]||(e[12]=o(" 。 "))])]),_:1},8,["model","rules"])])])]),s(D)],64)}}}),me=A(Y,[["__scopeId","data-v-6cb6611a"]]);export{me as default};
