/* empty css             *//* empty css             *//* empty css               *//* empty css                  *//* empty css              */import{d as E,e as f,u as V,f as p,o as S,c as B,a as t,b as s,g as o,w as r,F as C,h as R,r as z,E as I,i as N,j,k as q,l as L,m as M,p as U,_ as $}from"./index-CCr7jDqf.js";import{F as T}from"./index-tgq5S6HQ.js";import{u as A}from"./loading-a_aMpdwj.js";const D={class:"login-wrapper"},G={class:"sm:max-w-xl flex items-center justify-center bg-white px-8 md:px-16 w-full sm:w-4/5"},H={class:"max-w-sm w-full py-16"},J={class:"whitespace-nowrap flex items-center mb-16",href:"/"},K={class:"inline-block mr-6 relative after:absolute after:w-px after:h-6 after:m-auto after:bg-gray-500 after:inset-y-0 after:right-0"},O={class:"mb-8"},P=E({__name:"password",setup(Q){const g=R(),b=f(""),{loading:c,setLoading:i}=A(),w=V(),m=f(),a=p({email:"",password:""}),x=p({email:[{required:!0,type:"email",message:"請輸入正確郵箱",trigger:"change"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{min:6,max:20,message:"密碼長度 6 至 20",trigger:"blur"}]}),_=async l=>{l&&await l.validate((e,n)=>{e?(console.log("submit!"),v({...a})):console.log("error submit!",n)})},v=async l=>{i(!0);try{await w.login(l),j.success("登入成功"),await g.replace("/")}catch{b.value=err.msg}finally{i(!1)}};return(l,e)=>{const n=q,u=z("router-link"),y=L,k=M,h=U,F=I;return S(),B(C,null,[t("div",D,[e[12]||(e[12]=t("div",{class:"gallery flex-1 invisible sm:visible relative overflow-hidden"},null,-1)),t("div",G,[t("div",H,[t("a",J,[t("h2",K,[s(n,{class:"mr-6 h-16",name:"logo",size:"80px"})]),e[2]||(e[2]=t("h3",{class:"inline-block"},"一起讓美好的事物發生",-1))]),e[10]||(e[10]=t("h1",{class:"font-bold text-3xl mb-4"},"忘記密碼",-1)),t("h4",O,[e[5]||(e[5]=o("回到 ")),s(u,{class:"text-blue-600 font-bold underline",to:"/login"},{default:r(()=>e[3]||(e[3]=[o("登入")])),_:1}),e[6]||(e[6]=o(" 或 ")),s(u,{class:"text-blue-600 font-bold underline",to:"/register"},{default:r(()=>e[4]||(e[4]=[o("註冊帳號")])),_:1}),e[7]||(e[7]=o("。"))]),e[11]||(e[11]=t("a",{class:"font-bold bg-fb text-white hover:text-white py-3 block w-full text-center rounded-full hover:brightness-90 hover:shadow mb-8",rel:"nofollow","data-method":"post",href:"/users/auth/facebook"}," 使用 Facebook 登入或註冊 ",-1)),s(F,{ref_key:"formStateRef",ref:m,size:"large",model:a,rules:x,"label-width":"auto","label-position":"top"},{default:r(()=>[s(k,{label:"輸入你註冊會員的電子信箱",prop:"email"},{default:r(()=>[s(y,{modelValue:a.email,"onUpdate:modelValue":e[0]||(e[0]=d=>a.email=d)},null,8,["modelValue"])]),_:1}),s(h,{loading:N(c),type:"success",round:"",size:"large",class:"w-full mb-8",onClick:e[1]||(e[1]=d=>_(m.value))},{default:r(()=>e[8]||(e[8]=[o(" 重設密碼 ")])),_:1},8,["loading"]),e[9]||(e[9]=t("p",{class:"text-center text-gray-800 text-sm"}," 完成後，請依密碼重設信執行即可登入。 ",-1))]),_:1},8,["model","rules"])])])]),s(T)],64)}}}),le=$(P,[["__scopeId","data-v-68148495"]]);export{le as default};
