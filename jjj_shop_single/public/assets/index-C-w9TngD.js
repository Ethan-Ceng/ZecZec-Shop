/* empty css             *//* empty css                   *//* empty css               *//* empty css                  *//* empty css               *//* empty css                      *//* empty css              */import{d as j,e as V,f as z,t as F,o as _,c as y,a as s,b as t,w as o,i as x,F as E,x as h,S as M,T as N,D as T,l as q,K as A,Q as J,U as K,M as C,A as O,g as d,V as Q,W as R,p as W,I as $,J as G}from"./index-CCr7jDqf.js";import{u as H}from"./loading-a_aMpdwj.js";import{g as X}from"./product-BXEgIn4-.js";import{u as Y,_ as Z}from"./index.vue_vue_type_script_setup_true_lang-BisjSUFi.js";import{g as S}from"./get-CAfd8AwD.js";const ee={class:"bg-zec-bg"},te={class:"container lg:py-8 py-4 lg:px-0 px-4 cf"},le={class:"flex items-center justify-between space-y-2"},oe={class:"flex items-center"},ae={class:"flex-auto"},se={class:"flex-auto"},ne={class:"flex xs:w-auto xs:flex-row justify-end"},re={class:"inline-block align-middle xs:w-auto grow mb-2 xs:mb-0"},ie={class:"bg-white ml-2"},ue={class:"container"},de={class:"flex flex-wrap lg:-mx-4"},pe={class:"flex justify-center mb-16 mt-16"},Ce=j({__name:"index",setup(ce){const v=M(),k=Y(),w=V([]),{loading:_e,setLoading:b}=H(!1),r=z({p_type:"",category_id:"",search:""}),g=V([]),i=z({pageSize:32,current:1,total:0}),m=async(u={})=>{var e,n;b(!0);try{let p={page:i.current,list_rows:i.pageSize,...r};u&&(p={...p,...u});const{data:a}=await X(p);a&&(a!=null&&a.list)&&(g.value=((e=a==null?void 0:a.list)==null?void 0:e.data)||[],i.total=((n=a==null?void 0:a.list)==null?void 0:n.total)||0),console.log(g.value)}catch{}finally{b(!1)}},D=u=>{m({page:u})},f=()=>{i.current=1,m()};return F(async()=>{w.value=await k.getCategory();const u=S(v,"query.type"),e=S(v,"query.category_id");u&&(r.p_type=u-0),e&&(r.category_id=e-0),await m()}),(u,e)=>{const n=R,p=N,a=T,I=q,U=W,c=$,B=G,L=A,P=J;return _(),y("div",ee,[s("div",te,[s("div",le,[s("div",oe,[s("div",ae,[t(p,{modelValue:r.p_type,"onUpdate:modelValue":e[0]||(e[0]=l=>r.p_type=l),placeholder:"專案性質",size:"large",style:{"min-width":"140px"},onChange:f},{default:o(()=>[t(n,{label:"全部",value:""}),t(n,{label:"群眾集資",value:1}),t(n,{label:"預購式專案",value:2}),t(n,{label:"訂閱式專案",value:3}),t(n,{label:"再登場專案",value:4})]),_:1},8,["modelValue"])]),t(a,{class:"mx-2 align-middle"},{default:o(()=>[t(x(K))]),_:1}),s("div",se,[t(p,{modelValue:r.category_id,"onUpdate:modelValue":e[1]||(e[1]=l=>r.category_id=l),placeholder:"主題分類",size:"large",style:{"min-width":"140px"},onChange:f},{default:o(()=>[t(n,{label:"全部",value:""}),(_(!0),y(E,null,h(w.value,l=>(_(),C(n,{key:l.category_id,value:l.category_id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),s("div",ne,[s("div",re,[t(I,{modelValue:r.search,"onUpdate:modelValue":e[2]||(e[2]=l=>r.search=l),style:{width:"240px"},placeholder:"搜尋計畫","prefix-icon":x(O),onChange:f},null,8,["modelValue","prefix-icon"])]),s("div",ie,[t(L,{trigger:"click"},{dropdown:o(()=>[t(B,null,{default:o(()=>[t(c,null,{default:o(()=>e[6]||(e[6]=[d("所有計畫")])),_:1}),t(c,null,{default:o(()=>e[7]||(e[7]=[d("現正熱門")])),_:1}),t(c,null,{default:o(()=>e[8]||(e[8]=[d("近期成功")])),_:1}),t(c,null,{default:o(()=>e[9]||(e[9]=[d("專案金額")])),_:1}),t(c,null,{default:o(()=>e[10]||(e[10]=[d("支援人次")])),_:1}),t(c,null,{default:o(()=>e[11]||(e[11]=[d("最後衝刺")])),_:1}),t(c,null,{default:o(()=>e[12]||(e[12]=[d("最新啟動")])),_:1})]),_:1})]),default:o(()=>[t(U,{class:"el-dropdown-link"},{default:o(()=>[e[5]||(e[5]=d(" 排序 ")),t(a,{class:"el-icon--right"},{default:o(()=>[t(x(Q))]),_:1})]),_:1})]),_:1})])])])]),s("div",ue,[s("div",de,[(_(!0),y(E,null,h(g.value,l=>(_(),C(Z,{key:l.product_id,"data-source":l},null,8,["data-source"]))),128))]),s("div",pe,[t(P,{size:"large",layout:"prev, pager, next","current-page":i.current,"onUpdate:currentPage":e[3]||(e[3]=l=>i.current=l),"page-size":i.pageSize,"onUpdate:pageSize":e[4]||(e[4]=l=>i.pageSize=l),total:i.total,onCurrentChange:D},null,8,["current-page","page-size","total"])])])])}}});export{Ce as default};
