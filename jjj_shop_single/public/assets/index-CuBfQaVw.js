import{g as N}from"./product-BXEgIn4-.js";import{g as r}from"./get-CAfd8AwD.js";import{u as F}from"./loading-a_aMpdwj.js";import{l as V,u as R,_ as E}from"./index.vue_vue_type_script_setup_true_lang-BisjSUFi.js";import{d as C,e as z,t as S,r as B,o as i,c as b,a as e,b as _,w as h,i as n,y as a,F as y,x as T,M as j,g as k,_ as M,N as P,f as U,O as A,P as I,Q as O,R as Q,k as q}from"./index-CCr7jDqf.js";/* empty css             *//* empty css                *//* empty css                   *//* empty css               *//* empty css                  */const G={class:"bg-zec-bg pt-4"},H={class:"container px-4 md:px-0"},J=["src"],K={class:"flex items-center relative py-3 md:py-4 md:px-6 leading-loose md:space-x-6 border-zec-darkgreen bg-zec-darkgreen"},W={class:"font-semibold text-white md:text-xl line-clamp-2 md:line-clamp-1 md:flex-1 w-full md:w-auto px-4 md:px-0"},X={class:"flex md:flex-row-reverse items-center space-x-4 md:flex-initial px-4 md:px-0 justify-between w-full md:w-auto"},Y={class:"leading-none text-white text-sm md:hidden"},Z={class:"text-white"},ee={class:"md:text-2xl font-semibold"},te={class:"text-white"},se={class:"font-semibold"},oe={class:"absolute -top-4 left-4 md:left-0 mb-12 text-white text-sm font-semibold rounded flex items-center border-zec-darkgreen bg-zec-darkgreen"},le={class:"leading-none text-white hidden md:block pl-3 py-2 last:pr-3"},ne={class:"leading-none text-white inline-block px-3 py-2"},re={class:"container px-4 md:px-0 py-8 grid grid-cols-4 gap-6"},ae=["src"],de={class:"flex flex-col flex-1 px-3 lg:p-4 justify-between"},ce={class:"font-bold text-sm xs:text-base mb-2 line-clamp-2"},ie={class:"flex justify-between font-bold items-center"},pe={class:"text-sm md:text-base w-full xs:w-auto mb-1 text-zec-blue-600"},ue={class:"text-gray-700 text-xs text-right bg-primary-200 rounded px-1 mb-1 leading-relaxed"},_e=C({__name:"recommend",setup(v){const{loading:p,setLoading:d}=F(!1),c=z({}),g=z([]),m=async()=>{var u;d(!0);try{let l={sortType:"all",page:1,list_row:5};const{data:t}=await N(l);if(t&&(t!=null&&t.list)){let s=((u=t==null?void 0:t.list)==null?void 0:u.data)||[];c.value=s.shift(),g.value=s}}catch{}finally{d(!1)}};return S(()=>{m()}),(u,l)=>{const t=B("router-link");return i(),b("div",G,[e("div",H,[_(t,{class:"rounded flex flex-col overflow-hidden block group shadow-md",to:{path:`/project/${c.value.product_id}`}},{default:h(()=>[e("img",{width:"1600",height:"900",class:"rounded-t bg-cover overflow-hidden bg-zinc-100 aspect-video object-cover block group-hover:scale-105 transition-all duration-500 ease-out",src:n(r)(c.value,"product_image")},null,8,J),e("div",K,[e("h2",W,a(n(r)(c.value,"product_name")),1),l[2]||(l[2]=e("div",{class:"border-t border-white w-full mt-2 pb-2 md:hidden"},null,-1)),e("div",X,[e("h3",Y,a(n(r)(c.value,"type_text")),1),e("h3",Z,[e("span",ee,"NT$ "+a(n(r)(c.value,"total_money")),1)]),e("h3",te,[e("span",se,a(n(r)(c.value,"product_sales")),1),l[0]||(l[0]=e("span",{class:"text-xs sm:text-sm"},"人支援",-1))])]),e("div",oe,[e("h4",le,a(n(r)(c.value,"product_name")),1),l[1]||(l[1]=e("div",{class:"h-3 w-px bg-white inline-block ml-3 hidden md:block"},null,-1)),e("h4",ne," 剩下 "+a(n(V)(n(r)(c.value,"active_time[1]")))+" 天 ",1)])])]),_:1},8,["to"])]),e("div",re,[(i(!0),b(y,null,T(g.value,s=>(i(),j(t,{key:s.product_id,class:"col-span-4 flex md:col-span-2 rounded xs:bg-white xs:shadow",to:{path:`/project/${s.product_id}`}},{default:h(()=>[e("img",{width:"1600",height:"900",class:"h-24 lg:h-36 rounded xs:rounded-none xs:rounded-s w-auto object-cover aspect-video",src:n(r)(s,"product_image")},null,8,ae),e("div",de,[e("h3",ce,a(n(r)(s,"product_name","")),1),e("div",ie,[e("h5",pe," NT$ "+a(n(r)(s,"total_money","")),1),e("h5",ue,[k(a(n(r)(s,"product_sales",""))+" ",1),l[3]||(l[3]=e("span",{class:"text-xs"},"人支援",-1))])])])]),_:2},1032,["to"]))),128))])])}}}),xe=M(_e,[["__scopeId","data-v-41c81f0f"]]),ge={class:"bg-zec-bg py-8"},be={class:"container border-t py-2 border-gray-200 text-center lg:mb-0 border-b tracking-widest"},me={class:"block whitespace-nowrap overflow-auto py-2"},fe=C({__name:"navbar",setup(v){const p=R(),d=z([]);return S(async()=>{d.value=await p.getCategory()}),(c,g)=>{const m=B("router-link");return i(),b("div",ge,[e("div",be,[g[0]||(g[0]=e("div",{class:"-mt-2 px-2 left-50 text-xs offset-center absolute text-gray-500 bg-zec-bg"},"探索專案類別",-1)),e("div",me,[(i(!0),b(y,null,T(d.value,u=>(i(),j(m,{key:u.category_id,class:"text-sm px-4 sm:px-6 py-2 text-black hover:text-zec-green",to:`/category?category_id=${u.category_id}`},{default:h(()=>[k(a(u.name),1)]),_:2},1032,["to"]))),128))])])])}}}),he={class:"container"},ye={class:"flex items-center justify-between p-4 mb-4 lg:px-0"},ve={class:"text-2xl font-bold"},we={class:"flex lg:-mx-4"},$e={class:"flex justify-center mb-16 mt-16"},L=C({__name:"category-list",props:{productType:{type:Number,default:()=>1}},setup(v){const p=v,d=P(()=>{if(p.productType===1)return"群眾集資";if(p.productType===2)return"預購式專案";if(p.productType===3)return"訂閱式專案";if(p.productType===4)return"再登場專案"}),c=P(()=>{if(p.productType===1)return"bg-zec-green hover:bg-zec-darkgreen";if(p.productType===2)return"bg-zec-blue hover:bg-zec-darkblue";if(p.productType===3)return"bg-zec-purple hover:bg-zec-darkpurple";if(p.productType===4)return"bg-zec-cyan hover:bg-zec-darkcyan"}),{loading:g,setLoading:m}=F(!1),u=z([]),l=U({pageSize:12,current:1,total:100}),t=async(f={})=>{var o,D;m(!0);try{let w={p_type:p.productType,page:l.current,list_row:l.pageSize};f&&(w={...w,...f});const{data:x}=await N(w);x&&(x!=null&&x.list)&&(u.value=((o=x==null?void 0:x.list)==null?void 0:o.data)||[],l.total=((D=x==null?void 0:x.list)==null?void 0:D.total)||0),console.log(u.value)}catch{}finally{m(!1)}},s=f=>{t({page:f})};return S(async()=>{await t()}),(f,o)=>{const D=B("router-link"),w=O,x=Q;return A((i(),b("div",he,[e("div",ye,[e("h2",ve,a(d.value),1),_(D,{class:I(["inline-block text-base font-bold px-3 py-1 rounded text-white",c.value]),to:`/category?type=${v.productType}`},{default:h(()=>o[2]||(o[2]=[k("更多 > ")])),_:1},8,["class","to"])]),e("div",we,[(i(!0),b(y,null,T(u.value,$=>(i(),j(E,{key:$.product_id,"data-source":$},null,8,["data-source"]))),128))]),e("div",$e,[_(w,{size:"large",layout:"prev, pager, next","current-page":l.current,"onUpdate:currentPage":o[0]||(o[0]=$=>l.current=$),"page-size":l.pageSize,"onUpdate:pageSize":o[1]||(o[1]=$=>l.pageSize=$),total:l.total,onCurrentChange:s},null,8,["current-page","page-size","total"])])])),[[x,n(g)]])}}}),ke={class:"border-t border-gray-200 pb-16"},ze={class:"container"},Te={class:"flex items-center justify-between my-4 p-4 lg:px-0"},je={class:"flex lg:-mx-4"},Ce={class:"bg-white h-full rounded pb-4 flex flex-col group-hover:shadow-md"},De=["src","data-src"],Le={class:"flex flex-col flex-1 h-full justify-between px-3"},Ne={class:"my-4 font-bold leading-relaxed line-clamp-3"},Se={class:"flex items-center pb-2 space-x-2"},Be={class:"text-xs flex-initial text-zec-green"},Fe={class:"flex items-center space-x-2"},Pe={class:"text-sm font-semibold flex-1"},Ve={class:"text-sm font-semibold flex items-center text-zec-green"},Re={class:"text-sm inline-block mr-px"},Ee={class:"border-t border-gray-200 pb-16"},Me={class:"container"},Ue={class:"flex lg:-mx-4"},Ae={class:"bg-white h-full rounded pb-4 flex flex-col group-hover:shadow-md"},Ie=["src","data-src"],Oe={class:"flex flex-col flex-1 h-full justify-between px-3"},Qe={class:"my-4 font-bold leading-relaxed line-clamp-3"},qe={class:"flex items-center pb-2 space-x-2"},Ge={class:"text-xs flex-initial text-zec-green"},He={class:"flex items-center space-x-2"},Je={class:"text-sm font-semibold flex-1"},Ke={class:"text-sm font-semibold flex items-center text-zec-green"},We={class:"text-sm inline-block mr-px"},Xe=C({__name:"renew-list",setup(v){const{loading:p,setLoading:d}=F(!1),c=z([]),g=z([]),m=async()=>{var l;d(!0);try{let t={scope:"recently_ended",page:1,list_row:3};const{data:s}=await N(t);s&&(s!=null&&s.list)&&(c.value=((l=s==null?void 0:s.list)==null?void 0:l.data)||[])}catch{}finally{d(!1)}},u=async()=>{var l;d(!0);try{let t={scope:"recently_ended",page:1,list_row:3};const{data:s}=await N(t);s&&(s!=null&&s.list)&&(g.value=((l=s==null?void 0:s.list)==null?void 0:l.data)||[])}catch{}finally{d(!1)}};return S(async()=>{await m(),await u()}),(l,t)=>{const s=B("router-link"),f=q;return i(),b(y,null,[e("div",ke,[e("div",ze,[e("div",Te,[t[1]||(t[1]=e("h2",{class:"text-2xl font-bold"},"近期成功計畫",-1)),_(s,{class:"inline-block text-base font-bold px-3 py-1 rounded text-white bg-zec-green hover:bg-zec-darkgreen",to:"/category?scope=recently_ended"},{default:h(()=>t[0]||(t[0]=[k("更多 > ")])),_:1})]),e("div",je,[(i(!0),b(y,null,T(c.value,o=>(i(),j(s,{key:o.product_id,class:"overflow-hidden inline-block text-black rounded xs:w-1/2 lg:w-1/3 px-4 pb-4 mb-4 group",to:`/project/${o.product_id}`},{default:h(()=>[e("div",Ce,[e("img",{src:o.product_image,"data-src":o.product_image,width:"1600",height:"900",class:"rounded-t bg-zinc-100 placeholder-16:9 aspect-video object-cover lazy block entered loaded","data-ll-status":"loaded"},null,8,De),e("div",Le,[e("h3",Ne,a(n(r)(o,"product_name","")),1),e("div",null,[e("div",Se,[t[2]||(t[2]=e("div",{class:"relative flex-1"},[e("div",{class:"border-4 absolute w-full rounded border-zec-green bg-zec-green",style:{width:"100%"}}),e("div",{class:"border-4 border-gray-200 bg-gray-200 rounded"})],-1)),e("h4",Be,a((n(r)(o,"total_money",1)/n(r)(o,"target_money",1)).toFixed(1))+"% ",1)]),e("div",Fe,[e("h4",Pe," NT$ "+a(n(r)(o,"total_money","")),1),e("h4",Ve,[_(f,{class:"text-sm text-gray-500 leading-none align-middle mr-px",name:"user"}),e("span",Re,a(n(r)(o,"product_sales","")),1),t[3]||(t[3]=k(" 人 "))]),t[4]||(t[4]=e("span",{class:"inline-block font-bold text-xs text-white px-2 py-1 rounded border-zec-green bg-zec-green"},"集資成功",-1))])])])])]),_:2},1032,["to"]))),128))])])]),e("div",Ee,[e("div",Me,[t[8]||(t[8]=e("div",{class:"flex items-center justify-between my-4 p-4 lg:px-0"},[e("h2",{class:"text-2xl font-bold"},"經典計畫")],-1)),e("div",Ue,[(i(!0),b(y,null,T(g.value,o=>(i(),j(s,{key:o.product_id,class:"overflow-hidden inline-block text-black rounded xs:w-1/2 lg:w-1/3 px-4 pb-4 mb-4 group",to:`/project/${o.product_id}`},{default:h(()=>[e("div",Ae,[e("img",{width:"1600",height:"900",class:"rounded-t bg-zinc-100 placeholder-16:9 aspect-video object-cover lazy block entered loaded",src:o.product_image,"data-src":o.product_image,"data-ll-status":"loaded"},null,8,Ie),e("div",Oe,[e("h3",Qe,a(n(r)(o,"product_name","")),1),e("div",null,[e("div",qe,[t[5]||(t[5]=e("div",{class:"relative flex-1"},[e("div",{class:"border-4 absolute w-full rounded border-zec-green bg-zec-green",style:{width:"100%"}}),e("div",{class:"border-4 border-gray-200 bg-gray-200 rounded"})],-1)),e("h4",Ge,a((n(r)(o,"total_money",1)/n(r)(o,"target_money",1)).toFixed(1))+"% ",1)]),e("div",He,[e("h4",Je," NT$ "+a(n(r)(o,"total_money","")),1),e("h4",Ke,[_(f,{class:"text-sm text-gray-500 leading-none align-middle mr-px",name:"user"}),e("span",We,a(n(r)(o,"product_sales",""))+"6",1),t[6]||(t[6]=k(" 人 "))]),t[7]||(t[7]=e("span",{class:"inline-block font-bold text-xs text-white px-2 py-1 rounded border-zec-green bg-zec-green"},"集資成功",-1))])])])])]),_:2},1032,["to"]))),128))])])])],64)}}}),Ye={class:"bg-zec-bg"},Ze={class:"border-t border-gray-200 pb-16"},et={class:"border-t border-gray-200 pb-16"},tt={class:"border-t border-gray-200 pb-16"},ut=C({__name:"index",setup(v){return(p,d)=>(i(),b(y,null,[d[0]||(d[0]=e("div",{class:"container"},null,-1)),_(xe),_(fe),e("div",Ye,[_(L,{"product-type":1}),e("div",Ze,[_(L,{"product-type":2})]),e("div",et,[_(L,{"product-type":4})]),e("div",tt,[_(L,{"product-type":3})])]),_(Xe)],64))}});export{ut as default};
