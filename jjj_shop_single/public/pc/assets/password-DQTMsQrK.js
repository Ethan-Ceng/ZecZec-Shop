/* empty css             *//* empty css                  *//* empty css               *//* empty css              */import{d as E,e as f,u as I,f as p,o as V,c as z,a as e,b as s,h as o,w as l,F as B,j as C,r as R,l as N,m as j,p as q,n as L,z as M,E as U,q as $,s as P,t as T,x as A,_ as D}from"./index-BWcYl31F.js";import{F as G}from"./index-TDlUl9zq.js";import{u as H}from"./loading-DZi2qnJz.js";const i=n=>(q("data-v-f593a15a"),n=n(),L(),n),J={class:"login-wrapper"},K=i(()=>e("div",{class:"gallery flex-1 invisible sm:visible relative overflow-hidden"},null,-1)),O={class:"sm:max-w-xl flex items-center justify-center bg-white px-8 md:px-16 w-full sm:w-4/5"},Q={class:"max-w-sm w-full py-16"},W={class:"whitespace-nowrap flex items-center mb-16",href:"/"},X={class:"inline-block mr-6 relative after:absolute after:w-px after:h-6 after:m-auto after:bg-gray-500 after:inset-y-0 after:right-0"},Y=i(()=>e("h3",{class:"inline-block"},"一起讓美好的事物發生",-1)),Z=i(()=>e("h1",{class:"font-bold text-3xl mb-4"},"忘記密碼",-1)),ee={class:"mb-8"},te=i(()=>e("p",{class:"text-center text-gray-800 text-sm"}," 完成後，請依密碼重設信執行即可登入。 ",-1)),se=E({__name:"password",setup(n){const g=C(),h=f(""),{loading:b,setLoading:m}=H();I();const d=f(),r=p({email:""}),x=p({email:[{required:!0,type:"email",message:"請輸入正確郵箱",trigger:"change"}]}),w=async a=>{a&&await a.validate((t,c)=>{t?(console.log("submit!"),v({...r})):console.log("error submit!",c)})},v=async a=>{m(!0);try{const{msg:t}=await M(a);U.success(t||"登入成功"),await g.replace("/login")}catch{h.value=err.msg}finally{m(!1)}};return(a,t)=>{const c=$,_=R("router-link"),y=P,k=T,F=A,S=N;return V(),z(B,null,[e("div",J,[K,e("div",O,[e("div",Q,[e("a",W,[e("h2",X,[s(c,{class:"mr-6 h-16",name:"logo",size:"80px"})]),Y]),Z,e("h4",ee,[o(" 回到 "),s(_,{class:"text-blue-600 font-bold underline",to:"/login"},{default:l(()=>[o("登入")]),_:1}),o(" 或 "),s(_,{class:"text-blue-600 font-bold underline",to:"/register"},{default:l(()=>[o("註冊帳號")]),_:1}),o("。 ")]),s(S,{ref_key:"formStateRef",ref:d,size:"large",model:r,rules:x,"label-width":"auto","label-position":"top"},{default:l(()=>[s(k,{label:"輸入你註冊會員的電子信箱",prop:"email"},{default:l(()=>[s(y,{modelValue:r.email,"onUpdate:modelValue":t[0]||(t[0]=u=>r.email=u)},null,8,["modelValue"])]),_:1}),s(F,{loading:j(b),type:"success",round:"",size:"large",class:"w-full mb-8",onClick:t[1]||(t[1]=u=>w(d.value))},{default:l(()=>[o(" 重設密碼 ")]),_:1},8,["loading"]),te]),_:1},8,["model","rules"])])])]),s(G)],64)}}}),me=D(se,[["__scopeId","data-v-f593a15a"]]);export{me as default};
