/* empty css             *//* empty css                   *//* empty css               *//* empty css                  *//* empty css               *//* empty css                      *//* empty css              */import{d as P,e as b,f as V,g as j,o as _,c as y,a as s,b as e,w as a,m as x,F as z,D as E,i as F,Z as q,N as M,s as R,S as T,X as $,$ as A,U as C,K,h as u,a0 as O,a1 as Q,x as X,Q as Z,R as G}from"./index-BWcYl31F.js";import{u as H}from"./loading-DZi2qnJz.js";import{g as J}from"./product-Bc4eezU8.js";import{u as W,_ as Y}from"./index.vue_vue_type_script_setup_true_lang-CUqe4nOL.js";import{g as S}from"./get-Bnx5vrHs.js";const ee={class:"bg-zec-bg"},te={class:"container lg:py-8 py-4 lg:px-0 px-4 cf"},le={class:"flex items-center justify-between space-y-2"},ae={class:"flex items-center"},oe={class:"flex-auto"},se={class:"flex-auto"},ne={class:"flex xs:w-auto xs:flex-row justify-end"},re={class:"inline-block align-middle xs:w-auto grow mb-2 xs:mb-0"},ie={class:"bg-white ml-2"},ce={class:"container"},ue={class:"flex flex-wrap lg:-mx-4"},de={class:"flex justify-center mb-16 mt-16"},Ce=P({__name:"index",setup(pe){const v=F(),k=W(),h=b([]),{loading:_e,setLoading:w}=H(!1),r=V({p_type:"",category_id:"",search:""}),g=b([]),i=V({pageSize:32,current:1,total:0}),m=async(c={})=>{var t,n;w(!0);try{let d={page:i.current,list_rows:i.pageSize,...r};c&&(d={...d,...c});const{data:o}=await J(d);o&&(o!=null&&o.list)&&(g.value=((t=o==null?void 0:o.list)==null?void 0:t.data)||[],i.total=((n=o==null?void 0:o.list)==null?void 0:n.total)||0),console.log(g.value)}catch{}finally{w(!1)}},D=c=>{m({page:c})},f=()=>{i.current=1,m()};return j(async()=>{h.value=await k.getCategory();const c=S(v,"query.type"),t=S(v,"query.category_id");c&&(r.p_type=c-0),t&&(r.category_id=t-0),await m()}),(c,t)=>{const n=Q,d=q,o=M,U=R,B=X,p=Z,I=G,L=T,N=$;return _(),y("div",ee,[s("div",te,[s("div",le,[s("div",ae,[s("div",oe,[e(d,{modelValue:r.p_type,"onUpdate:modelValue":t[0]||(t[0]=l=>r.p_type=l),placeholder:"專案性質",size:"large",style:{"min-width":"140px"},onChange:f},{default:a(()=>[e(n,{label:"全部",value:""}),e(n,{label:"群眾集資",value:1}),e(n,{label:"預購式專案",value:2}),e(n,{label:"訂閱式專案",value:3}),e(n,{label:"再登場專案",value:4})]),_:1},8,["modelValue"])]),e(o,{class:"mx-2 align-middle"},{default:a(()=>[e(x(A))]),_:1}),s("div",se,[e(d,{modelValue:r.category_id,"onUpdate:modelValue":t[1]||(t[1]=l=>r.category_id=l),placeholder:"主題分類",size:"large",style:{"min-width":"140px"},onChange:f},{default:a(()=>[e(n,{label:"全部",value:""}),(_(!0),y(z,null,E(h.value,l=>(_(),C(n,{key:l.category_id,value:l.category_id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),s("div",ne,[s("div",re,[e(U,{modelValue:r.search,"onUpdate:modelValue":t[2]||(t[2]=l=>r.search=l),style:{width:"240px"},placeholder:"搜尋計畫","prefix-icon":x(K),onChange:f},null,8,["modelValue","prefix-icon"])]),s("div",ie,[e(L,{trigger:"click"},{dropdown:a(()=>[e(I,null,{default:a(()=>[e(p,null,{default:a(()=>[u("所有計畫")]),_:1}),e(p,null,{default:a(()=>[u("現正熱門")]),_:1}),e(p,null,{default:a(()=>[u("近期成功")]),_:1}),e(p,null,{default:a(()=>[u("專案金額")]),_:1}),e(p,null,{default:a(()=>[u("支援人次")]),_:1}),e(p,null,{default:a(()=>[u("最後衝刺")]),_:1}),e(p,null,{default:a(()=>[u("最新啟動")]),_:1})]),_:1})]),default:a(()=>[e(B,{class:"el-dropdown-link"},{default:a(()=>[u(" 排序 "),e(o,{class:"el-icon--right"},{default:a(()=>[e(x(O))]),_:1})]),_:1})]),_:1})])])])]),s("div",ce,[s("div",ue,[(_(!0),y(z,null,E(g.value,l=>(_(),C(Y,{key:l.product_id,"data-source":l},null,8,["data-source"]))),128))]),s("div",de,[e(N,{size:"large",layout:"prev, pager, next","current-page":i.current,"onUpdate:currentPage":t[3]||(t[3]=l=>i.current=l),"page-size":i.pageSize,"onUpdate:pageSize":t[4]||(t[4]=l=>i.pageSize=l),total:i.total,onCurrentChange:D},null,8,["current-page","page-size","total"])])])])}}});export{Ce as default};
