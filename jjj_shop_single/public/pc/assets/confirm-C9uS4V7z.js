/* empty css             *//* empty css                  *//* empty css               *//* empty css              *//* empty css               *//* empty css                  */import{g as ue}from"./common-ZoWEQPsp.js";/* empty css                 */import{d as _e,u as pe,J as me,e as v,f as Z,V as K,g as be,a8 as fe,o as h,c as V,a as e,a3 as ve,m as d,G as _,b as t,w as r,F as U,i as he,j as xe,r as Q,l as ge,h as o,a4 as j,a5 as X,W as D,a9 as $,D as A,a7 as q,aa as ye,C as ze,U as F,ab as we,N as ke,v as Ve,ac as je,ad as De,ae as $e,t as Te,a1 as Ee,Z as Ne,s as Ue,x as Se,af as Ce,ag as Le,E as Y}from"./index-BWcYl31F.js";import{u as Ie}from"./loading-DZi2qnJz.js";import{b as Re}from"./product-Bc4eezU8.js";import{g as i}from"./get-Bnx5vrHs.js";import{g as Ae,b as Me,p as Be}from"./order-BzWLBEqD.js";const Oe={class:"border-t border-neutral-200 border-b"},qe={class:"container cf"},Fe={class:"w-full flex"},He={class:"inline-block lg:float-left w-full lg:w-1/3"},Pe={class:"py-2 lg:px-2 px-4 flex-1"},Ge={href:"/projects/in-z"},Je={class:"text-base mb-0 inline-block mt-1 text-base font-bold"},We={class:"text-neutral-600 text-xs mb-4"},Ze={class:"font-bold"},Ke={class:"text-xs text-neutral-600"},Qe={class:"container my-8"},Xe={class:"lg:-mx-4 flex"},Ye={class:"w-full px-4 mb-8"},et={class:"flex mb-16 text-sm -mx-4"},tt={class:"w-full px-4 lg:w-1/3"},lt={class:"p-4 border-2 border-inherit rounded text-neutral-200 mb-8 block"},ot=["data-src","src"],st={class:"text-gray-600 font-bold mt-4 mb-2"},at={class:"text-black font-bold text-xl flex items-center"},nt=e("span",{class:"inline-block text-xs font-bold text-black bg-yellow-300 leading-relaxed px-2 ml-2 rounded-sm"},"69 折",-1),rt={class:"w-full text-gray-500 font-normal text-xs"},dt={class:"line-through"},it={class:"text-xs my-2"},ct={class:"text-xs text-white px-2 py-1 bg-zec-red font-bold inline-block"},ut={class:"text-black px-2 py-1 bg-zinc-100 inline-block"},_t={class:"font-bold"},pt={class:"maxh5 maxh-none-ns overflow-y-auto break-all"},mt={class:"text-black text-sm mv-child-0 flex flex-col space-y-4 leading-relaxed"},bt=["innerHTML"],ft={class:"mt-4 pt-4 border-t text-gray-800 text-xs flex"},vt={class:"mr-2 -indent-4 pl-4 leading-relaxed"},ht={class:"mr-2 -indent-4 pl-4 leading-relaxed"},xt={class:"mr-2 -indent-4 pl-4 leading-relaxed"},gt={class:"mr-2 -indent-4 pl-4 leading-relaxed"},yt={class:"text-center text-xs text-gray-600 pt-4 mt-4 border-t"},zt=e("div",{class:"flex items-center"},[e("div",{class:"whitespace-nowrap font-bold"},[o(" 使用 "),e("label",{class:"mb-0 inline-block",for:"order_coupon_code"},"折扣碼")]),e("div",{class:"whitespace-nowrap text-right flex-1"},[e("input",{spellcheck:"false",class:"text-right w-1/2 rounded border-2 boder-zec-blue text-zec-blue mb-0 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue js-coupon_code",type:"text",name:"order[coupon_code]",id:"order_coupon_code"})])],-1),wt={class:"block w-full border-0 js-preview-sum",id:"preview"},kt={class:"flex items-start text-sm py-2 mt-4"},Vt=e("div",{class:"whitespace-nowrap font-bold flex-auto"},"選項金額",-1),jt={class:"whitespace-nowrap text-right"},Dt={class:"flex items-start text-sm py-2 border-t-1 border-gray-300"},$t=e("div",{class:"whitespace-nowrap font-bold flex-auto"}," 運費 ：臺灣（本島） ",-1),Tt={class:"whitespace-nowrap text-right"},Et={class:"flex items-start text-xl pb-2 pt-4 border-t-4 border-gray-300"},Nt=e("div",{class:"whitespace-nowrap font-bold flex-auto"},"總價",-1),Ut={class:"whitespace-nowrap text-right"},St={class:"w-full px-4 lg:w-2/3"},Ct=e("div",{class:"xs:hidden block pt-2",id:"details"},null,-1),Lt={class:"js-option-details"},It={class:"mb-8 border-b border-neutral-200"},Rt=e("h3",{class:"font-bold mt-0 mb-4 text-sm"},"選擇加購商品",-1),At={class:"flex -mx-4 flex-nowrap overflow-auto pl-4 flex-stretch"},Mt={class:"bg-zinc-100 px-4 py-2 leading-none block mb-0"},Bt={class:"p-4 border-2 border-inherit rounded text-neutral-200 mb-8 block"},Ot={class:"text-gray-600 font-bold mt-4 mb-2"},qt={class:"text-black font-bold text-xl flex items-center"},Ft=e("span",{class:"inline-block text-xs font-bold text-black bg-yellow-300 leading-relaxed px-2 ml-2 rounded-sm"},"69 折",-1),Ht={class:"w-full text-gray-500 font-normal text-xs"},Pt={class:"line-through"},Gt={class:"text-xs my-2"},Jt={class:"text-black px-2 py-1 bg-zinc-100 inline-block"},Wt={class:"font-bold"},Zt={class:"maxh5 maxh-none-ns overflow-y-auto break-all"},Kt={class:"text-black text-sm mv-child-0 flex flex-col space-y-4 leading-relaxed"},Qt=["innerHTML"],Xt={class:"mt-4 pt-4 border-t text-gray-800 text-xs flex"},Yt={class:"mr-2 -indent-4 pl-4 leading-relaxed"},el={class:"mr-2 -indent-4 pl-4 leading-relaxed"},tl={class:"mr-2 -indent-4 pl-4 leading-relaxed"},ll={class:"text-center text-xs text-gray-600 pt-4 mt-4 border-t"},ol={class:"js-variation-selection"},sl={class:"mt-8 js-payment-step"},al=e("h3",{class:"ml-2 flex-1"},[e("span",{class:"block font-bold"},"信用卡付款"),e("p",{class:"flex text-xs text-gray-800 flex mt-1"},[e("span",null,"可用銀聯卡"),o("、"),e("span",null,"可用國外卡")])],-1),nl=e("h3",{class:"ml-2 flex-1"},[e("span",{class:"block font-bold"},"ATM 轉帳或銀行臨櫃繳款"),e("span",{class:"mt-2 text-xs text-gray-800"},"需於指定時間內完成付款，超過時限則會取消交易")],-1),rl={class:"p-4 js-credit-card-warning border mt-2 rounded border-slate-200"},dl=e("ul",{class:"list-disc m-0 pl-4 text-slate-600"},[e("li",null,"您瞭解您的贊助是支援創意專案的一種方式，也瞭解創意實踐過程中充滿變數，專案不一定能確保回饋。")],-1),il=[dl],cl={class:"p-4 js-atm-warning border mt-2 rounded border-slate-200"},ul=e("ul",{class:"list-disc m-0 pl-4 text-slate-600"},[e("li",null," 您瞭解您的贊助是支援創意專案的一種方式，也瞭解創意實踐過程中充滿變數，專案不一定能確保回饋。 "),e("li",null,[o(" 虛擬帳號轉帳因要等待銀行於工作天回傳，"),e("b",null,"限量的選項可能會在入帳前售罄並造成贊助失敗"),o("。遇到例假日將會延後更新。若未來有遇到退款的情況，"),e("b",null,"退款金額會扣除轉帳交易所產生的手續費用"),o("。臨櫃繳款的截止期限，必須在週一至週五（不含例假日）的下午三點半前完成，"),e("b",null,"週六的郵局轉帳將會造成交易失敗"),o("。 ")])],-1),_l=[ul],pl=e("div",{class:"p-4 js-zero-card-warning border hidden mt-2 rounded border-slate-200"},[e("ul",{class:"list-disc m-0 pl-4 text-slate-600"},[e("li",null,"您瞭解您的贊助是支援創意專案的一種方式，也瞭解創意實踐過程中充滿變數，專案不一定能確保回饋。"),e("li",null," 您知悉且明瞭本募資專案屬預購性質，您與提案者之法律關係為買賣，如確定申請分期付款，不得以任何理由拒絕付款。 "),e("li",null,"zingala 銀角零卡為中租控股（股票代號 5871）仲信資融提供之免信用卡分期之支付方式。"),e("li",null,"透過 zingala 銀角零卡分期系統審核方可使用，首次使用需備身份證件。"),e("li",null,"相關資料僅供作 zingala 銀角零卡分期服務驗證使用者身分，嘖嘖網站不會儲存亦不會提交給其他團體或個人。 "),e("li",null,"原「中租零卡」於 2022 年 5 月更名為「zingala 銀角零卡」。")])],-1),ml={class:"mb-2 mt-4"},bl={class:"flex"},fl={class:"mt-4 flex-auto"},vl={class:"mt-4 flex-auto pl-4"},hl={class:"flex mt-4"},xl={class:"flex-auto"},gl={class:"mb-4 hidden"},yl=e("label",{class:"font-bold mb-2"},"超商取貨（選填）",-1),zl=e("div",{class:"js-store-info mr-4 inline-block",hidden:""},[e("div",{class:"inline-block border-2 py-2 px-4 rounded leading-none js-store-info-text"}),e("button",{class:"button-text js-store-cancel pointer leading-none ml-1 px-2 text-zec-red text-xl",type:"button"},"× ")],-1),wl={class:"inline-block js-choose-store reset-details","data-json":'{"01":"7-11","03":"全家","05":"萊爾富"}'},kl={class:"inline-block px-4 py-1 border border-current rounded mr-4"},Vl=e("div",{class:"flex border border-black rounded mt-2"},[e("button",{class:"hidden",type:"submit"},"default submit"),e("button",{class:"inline-block font-bold px-4 py-1 border-current border-r last:border-0 cursor-pointer",formnovalidate:"formnovalidate",name:"store_select",type:"submit",value:"01"},"7-11 ")],-1),jl=e("input",{class:"mb-4 w-full js-store-field",autocomplete:"off",type:"hidden",name:"order[ship_to_store]",id:"order_ship_to_store"},null,-1),Dl=e("div",{class:"mt-2 py-2 px-4 rounded border border-blue-600 bg-blue-100 text-blue-600 mv-child-0 text-xs"},[o(" 若有選擇此出貨方式，提案人將安排超商取貨；但若出貨時，選擇的超商因故不支援店取，提案人將把回饋品寄至收件地址。 "),e("br"),o(" 提案人保有寄送方式的最終決定權。 ")],-1),$l=e("div",{class:"p-4 rounded mb-4 bg-zinc-100 hidden"},[e("h3",{class:"border-b border-gray-200 pb-1 text-base mb-4 font-bold"},[o(" 回饋調查 "),e("div",{class:"text-xs"},[e("div",{class:"text-gray-500"},"計畫結束前，可以隨時到贊助紀錄修改答案。")])]),e("label",{class:"font-bold mt-4"},[o(" 請選擇「杯身」顏色 (集資期間可登入嘖嘖帳號，至「贊助紀錄」更改) "),e("select",{class:"zec w-full rounded px-2 mb-0 mt-1 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][99887]"},[e("option",{value:""},"選擇"),e("option",{value:"大杯｜不鏽鋼原色"}," 大杯｜不鏽鋼原色 "),e("option",{value:"大杯｜仙草黑"}," 大杯｜仙草黑 "),e("option",{value:"大杯｜砂糖白"}," 大杯｜砂糖白 "),e("option",{value:"大杯｜香草米"}," 大杯｜香草米 "),e("option",{value:"大杯｜丹寧藍"}," 大杯｜丹寧藍 "),e("option",{value:"大杯｜葡萄紫"}," 大杯｜葡萄紫 ")])]),e("label",{class:"font-bold mt-4"},[o(" 如有加購「肩揹帶」，請於此處選擇顏色 "),e("select",{class:"zec w-full rounded px-2 mb-0 mt-1 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100030]"},[e("option",{value:""},"選擇"),e("option",{value:"肩揹帶｜芝麻"}," 肩揹帶｜芝麻 "),e("option",{value:"肩揹帶｜沙灘"}," 肩揹帶｜沙灘 "),e("option",{value:"肩揹帶｜深焙"}," 肩揹帶｜深焙 ")])]),e("label",{class:"font-bold mt-4"},[o(" 如有加購「杯套」，請於此處選擇顏色 "),e("select",{class:"zec w-full rounded px-2 mb-0 mt-1 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100031]"},[e("option",{value:""},"選擇"),e("option",{value:"杯套｜芝麻"}," 杯套｜芝麻 "),e("option",{value:"杯套｜沙灘"}," 杯套｜沙灘 "),e("option",{value:"杯套｜深焙"}," 杯套｜深焙 ")])]),e("label",{class:"font-bold mt-4"},[o(" 如有加購「小包」，請於此處選擇顏色 "),e("select",{class:"zec w-full rounded px-2 mb-0 mt-1 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100032]"},[e("option",{value:""},"選擇"),e("option",{value:"小包｜奶茶米"}," 小包｜奶茶米 "),e("option",{value:"小包｜冬瓜綠"}," 小包｜冬瓜綠 "),e("option",{value:"小包｜珍珠黑"}," 小包｜珍珠黑 ")])]),e("label",{class:"font-bold mt-4"},[o(" 如有再加購「超早鳥獨享大杯」，請於此處選擇「杯身」顏色 "),e("select",{class:"zec w-full rounded px-2 mb-0 mt-1 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100109]"},[e("option",{value:""},"選擇"),e("option",{value:"大杯｜不鏽鋼原色"}," 大杯｜不鏽鋼原色 "),e("option",{value:"大杯｜仙草黑"}," 大杯｜仙草黑 "),e("option",{value:"大杯｜砂糖白"}," 大杯｜砂糖白 "),e("option",{value:"大杯｜香草米"}," 大杯｜香草米 "),e("option",{value:"大杯｜丹寧藍"}," 大杯｜丹寧藍 "),e("option",{value:"大杯｜葡萄紫"}," 大杯｜葡萄紫 ")])]),e("label",{class:"font-bold mt-4"},[o(" 若有合併訂單，請於此欄註記 "),e("input",{class:"w-full mb-0 mt-1 border border-gray-300 rounded px-2 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100137]",type:"text",value:""})]),e("label",{class:"font-bold mt-4"},[o(" 若配送有特殊要求，請於此欄註記 (ex. 管理員代收) "),e("input",{class:"w-full mb-0 mt-1 border border-gray-300 rounded px-2 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100138]",type:"text",value:""})]),e("label",{class:"font-bold mt-4"},[o(" 如有加購「杯袋」，請於此處選擇顏色 "),e("select",{class:"zec w-full rounded px-2 mb-0 mt-1 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[survey_answers][100182]"},[e("option",{value:""},"選擇"),e("option",{value:"杯袋｜芝麻"}," 杯袋｜芝麻 "),e("option",{value:"杯袋｜沙灘"}," 杯袋｜沙灘 "),e("option",{value:"杯袋｜深焙"}," 杯袋｜深焙 ")])])],-1),Tl={class:"my-4 p-4 rounded bg-zinc-100","data-controller":"invoice"},El={class:"flex"},Nl={class:"bg-red-100 p-4 js-zero-card-warning border border-red-200 mt-2 rounded hidden js-zero-card-section"},Ul=e("label",{class:"mt-4 font-bold",for:"order_installment"},[o("zingala 銀角零卡分期/ 分期期數 "),e("select",{class:"zec px-2 mb-0 w-full rounded js-zero-card-input border-red-200 focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",disabled:"disabled",name:"order[installment]",id:"order_installment"},[e("option",{value:""},"- 選擇分期期數 -")])],-1),Sl=e("label",{class:"mt-4 font-bold",for:"order_zero_card_buyer_name"},[o("zingala 銀角零卡分期/ 姓名 "),e("input",{placeholder:"姓名",maxlength:"10",class:"w-full border-red-200 rounded js-zero-card-input focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",size:"10",type:"text",name:"order[zero_card_buyer_name]",id:"order_zero_card_buyer_name"})],-1),Cl=e("label",{class:"mt-4 font-bold",for:"order_zero_card_buyer_phone"},[o("zingala 銀角零卡分期/ 電話 "),e("input",{placeholder:"電話",maxlength:"20",minlength:"8",pattern:"[+]{0,1}[0-9]+",class:"w-full border-red-200 rounded js-zero-card-input focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",size:"20",type:"text",name:"order[zero_card_buyer_phone]",id:"order_zero_card_buyer_phone"})],-1),Ll=e("label",{class:"mt-4 font-bold",for:"order_zero_card_buyer_email"},[o("zingala 銀角零卡分期/ Email "),e("input",{placeholder:"Email",type:"email",class:"w-full border-red-200 rounded js-zero-card-input focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",name:"order[zero_card_buyer_email]",id:"order_zero_card_buyer_email"})],-1),Il=e("label",{class:"mt-4 font-bold",for:"order_zero_card_buyer_id"},[o("zingala 銀角零卡分期/ 身份證字號 "),e("input",{placeholder:"身份證字號",minlength:"10",maxlength:"10",class:"w-full border-red-200 rounded js-zero-card-input focus:outline-none focus:ring-1 focus:ring-zec-blue focus:border-zec-blue",size:"10",type:"text",name:"order[zero_card_buyer_id]",id:"order_zero_card_buyer_id"})],-1),Rl={class:"text-sm"},Al={class:"font-bold ml-2"},Ml={class:"js-sum"},Bl=e("a",{class:"text-neutral-600 text-sm inline-block my-2 xs:hidden",href:"#preview"},[e("i",{class:"material-icons align-middle text-sm mr-1"},"help_outline"),o(" 金額細節 ")],-1),Ol=e("p",{class:"text-xs text-neutral-600 mt-2 leading-tight"},[o(" 提案人有權決定是否接受贊助。"),e("br"),o("如提案人因故決定不接受贊助，將會取消贊助並主動退還贊助款項。 ")],-1),oo=_e({__name:"confirm",setup(ql){const M=he(),ee=xe(),H=pe(),{userDetail:x}=me(H),{loading:Fl,setLoading:g}=Ie(!1),S=v(null),w=v({}),P=v(null),p=v({}),T=v([]),L=v([]),y=v(!0),G=v(),a=Z({payment_method:"credit_card",extra_payment:0,province_id:"",city_id:"",region_id:"",detail:"",postcode:"",name:"",phone:"",remark:"",invoice_type:"personal",invoice_carrier:"",invoice_ubn:"",invoice_heading:"",consented:!1}),te=Z({province_id:[{required:!0,message:"請選擇",trigger:"blur"}],city_id:[{required:!0,message:"請選擇",trigger:"blur"}],region_id:[{required:!0,message:"請選擇",trigger:"blur"}],name:[{required:!0,message:"請再次確認是否與證件名稱相符，若不正確可能造成投遞失敗。",trigger:"change"}],phone:[{required:!0,message:"請輸入手機號碼",trigger:"blur"},{min:8,max:20,message:"請填寫真實手機號碼，至少 8 碼",trigger:"blur"}]}),le=async n=>{if(n){g(!0);try{const{data:l}=await Re(n);if(l&&l.detail){let u=i(l,"detail.product_multi_spec.spec_attr[0].spec_items",[])||[],c=l.detail.sku||[];c=c.map(m=>{let f=u.find(E=>E.item_id-0===m.spec_sku_id-0);return{...m,spec_item:f}}),w.value={...l.detail,sku:c},L.value=c.filter(m=>m.type-0!==0),p.value=c.find(m=>m.product_sku_id-0===P.value-0),console.log(w.value,p.value),await W()}console.log(tableData.value)}catch{}finally{g(!1)}}},I=v([]),R=v([]),oe=async()=>{try{const{data:n}=await ue();n&&n.regionData&&(I.value=n.regionData||[],R.value=n.regionData[0]||[],x.value.addressDefault&&(a.province_id=i(x.value,"addressDefault.province_id"),a.city_id=i(x.value,"addressDefault.city_id"),a.region_id=i(x.value,"addressDefault.region_id"),a.detail=i(x.value,"addressDefault.detail"),a.name=i(x.value,"addressDefault.name"),a.phone=i(x.value,"addressDefault.phone")))}catch{}},se=K(()=>{const n=R.value.findIndex(l=>l.value===a.province_id);return n!==-1?i(I.value,`[1][${n}]`)||[]:[]}),ae=K(()=>{const n=R.value.findIndex(l=>l.value===a.province_id);if(n!==-1){const u=(i(I.value,`[1][${n}]`)||[]).findIndex(c=>c.value===a.city_id);if(u!==-1)return i(I.value,`[2][${n}][${u}]`)||[]}return[]});be(()=>{const n=i(M,"params.id"),l=i(M,"params.skuId");console.log({id:n,skuId:l,route:M}),n&&(S.value=n-0,P.value=l-0,le(n)),oe()});const J=async n=>{try{n.address_id?await Ce(n):await Le(n),await H.fetchUserInfo()}catch{}},z=v({}),W=async()=>{g(!0);let n=p.value.product_price-0,l=[{product_id:S.value,product_sku_id:p.value.spec_sku_id,product_num:1}];T.value.length&&T.value.forEach(u=>{l.push({product_id:S.value,product_sku_id:u,product_num:1}),n=n+(u.product_price-0)});try{const{remark:u}=a;let c={products:l,delivery:0,coupon_id:0,is_use_points:1,store_id:0,pay_source:"h5",remark:u};const{code:m,data:f}=await Ae(c);m==1&&f.orderInfo?(z.value=f.orderInfo,console.log(z.value)):z.value={order_price:n,express_price:0,order_total_price:n}}catch{z.value={order_price:n,express_price:0,order_total_price:n}}finally{g(!1)}},ne=async()=>{g(!0);try{const{remark:n}=a;let l=[{product_id:S.value,product_sku_id:p.value.spec_sku_id,product_num:1}];T.value.length&&T.value.forEach(f=>{l.push({product_id:S.value,product_sku_id:f,product_num:1})});let u={products:l,delivery:0,coupon_id:0,is_use_points:1,store_id:0,pay_source:"h5",remark:n};const{code:c,data:{order_id:m}}=await Me(u);c===1&&m&&(Y.success("訂購成功"),await re(m))}catch{}finally{g(!1)}},re=async n=>{g(!0);try{const l={order_id:n,payType:10,pay_source:"h5",use_balance:1},{msg:u}=await Be(l);Y.success(u||"支付成功"),await ee.replace({path:`/order/detail/${n}`})}catch{errorMessage.value=err.msg}finally{g(!1)}};fe([()=>a.province_id,()=>a.city_id,()=>a.region_id,()=>a.detail,()=>a.name,()=>a.phone],([n,l,u,c,m,f])=>{var E,k,C,b;n&&l&&u&&c&&m&&f&&((k=(E=x.value)==null?void 0:E.addressDefault)!=null&&k.address_id?J({address_id:(b=(C=x.value)==null?void 0:C.addressDefault)==null?void 0:b.address_id,province_id:n,city_id:l,region_id:u,detail:c,name:m,phone:f,is_default:1}):J({province_id:n,city_id:l,region_id:u,detail:c,name:m,phone:f,is_default:1}))},{deep:!0});const de=async n=>{n&&await n.validate((l,u)=>{l?(console.log("submit!"),ne()):console.log("error submit!",u)})};return(n,l)=>{const u=Q("router-link"),c=ke,m=Ve,f=je,E=Q("include-fragment"),k=De,C=$e,b=Te,B=Ee,O=Ne,N=Ue,ie=Se,ce=ge;return h(),V(U,null,[e("div",Oe,[e("div",qe,[e("div",Fe,[e("div",He,[e("div",{class:"aspect-ratio-project-cover bg-zinc-100 lg:mr-6",style:ve(`background-image: url('${d(i)(w.value,"product_image","")}')`)},null,4)]),e("div",Pe,[e("a",Ge,[e("h2",Je,_(d(i)(w.value,"product_name","")),1)]),e("div",We,_(d(i)(w.value,"type_text","")),1),e("span",Ze,"NT$ "+_(d(i)(w.value,"total_money","")),1),e("span",Ke," / 目標 NT$ "+_(d(i)(w.value,"total_money","")),1)])])])]),e("div",Qe,[e("div",Xe,[e("div",Ye,[t(ce,{ref_key:"formStateRef",ref:G,size:"large",model:a,rules:te,"label-position":"top",class:"js-previewable-sum"},{default:r(()=>[e("div",et,[e("div",tt,[t(u,{class:"float-right m-4 rounded-full font-bold text-xs py-1 px-2 bg-neutral-200 text-center text-neutral-600 leading-none",to:{path:`/order/${p.value.product_id}`}},{default:r(()=>[o("更改回饋 ")]),_:1},8,["to"]),e("div",lt,[e("img",{width:"600",height:"200",class:"lazy placeholder-3:1 w-full h-auto mb-2 round-s entered loaded","data-src":d(i)(p.value,"image.file_path"),src:d(i)(p.value,"image.file_path"),"data-ll-status":"loaded"},null,8,ot),e("div",st,_(d(i)(p.value,"spec_item.spec_value")),1),e("div",at,[o(" NT$ "+_(d(i)(p.value,"product_price"))+" ",1),nt,e("p",rt,[o(" 預定售價 "),e("span",dt,"NT$ "+_(d(i)(p.value,"line_price")),1),o(" ，現省 NT$ "+_(d(i)(p.value,"line_price")-d(i)(p.value,"product_price")),1)])]),e("div",it,[e("span",ct," 剩餘 "+_(d(i)(p.value,"stock_num"))+" 份 ",1),e("span",ut,[o(" 已被贊助 "),e("span",_t,_(d(i)(p.value,"product_sales")),1),o(" / "+_(d(i)(p.value,"stock_num")+d(i)(p.value,"product_sales"))+" 次 ",1)])]),e("div",pt,[e("div",mt,[e("div",{innerHTML:d(i)(p.value,"detail")},null,8,bt)])]),e("ul",ft,[e("li",vt,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 可選擇加購商品 ")]),e("li",ht,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 可選 7-11 取貨 ")]),e("li",xt,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 臺灣本島、離島免運 ")]),e("li",gt,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 可寄送至 香港、澳門、馬來西亞 等地區 ")])]),e("div",yt,[t(c,{size:"14"},{default:r(()=>[t(d(X))]),_:1}),o(" 預計於 2025 年二月實現 ")])]),zt,e("div",wt,[e("div",kt,[Vt,e("div",jt," NT$ "+_(d(i)(z.value,"order_price",0)),1)]),e("div",Dt,[$t,e("div",Tt," + NT$ "+_(d(i)(z.value,"express_price",0)),1)]),e("div",Et,[Nt,e("div",Ut," NT$ "+_(d(i)(z.value,"order_total_price",0)),1)])])]),e("div",St,[Ct,L.value.length?(h(),V(U,{key:0},[D(e("div",Lt,[e("div",It,[Rt,t(f,{modelValue:T.value,"onUpdate:modelValue":l[0]||(l[0]=s=>T.value=s),onChange:W},{default:r(()=>[e("div",At,[(h(!0),V(U,null,A(L.value,s=>(h(),V("div",{key:s.spec_sku_id,class:"shrink-0 w-64 pr-4"},[e("label",Mt,[t(m,{value:s.spec_sku_id},{default:r(()=>[o("選擇")]),_:2},1032,["value"])]),e("div",Bt,[e("div",Ot,_(d(i)(s,"spec_item.spec_value")),1),e("div",qt,[o(" NT$ "+_(d(i)(s,"product_price"))+" ",1),Ft,e("p",Ht,[o(" 預定售價 "),e("span",Pt,"NT$ "+_(d(i)(s,"line_price")),1),o(" ，現省 NT$ "+_(d(i)(s,"line_price")-d(i)(s,"product_price")),1)])]),e("div",Gt,[e("span",Jt,[o(" 已被贊助 "),e("span",Wt,_(d(i)(s,"product_sales")),1),o(" 次 ")])]),e("div",Zt,[e("div",Kt,[e("div",{innerHTML:d(i)(s,"detail")},null,8,Qt)])]),e("ul",Xt,[e("li",Yt,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 可選 7-11 取貨 ")]),e("li",el,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 臺灣本島、離島免運 ")]),e("li",tl,[t(c,{size:"14",color:"#229f2a"},{default:r(()=>[t(d(j))]),_:1}),o(" 可寄送至 香港、澳門、馬來西亞 等地區 ")])]),e("div",ll,[t(c,{size:"14"},{default:r(()=>[t(d(X))]),_:1}),o(" 預計於 2025 年二月實現 ")])])]))),128))])]),_:1},8,["modelValue"])]),e("div",ol,[t(E,{class:"block mb-8 js-variations-fragment","data-src":"/order_variations/135367"})])],512),[[$,y.value]]),D(e("button",{onClick:l[1]||(l[1]=s=>y.value=!y.value),class:"button inline-block border-2 border-zec-green rounded p-4 w-full text-left text-zec-green hover:bg-zec-green hover:text-white font-bold js-show-payment-details",type:"button"},[o(" 選擇付款方式 "),t(c,{class:"align-middle text-sm ml-2"},{default:r(()=>[t(d(q))]),_:1})],512),[[$,y.value]]),D(e("button",{onClick:l[2]||(l[2]=s=>y.value=!y.value),class:"inline-block border-2 border-current rounded p-4 w-full text-left text-neutral-400 hover:text-neutral-600 font-bold js-show-option-details",type:"button"},[t(c,{class:"align-middle text-sm ml-2"},{default:r(()=>[t(d(ye))]),_:1}),o(" 顯示品項細節 "),t(c,{class:"align-middle text-sm ml-2"},{default:r(()=>[t(d(q))]),_:1})],512),[[$,!y.value]])],64)):ze("",!0),D(e("div",sl,[t(b,{label:"付款方式",prop:"payment_method"},{default:r(()=>[t(C,{class:"w-full",modelValue:a.payment_method,"onUpdate:modelValue":l[3]||(l[3]=s=>a.payment_method=s)},{default:r(()=>[t(k,{value:"credit_card",class:"w-full mb-2 rounded hover:bg-zinc-200 cursor-pointer bg-zinc-100 px-4 py-2 payment-method-option flex items-center min-h-14",style:{"margin-right":"0"}},{default:r(()=>[al]),_:1}),t(k,{value:"atm",class:"w-full mb-2 rounded hover:bg-zinc-200 cursor-pointer bg-zinc-100 px-4 py-2 payment-method-option flex items-center min-h-14"},{default:r(()=>[nl]),_:1})]),_:1},8,["modelValue"])]),_:1}),D(e("div",rl,il,512),[[$,a.payment_method==="credit_card"]]),D(e("div",cl,_l,512),[[$,a.payment_method==="atm"]]),pl,e("div",ml,[t(b,{label:"收件地點",prop:"province_id"},{default:r(()=>[t(O,{modelValue:a.province_id,"onUpdate:modelValue":l[4]||(l[4]=s=>a.province_id=s),placeholder:"請選擇收件地點"},{default:r(()=>[(h(!0),V(U,null,A(R.value,s=>(h(),F(B,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),e("div",bl,[e("div",fl,[t(b,{label:"縣市",prop:"city_id"},{default:r(()=>[t(O,{modelValue:a.city_id,"onUpdate:modelValue":l[5]||(l[5]=s=>a.city_id=s),placeholder:"請選擇縣市"},{default:r(()=>[(h(!0),V(U,null,A(se.value,s=>(h(),F(B,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),e("div",vl,[t(b,{label:"鄉鎮市區",prop:"region_id"},{default:r(()=>[t(O,{modelValue:a.region_id,"onUpdate:modelValue":l[6]||(l[6]=s=>a.region_id=s),placeholder:"請選擇鄉鎮市區"},{default:r(()=>[(h(!0),V(U,null,A(ae.value,s=>(h(),F(B,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),e("div",hl,[e("div",xl,[t(b,{label:"地址",prop:"detail"},{default:r(()=>[t(N,{modelValue:a.detail,"onUpdate:modelValue":l[7]||(l[7]=s=>a.detail=s),maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})])]),e("div",gl,[yl,zl,e("details",wl,[e("summary",kl,[o(" 選擇 "),t(c,{class:"align-middle text-sm"},{default:r(()=>[t(d(q))]),_:1})]),Vl]),jl,Dl]),t(b,{label:"收件人",prop:"name"},{default:r(()=>[t(N,{modelValue:a.name,"onUpdate:modelValue":l[8]||(l[8]=s=>a.name=s),placeholder:"請輸入真實姓名，以利出貨作業進行"},null,8,["modelValue"])]),_:1}),t(b,{label:"聯絡電話",prop:"phone"},{default:r(()=>[t(N,{modelValue:a.phone,"onUpdate:modelValue":l[9]||(l[9]=s=>a.phone=s),placeholder:"請填寫真實手機號碼，以利取貨或聯絡收貨",maxlength:"20"},null,8,["modelValue"])]),_:1}),$l,e("div",Tl,[t(b,{label:"發票資訊",prop:"invoice_type"},{default:r(()=>[t(C,{modelValue:a.invoice_type,"onUpdate:modelValue":l[10]||(l[10]=s=>a.invoice_type=s)},{default:r(()=>[t(k,{value:"personal"},{default:r(()=>[o("個人發票")]),_:1}),t(k,{value:"commercial"},{default:r(()=>[o("公司發票")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,{class:"hidden",label:"手機載具",prop:"invoice_carrier"},{default:r(()=>[t(N,{modelValue:a.invoice_carrier,"onUpdate:modelValue":l[11]||(l[11]=s=>a.invoice_carrier=s),placeholder:"例：/AB1CD23",maxlength:"20"},null,8,["modelValue"])]),_:1}),D(e("div",El,[t(b,{class:"mr-4",label:"發票統編",prop:"invoice_ubn"},{default:r(()=>[t(N,{modelValue:a.invoice_ubn,"onUpdate:modelValue":l[12]||(l[12]=s=>a.invoice_ubn=s),placeholder:"例：12345678",maxlength:"20"},null,8,["modelValue"])]),_:1}),t(b,{class:"mr-4",label:"發票抬頭",prop:"invoice_heading"},{default:r(()=>[t(N,{modelValue:a.invoice_heading,"onUpdate:modelValue":l[13]||(l[13]=s=>a.invoice_heading=s),placeholder:"例：12345678",maxlength:"20"},null,8,["modelValue"])]),_:1})],512),[[$,a.invoice_type==="commercial"]])]),e("div",Nl,[t(c,{class:"material-icons text-sm align-middle",size:"14"},{default:r(()=>[t(d(we))]),_:1}),o(" 以下資料僅供作 zingala 銀角零卡分期服務驗證使用者身分，嘖嘖網站不會儲存亦不會提交給其他團體或個人。 "),Ul,Sl,Cl,Ll,Il]),t(b,{class:"mt-4",prop:"consented"},{default:r(()=>[t(m,{modelValue:a.consented,"onUpdate:modelValue":l[14]||(l[14]=s=>a.consented=s)},{default:r(()=>[e("span",Rl,[o(" 我已閱讀並同意 "),t(u,{to:"/agreement",target:"_blank"},{default:r(()=>[o("嘖嘖服務條款")]),_:1}),o("與 "),t(u,{href:"/privacy",target:"_blank"},{default:r(()=>[o("隱私權政策")]),_:1}),o("。 ")])]),_:1},8,["modelValue"])]),_:1}),t(ie,{type:"success",plain:"",onClick:l[15]||(l[15]=s=>de(G.value)),class:"block lg:inline-block text-zec-green font-bold border-2 border-zec-green mt-4 rounded px-16 py-2 hover:border-zec-green hover:bg-zec-green hover:text-white"},{default:r(()=>[o(" 立即贊助 "),e("span",Al,[o("NT$"),e("span",Ml,_(d(i)(z.value,"order_pay_price",0)),1)])]),_:1}),Bl,Ol],512),[[$,!y.value||L.value.length==0]])])])]),_:1},8,["model","rules"])])])])],64)}}});export{oo as default};
