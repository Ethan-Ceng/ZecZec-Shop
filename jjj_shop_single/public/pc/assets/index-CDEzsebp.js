import{g as L}from"./product-Bc4eezU8.js";import{g as c}from"./get-Bnx5vrHs.js";import{u as B}from"./loading-DZi2qnJz.js";import{l as P,u as U,_ as E}from"./index.vue_vue_type_script_setup_true_lang-CUqe4nOL.js";import{d as D,e as z,g as N,r as I,o as d,c as g,a as e,b as u,w as y,m as o,G as a,F as v,D as T,U as j,h as k,p as R,n as q,_ as A,V as F,f as G,W as M,I as W,X,Y,q as H}from"./index-BWcYl31F.js";/* empty css             *//* empty css                *//* empty css                   *//* empty css               *//* empty css                  */const V=h=>(R("data-v-41c81f0f"),h=h(),q(),h),J={class:"bg-zec-bg pt-4"},K={class:"container px-4 md:px-0"},O=["src"],Q={class:"flex items-center relative py-3 md:py-4 md:px-6 leading-loose md:space-x-6 border-zec-darkgreen bg-zec-darkgreen"},Z={class:"font-semibold text-white md:text-xl line-clamp-2 md:line-clamp-1 md:flex-1 w-full md:w-auto px-4 md:px-0"},ee=V(()=>e("div",{class:"border-t border-white w-full mt-2 pb-2 md:hidden"},null,-1)),te={class:"flex md:flex-row-reverse items-center space-x-4 md:flex-initial px-4 md:px-0 justify-between w-full md:w-auto"},se={class:"leading-none text-white text-sm md:hidden"},oe={class:"text-white"},ce={class:"md:text-2xl font-semibold"},le={class:"text-white"},ne={class:"font-semibold"},ae=V(()=>e("span",{class:"text-xs sm:text-sm"},"人支援",-1)),re={class:"absolute -top-4 left-4 md:left-0 mb-12 text-white text-sm font-semibold rounded flex items-center border-zec-darkgreen bg-zec-darkgreen"},de={class:"leading-none text-white hidden md:block pl-3 py-2 last:pr-3"},ie=V(()=>e("div",{class:"h-3 w-px bg-white inline-block ml-3 hidden md:block"},null,-1)),_e={class:"leading-none text-white inline-block px-3 py-2"},pe={class:"container px-4 md:px-0 py-8 grid grid-cols-4 gap-6"},ue=["src"],xe={class:"flex flex-col flex-1 px-3 lg:p-4 justify-between"},he={class:"font-bold text-sm xs:text-base mb-2 line-clamp-2"},ge={class:"flex justify-between font-bold items-center"},be={class:"text-sm md:text-base w-full xs:w-auto mb-1 text-zec-blue-600"},fe={class:"text-gray-700 text-xs text-right bg-primary-200 rounded px-1 mb-1 leading-relaxed"},me=V(()=>e("span",{class:"text-xs"},"人支援",-1)),ye=D({__name:"recommend",setup(h){const{loading:i,setLoading:_}=B(!1),r=z({}),b=z([]),f=async()=>{var p;_(!0);try{let n={sortType:"all",page:1,list_row:5};const{data:l}=await L(n);if(l&&(l!=null&&l.list)){let t=((p=l==null?void 0:l.list)==null?void 0:p.data)||[];r.value=t.shift(),b.value=t}}catch{}finally{_(!1)}};return N(()=>{f()}),(p,n)=>{const l=I("router-link");return d(),g("div",J,[e("div",K,[u(l,{class:"rounded flex flex-col overflow-hidden block group shadow-md",to:{path:`/project/${r.value.product_id}`}},{default:y(()=>[e("img",{width:"1600",height:"900",class:"rounded-t bg-cover overflow-hidden bg-zinc-100 aspect-video object-cover block group-hover:scale-105 transition-all duration-500 ease-out",src:o(c)(r.value,"product_image")},null,8,O),e("div",Q,[e("h2",Z,a(o(c)(r.value,"product_name")),1),ee,e("div",te,[e("h3",se,a(o(c)(r.value,"type_text")),1),e("h3",oe,[e("span",ce,"NT$ "+a(o(c)(r.value,"total_money")),1)]),e("h3",le,[e("span",ne,a(o(c)(r.value,"product_sales")),1),ae])]),e("div",re,[e("h4",de,a(o(c)(r.value,"product_name")),1),ie,e("h4",_e," 剩下 "+a(o(P)(o(c)(r.value,"active_time[1]")))+" 天 ",1)])])]),_:1},8,["to"])]),e("div",pe,[(d(!0),g(v,null,T(b.value,t=>(d(),j(l,{key:t.product_id,class:"col-span-4 flex md:col-span-2 rounded xs:bg-white xs:shadow",to:{path:`/project/${t.product_id}`}},{default:y(()=>[e("img",{width:"1600",height:"900",class:"h-24 lg:h-36 rounded xs:rounded-none xs:rounded-s w-auto object-cover aspect-video",src:o(c)(t,"product_image")},null,8,ue),e("div",xe,[e("h3",he,a(o(c)(t,"product_name","")),1),e("div",ge,[e("h5",be," NT$ "+a(o(c)(t,"total_money","")),1),e("h5",fe,[k(a(o(c)(t,"product_sales",""))+" ",1),me])])])]),_:2},1032,["to"]))),128))])])}}}),ve=A(ye,[["__scopeId","data-v-41c81f0f"]]),we={class:"bg-zec-bg py-8"},$e={class:"container border-t py-2 border-gray-200 text-center lg:mb-0 border-b tracking-widest"},ke=e("div",{class:"-mt-2 px-2 left-50 text-xs offset-center absolute text-gray-500 bg-zec-bg"},"探索專案類別",-1),ze={class:"block whitespace-nowrap overflow-auto py-2"},Te=D({__name:"navbar",setup(h){const i=U(),_=z([]);return N(async()=>{_.value=await i.getCategory()}),(r,b)=>{const f=I("router-link");return d(),g("div",we,[e("div",$e,[ke,e("div",ze,[(d(!0),g(v,null,T(_.value,p=>(d(),j(f,{key:p.category_id,class:"text-sm px-4 sm:px-6 py-2 text-black hover:text-zec-green",to:`/category?category_id=${p.category_id}`},{default:y(()=>[k(a(p.name),1)]),_:2},1032,["to"]))),128))])])])}}}),je={class:"container"},De={class:"flex items-center justify-between p-4 mb-4 lg:px-0"},Se={class:"text-2xl font-bold"},Ce={class:"flex lg:-mx-4"},Le={class:"flex justify-center mb-16 mt-16"},C=D({__name:"category-list",props:{productType:{type:Number,default:()=>1}},setup(h){const i=h,_=F(()=>{if(i.productType===1)return"群眾集資";if(i.productType===2)return"預購式專案";if(i.productType===3)return"訂閱式專案";if(i.productType===4)return"再登場專案"}),r=F(()=>{if(i.productType===1)return"bg-zec-green hover:bg-zec-darkgreen";if(i.productType===2)return"bg-zec-blue hover:bg-zec-darkblue";if(i.productType===3)return"bg-zec-purple hover:bg-zec-darkpurple";if(i.productType===4)return"bg-zec-cyan hover:bg-zec-darkcyan"}),{loading:b,setLoading:f}=B(!1),p=z([]),n=G({pageSize:12,current:1,total:100}),l=async(m={})=>{var s,S;f(!0);try{let w={p_type:i.productType,page:n.current,list_row:n.pageSize};m&&(w={...w,...m});const{data:x}=await L(w);x&&(x!=null&&x.list)&&(p.value=((s=x==null?void 0:x.list)==null?void 0:s.data)||[],n.total=((S=x==null?void 0:x.list)==null?void 0:S.total)||0),console.log(p.value)}catch{}finally{f(!1)}},t=m=>{l({page:m})};return N(async()=>{await l()}),(m,s)=>{const S=I("router-link"),w=X,x=Y;return M((d(),g("div",je,[e("div",De,[e("h2",Se,a(_.value),1),u(S,{class:W(["inline-block text-base font-bold px-3 py-1 rounded text-white",r.value]),to:`/category?type=${h.productType}`},{default:y(()=>[k("更多 > ")]),_:1},8,["class","to"])]),e("div",Ce,[(d(!0),g(v,null,T(p.value,$=>(d(),j(E,{key:$.product_id,"data-source":$},null,8,["data-source"]))),128))]),e("div",Le,[u(w,{size:"large",layout:"prev, pager, next","current-page":n.current,"onUpdate:currentPage":s[0]||(s[0]=$=>n.current=$),"page-size":n.pageSize,"onUpdate:pageSize":s[1]||(s[1]=$=>n.pageSize=$),total:n.total,onCurrentChange:t},null,8,["current-page","page-size","total"])])])),[[x,o(b)]])}}}),Ne={class:"border-t border-gray-200 pb-16"},Ie={class:"container"},Ve={class:"flex items-center justify-between my-4 p-4 lg:px-0"},Be=e("h2",{class:"text-2xl font-bold"},"近期成功計畫",-1),Fe={class:"flex lg:-mx-4"},Pe={class:"bg-white h-full rounded pb-4 flex flex-col group-hover:shadow-md"},Ue=["src","data-src"],Ee={class:"flex flex-col flex-1 h-full justify-between px-3"},Re={class:"my-4 font-bold leading-relaxed line-clamp-3"},qe={class:"flex items-center pb-2 space-x-2"},Ae=e("div",{class:"relative flex-1"},[e("div",{class:"border-4 absolute w-full rounded border-zec-green bg-zec-green",style:{width:"100%"}}),e("div",{class:"border-4 border-gray-200 bg-gray-200 rounded"})],-1),Ge={class:"text-xs flex-initial text-zec-green"},Me={class:"flex items-center space-x-2"},We={class:"text-sm font-semibold flex-1"},Xe={class:"text-sm font-semibold flex items-center text-zec-green"},Ye={class:"text-sm inline-block mr-px"},He=e("span",{class:"inline-block font-bold text-xs text-white px-2 py-1 rounded border-zec-green bg-zec-green"},"集資成功",-1),Je={class:"border-t border-gray-200 pb-16"},Ke={class:"container"},Oe=e("div",{class:"flex items-center justify-between my-4 p-4 lg:px-0"},[e("h2",{class:"text-2xl font-bold"},"經典計畫")],-1),Qe={class:"flex lg:-mx-4"},Ze={class:"bg-white h-full rounded pb-4 flex flex-col group-hover:shadow-md"},et=["src","data-src"],tt={class:"flex flex-col flex-1 h-full justify-between px-3"},st={class:"my-4 font-bold leading-relaxed line-clamp-3"},ot={class:"flex items-center pb-2 space-x-2"},ct=e("div",{class:"relative flex-1"},[e("div",{class:"border-4 absolute w-full rounded border-zec-green bg-zec-green",style:{width:"100%"}}),e("div",{class:"border-4 border-gray-200 bg-gray-200 rounded"})],-1),lt={class:"text-xs flex-initial text-zec-green"},nt={class:"flex items-center space-x-2"},at={class:"text-sm font-semibold flex-1"},rt={class:"text-sm font-semibold flex items-center text-zec-green"},dt={class:"text-sm inline-block mr-px"},it=e("span",{class:"inline-block font-bold text-xs text-white px-2 py-1 rounded border-zec-green bg-zec-green"},"集資成功",-1),_t=D({__name:"renew-list",setup(h){const{loading:i,setLoading:_}=B(!1),r=z([]),b=z([]),f=async()=>{var n;_(!0);try{let l={scope:"recently_ended",page:1,list_row:3};const{data:t}=await L(l);t&&(t!=null&&t.list)&&(r.value=((n=t==null?void 0:t.list)==null?void 0:n.data)||[])}catch{}finally{_(!1)}},p=async()=>{var n;_(!0);try{let l={scope:"recently_ended",page:1,list_row:3};const{data:t}=await L(l);t&&(t!=null&&t.list)&&(b.value=((n=t==null?void 0:t.list)==null?void 0:n.data)||[])}catch{}finally{_(!1)}};return N(async()=>{await f(),await p()}),(n,l)=>{const t=I("router-link"),m=H;return d(),g(v,null,[e("div",Ne,[e("div",Ie,[e("div",Ve,[Be,u(t,{class:"inline-block text-base font-bold px-3 py-1 rounded text-white bg-zec-green hover:bg-zec-darkgreen",to:"/category?scope=recently_ended"},{default:y(()=>[k("更多 > ")]),_:1})]),e("div",Fe,[(d(!0),g(v,null,T(r.value,s=>(d(),j(t,{key:s.product_id,class:"overflow-hidden inline-block text-black rounded xs:w-1/2 lg:w-1/3 px-4 pb-4 mb-4 group",to:`/project/${s.product_id}`},{default:y(()=>[e("div",Pe,[e("img",{src:s.product_image,"data-src":s.product_image,width:"1600",height:"900",class:"rounded-t bg-zinc-100 placeholder-16:9 aspect-video object-cover lazy block entered loaded","data-ll-status":"loaded"},null,8,Ue),e("div",Ee,[e("h3",Re,a(o(c)(s,"product_name","")),1),e("div",null,[e("div",qe,[Ae,e("h4",Ge,a((o(c)(s,"total_money",1)/o(c)(s,"target_money",1)).toFixed(1))+"% ",1)]),e("div",Me,[e("h4",We," NT$ "+a(o(c)(s,"total_money","")),1),e("h4",Xe,[u(m,{class:"text-sm text-gray-500 leading-none align-middle mr-px",name:"user"}),e("span",Ye,a(o(c)(s,"product_sales","")),1),k(" 人 ")]),He])])])])]),_:2},1032,["to"]))),128))])])]),e("div",Je,[e("div",Ke,[Oe,e("div",Qe,[(d(!0),g(v,null,T(b.value,s=>(d(),j(t,{key:s.product_id,class:"overflow-hidden inline-block text-black rounded xs:w-1/2 lg:w-1/3 px-4 pb-4 mb-4 group",to:`/project/${s.product_id}`},{default:y(()=>[e("div",Ze,[e("img",{width:"1600",height:"900",class:"rounded-t bg-zinc-100 placeholder-16:9 aspect-video object-cover lazy block entered loaded",src:s.product_image,"data-src":s.product_image,"data-ll-status":"loaded"},null,8,et),e("div",tt,[e("h3",st,a(o(c)(s,"product_name","")),1),e("div",null,[e("div",ot,[ct,e("h4",lt,a((o(c)(s,"total_money",1)/o(c)(s,"target_money",1)).toFixed(1))+"% ",1)]),e("div",nt,[e("h4",at," NT$ "+a(o(c)(s,"total_money","")),1),e("h4",rt,[u(m,{class:"text-sm text-gray-500 leading-none align-middle mr-px",name:"user"}),e("span",dt,a(o(c)(s,"product_sales",""))+"6",1),k(" 人 ")]),it])])])])]),_:2},1032,["to"]))),128))])])])],64)}}}),pt=e("div",{class:"container"},null,-1),ut={class:"bg-zec-bg"},xt={class:"border-t border-gray-200 pb-16"},ht={class:"border-t border-gray-200 pb-16"},gt={class:"border-t border-gray-200 pb-16"},jt=D({__name:"index",setup(h){return(i,_)=>(d(),g(v,null,[pt,u(ve),u(Te),e("div",ut,[u(C,{"product-type":1}),e("div",xt,[u(C,{"product-type":2})]),e("div",ht,[u(C,{"product-type":4})]),e("div",gt,[u(C,{"product-type":3})])]),u(_t)],64))}});export{jt as default};
