import{_ as s,L as e,N as a,z as t,M as n,B as o,o as i,c as l,w as d,g as c,b as r,d as u,h as _}from"./index-6e5c77a7.js";const g=s({data:()=>({background:"",listData:[],sessionKey:""}),onLoad(){let s=this;e({success(e){s._post("user.user/getSession",{code:e.code},(e=>{s.sessionKey=e.data.session_key}))}})},methods:{onNotLogin:function(){a({url:"/pages/index/index"})},getPhoneNumber(s){if("getPhoneNumber:ok"!==s.detail.errMsg)return!1;t({title:"正在處理",mask:!0}),this._post("user.user/bindMobile",{session_key:this.sessionKey,encrypted_data:s.detail.encryptedData,iv:s.detail.iv},(s=>{n()}),!1,(()=>{o()}))}}},[["render",function(s,e,a,t,n,o){const g=c,f=_;return i(),l(g,{class:"login-container"},{default:d((()=>[r(g,{class:"wechatapp"},{default:d((()=>[r(g,{class:"header"})])),_:1}),r(g,{class:"auth-title"},{default:d((()=>[u("申請獲取以下許可權")])),_:1}),r(g,{class:"auth-subtitle"},{default:d((()=>[u("為了為您提供更優質的服務，我們需要獲得你的手機號")])),_:1}),r(g,{class:"login-btn"}),r(g,{class:"no-login-btn"},{default:d((()=>[r(f,{class:"btn-normal",onClick:o.onNotLogin},{default:d((()=>[u("暫不授權")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-740aac43"]]);export{g as default};
