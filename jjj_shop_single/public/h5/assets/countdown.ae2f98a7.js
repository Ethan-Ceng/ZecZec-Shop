import{_ as t,o,c as e,w as s,f as l,d as a,t as c,e as r,b as n,q as i,F as u,j as d,g as h}from"./index-6e5c77a7.js";const y=t({data:()=>({status:0,day:"0",hour:"0",minute:"0",second:"0",timer:null,totalSeconds:0,title:"活動剩餘："}),props:{config:{type:Object,default:""},back_color:{type:String,default:""},cut_color:{type:String,default:""},color:{type:String,default:""}},created(){},watch:{config:{deep:!0,handler:function(t,o){t!=o&&0!=t.endstamp&&(t.title&&void 0!==t.title&&(this.title=t.title),this.setTime())},immediate:!0}},methods:{setTime(){let t=this;t.timer=setInterval((function(){t.init()}),1e3)},init(){let t=Date.now()/1e3;t<this.config.startstamp?(this.status=1,this.totalSeconds=parseInt(this.config.startstamp-t),this.countDown()):t>this.config.endstamp?this.status=2:(this.totalSeconds=parseInt(this.config.endstamp-t),this.status=0,this.countDown()),this.$emit("returnVal",this.status)},countDown(){let t=this.totalSeconds,o=Math.floor(t/86400),e=t%86400,s=Math.floor(e/3600);e%=3600;let l=Math.floor(e/60),a=e%60;this.day=this.convertTwo(o),this.hour=this.convertTwo(s),this.minute=this.convertTwo(l),this.second=this.convertTwo(a),this.totalSeconds--},convertTwo(t){let o="";return o=t<10?"0"+t:t,o},getLocalTime:t=>new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," "),clear(){console.log(1),clearInterval(this.timer),this.timer=null}},destroyed(){clearInterval(this.timer)}},[["render",function(t,y,f,p,_,m){const g=d,b=h;return o(),e(b,{class:"countdown"},{default:s((()=>[null==f.config.type?(o(),l(u,{key:0},[0==_.status?(o(),e(g,{key:0},{default:s((()=>[a(c(_.title),1)])),_:1})):r("",!0),1==_.status?(o(),e(g,{key:1},{default:s((()=>[a("距開始：")])),_:1})):r("",!0),2==_.status?(o(),e(g,{key:2},{default:s((()=>[a("距結束：")])),_:1})):r("",!0),n(g,{class:"box",style:i("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(_.day),1)])),_:1},8,["style"]),n(g,{class:"p-0-10",style:i("color:"+f.color)},{default:s((()=>[a("天")])),_:1},8,["style"]),n(g,{class:"box",style:i("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(_.hour),1)])),_:1},8,["style"]),n(g,{class:"p-0-10",style:i("color:"+f.color)},{default:s((()=>[a(":")])),_:1},8,["style"]),n(g,{class:"box",style:i("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(_.minute),1)])),_:1},8,["style"]),n(g,{class:"p-0-10",style:i("color:"+f.color)},{default:s((()=>[a(":")])),_:1},8,["style"]),n(g,{class:"box",style:i("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(_.second),1)])),_:1},8,["style"]),n(g,{class:"p-0-10",style:i("color:"+f.color)},null,8,["style"])],64)):r("",!0),"text"===f.config.type?(o(),l(u,{key:1},[a(c(_.title)+c(parseInt(24*_.day)+parseInt(_.hour))+":"+c(_.minute)+":"+c(_.second),1)],64)):r("",!0)])),_:1})}],["__scopeId","data-v-c74ebb12"]]);export{y as C};
