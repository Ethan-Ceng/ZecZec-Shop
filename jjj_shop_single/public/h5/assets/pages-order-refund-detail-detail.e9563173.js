import{_ as e,z as a,B as s,o as t,c as d,w as l,a as r,g as u,b as _,d as f,t as i,e as c,f as o,r as n,F as p,j as g,i as y,a1 as m,I as x,h as b,a4 as h}from"./index-6e5c77a7.js";const k=e({data:()=>({loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,expressList:{},index:-1,order_refund_id:0,detail:{address:{}},express_id:0,temlIds:[]}),onLoad(e){this.order_refund_id=e.order_refund_id},mounted(){this.getData()},methods:{getData(){let e=this;a({title:"載入中"});let t=e.order_refund_id;e._get("user.refund/detail",{order_refund_id:t,platform:e.getPlatform()},(function(a){s(),e.detail=a.data.detail,e.expressList=a.data.expressList,e.temlIds=a.data.template_arr}))},onExpressChange:function(e){this.index=e.detail.value,this.express_id=this.expressList[this.index].express_id},formSubmit:function(e){let t=this;var d=e.detail.value;d.order_refund_id=t.order_refund_id,d.express_id=t.express_id;t.subMessage(t.temlIds,(function(){a({title:"正在提交",mask:!0}),t._post("user.refund/delivery",d,(function(e){s(),r({title:e.msg,duration:3e3,complete:function(){t.gotoPage("/pages/order/refund/detail/detail?order_refund_id="+t.order_refund_id,"redirectTo")}})}))}))}}},[["render",function(e,a,s,r,k,v){const w=g,L=u,C=y,I=m,S=x,D=b,F=h;return t(),d(L,{class:"order-refund-detail pb100"},{default:l((()=>[_(L,{class:"order-state d-s-c"},{default:l((()=>[_(L,{class:"icon-box"},{default:l((()=>[_(w,{class:"icon iconfont icon-gantanhao"})])),_:1}),_(L,{class:"state-cont flex-1"},{default:l((()=>[_(L,{class:"state-txt d-b-c"},{default:l((()=>[_(w,{class:"desc f34"},{default:l((()=>[f(i(k.detail.state_text),1)])),_:1})])),_:1})])),_:1}),_(L,{class:"dot-bg"})])),_:1}),_(L,{class:"p30 mt20 bg-white"},{default:l((()=>[_(L,{class:"one-product border-b-e d-s-c pb20"},{default:l((()=>[_(L,{class:"cover"},{default:l((()=>[_(C,{src:k.detail.orderproduct.image.file_path,mode:"aspectFit"},null,8,["src"])])),_:1}),_(L,{class:"flex-1"},{default:l((()=>[_(L,{class:"pro-info"},{default:l((()=>[f(i(k.detail.orderproduct.product_name),1)])),_:1}),_(L,{class:"pt10 p-0-30"},{default:l((()=>[_(w,{class:"f24 gray9"})])),_:1})])),_:1})])),_:1}),_(L,{class:"d-e-c pt20 lh150"},{default:l((()=>[_(L,{class:"f24"},{default:l((()=>[f(" 商品金額： "),_(w,{class:"red"},{default:l((()=>[f("¥"+i(k.detail.orderproduct.total_price),1)])),_:1})])),_:1})])),_:1}),_(L,{class:"d-e-c pt10 lh150"},{default:l((()=>[_(L,{class:"f24"},{default:l((()=>[f(" 訂單實付金額： "),_(w,{class:"red"},{default:l((()=>[f("¥"+i(k.detail.orderproduct.total_pay_price),1)])),_:1})])),_:1})])),_:1}),80==k.detail.order_master.order_source?(t(),d(L,{key:0,class:"d-e-c pt10 lh150"},{default:l((()=>[k.detail.orderproduct.advance?(t(),d(L,{key:0,class:"f24"},{default:l((()=>[f(" 定金("+i(k.detail.orderproduct.advance.money_return?"可退":"不可退")+")： ",1),_(w,{class:"red"},{default:l((()=>[f("¥"+i(k.detail.orderproduct.advance.pay_price),1)])),_:1})])),_:1})):c("",!0)])),_:1})):c("",!0)])),_:1}),20==k.detail.status.value&&10==k.detail.type.value?(t(),d(L,{key:0,class:"group bg-white"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("已退款金額：")])),_:1}),_(w,{class:"gray9"},{default:l((()=>[f("￥"+i(k.detail.refund_money),1)])),_:1})])),_:1})):c("",!0),_(L,{class:"group bg-white f24"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[f(" 申請退貨資訊 ")])),_:1}),_(L,{class:"p-20-0 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("售後型別：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.type.text),1)])),_:1})])),_:1}),_(L,{class:"p-20-0 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("申請原因：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.apply_desc||""),1)])),_:1})])),_:1}),_(L,{class:"p-20-0 upload-list d-s-s f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("申請憑證：")])),_:1}),_(L,{class:"d-s-s f-w"},{default:l((()=>[k.detail.image.length>0?(t(!0),o(p,{key:0},n(k.detail.image,((e,a)=>(t(),d(L,{class:"item",key:a},{default:l((()=>[_(C,{src:e.file_path,mode:"aspectFit"},null,8,["src"])])),_:2},1024)))),128)):(t(),o(p,{key:1},[f(" 無 ")],64))])),_:1})])),_:1})])),_:1}),10==k.detail.status.value?(t(),d(L,{key:1,class:"group bg-white"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[f(" 拒絕理由 ")])),_:1}),_(L,{class:"p-20-0"},{default:l((()=>[_(w,{class:"red f28"},{default:l((()=>[f(i(k.detail.refuse_desc),1)])),_:1})])),_:1})])),_:1})):c("",!0),10==k.detail.is_agree.value&&k.detail.address?(t(),d(L,{key:2,class:"group bg-white"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[f(" 退貨地址 ")])),_:1}),_(L,{class:"pt30 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("收貨人：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.address.name),1)])),_:1})])),_:1}),_(L,{class:"pt30 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("聯絡電話：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.address.phone),1)])),_:1})])),_:1}),_(L,{class:"pt30 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("詳情地址：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.address.detail),1)])),_:1})])),_:1}),k.detail.express_no?(t(),d(L,{key:0,class:"pt30 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("物流公司：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.express.express_name),1)])),_:1})])),_:1})):c("",!0),k.detail.express_no?(t(),d(L,{key:1,class:"pt30 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("物流單號：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.express_no),1)])),_:1})])),_:1})):c("",!0),k.detail.is_plate_send?(t(),d(L,{key:2,class:"pt30 f28"},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("換貨物流公司：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.sendexpress.express_name),1)])),_:1})])),_:1})):c("",!0),k.detail.is_plate_send?(t(),d(L,{key:3,class:"pt30 f28",onClick:a[0]||(a[0]=a=>{e.gotoPage("/pages/order/express/refund-express?order_id="+k.detail.order_refund_id)})},{default:l((()=>[_(w,{class:"gray9"},{default:l((()=>[f("換貨物流單號：")])),_:1}),_(w,null,{default:l((()=>[f(i(k.detail.send_express_no),1)])),_:1})])),_:1})):c("",!0),_(L,{class:"mt20 pb20 border-t gray9"},{default:l((()=>[_(L,{class:"pt20"},{default:l((()=>[f(" · 未與賣家協商一致情況下，請勿寄到付或平郵 ")])),_:1}),_(L,{class:"pt10"},{default:l((()=>[f(" · 請填寫真實有效物流資訊 ")])),_:1})])),_:1})])),_:1})):c("",!0),30!=k.detail.type.value&&10==k.detail.is_agree.value&&0==k.detail.is_user_send?(t(),d(F,{key:3,onSubmit:v.formSubmit,"report-submit":""},{default:l((()=>[_(L,{class:"group bg-white"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[f(" 填寫物流資訊 ")])),_:1}),_(L,{class:"p-20-0 d-s-c"},{default:l((()=>[_(L,{class:"gray9"},{default:l((()=>[f("物流公司：")])),_:1}),_(L,{class:"flex-1 p20 border"},{default:l((()=>[_(I,{mode:"selector",onChange:v.onExpressChange,range:k.expressList,"range-key":"express_name",value:k.index},{default:l((()=>[k.index>-1?(t(),d(w,{key:0},{default:l((()=>[f(i(k.expressList[k.index].express_name),1)])),_:1})):(t(),d(w,{key:1,class:"col-80"},{default:l((()=>[f("請選擇物流公司")])),_:1}))])),_:1},8,["onChange","range","value"])])),_:1})])),_:1}),_(L,{class:"p-20-0 d-s-c"},{default:l((()=>[_(L,{class:"gray9"},{default:l((()=>[f("物流單號：")])),_:1}),_(L,{class:"flex-1 border"},{default:l((()=>[_(S,{class:"p10",placeholder:"請填寫物流單號",name:"express_no"})])),_:1})])),_:1}),_(L,{class:"mt20"},{default:l((()=>[_(D,{class:"btn-red",formType:"submit"},{default:l((()=>[f("確認發貨")])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])):c("",!0)])),_:1})}],["__scopeId","data-v-7763bd9a"]]);export{k as default};
