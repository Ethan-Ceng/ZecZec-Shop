import{_ as a,z as e,B as t,a as s,o,c as l,w as c,n,e as i,g as d,f as u,r as p,F as _,b as f,d as r,j as y,i as g,t as m,u as k,h as b}from"./index-6e5c77a7.js";import{_ as x}from"./none.d685a420.js";const h=a({data:()=>({loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,DataList:[],page:1,list_rows:10}),onShow(){e({title:"載入中"}),this.getData()},methods:{getData(){let a=this;a._get("coupon.coupon/lists",{page:a.page,list_rows:a.list_rows},(function(e){a.DataList=e.data.list,a.loadding=!1,t()}))},lookRule(a){a.rule=!0},closeRule(a){a.rule=!1},receive(a){let o=this;o.loadding||(o.loadding=!0,e({title:"領取中"}),o._post("user.coupon/receive",{coupon_id:a},(function(a){s({title:"領取成功",duration:2e3,icon:"success"}),o.getData()}),(a=>{o.loadding=!1,t()})))}}},[["render",function(a,e,t,s,h,C){const v=y,w=d,D=b,z=g;return h.loadding?i("",!0):(o(),l(w,{key:0,"data-theme":a.theme(),class:n([a.theme()||"",""])},{default:c((()=>[h.DataList.length>0?(o(!0),u(_,{key:0},p(h.DataList,((t,s)=>(o(),l(w,{class:"item-wrap",key:s},{default:c((()=>[f(w,{class:n("coupon-item coupon-item-"+t.color.text),onClick:a=>C.lookRule(t)},{default:c((()=>[f(w,{class:"operation d-b-c"},{default:c((()=>[f(w,{class:"flex-1 coupon-content"},{default:c((()=>[f(w,{class:"mb20"},{default:c((()=>[f(v,{class:"f40 fb"},{default:c((()=>[r(m(t.name),1)])),_:2},1024)])),_:2},1024),f(w,{class:"f22 gray9 mb20"},{default:c((()=>[10==t.expire_type?(o(),u(_,{key:0},[r(" 有效期：領取"+m(t.expire_day)+"天內有效 ",1)],64)):i("",!0),20==t.expire_type?(o(),u(_,{key:1},[r(" 有效期："+m(t.start_time.text)+"至"+m(t.end_time.text),1)],64)):i("",!0)])),_:2},1024),20==t.coupon_type.value?(o(),l(w,{key:0,class:"f22"},{default:c((()=>[r(m(t.max_price>0?"最多抵扣"+1*t.max_price+"元":"無最高抵扣限制"),1)])),_:2},1024)):i("",!0)])),_:2},1024),f(w,{class:"right-box d-c-c d-c"},{default:c((()=>[10==t.coupon_type.value?(o(),l(w,{key:0,class:"theme-price mb10"},{default:c((()=>[f(v,{class:"f24"},{default:c((()=>[r("￥")])),_:1}),f(v,{class:"f52 fb"},{default:c((()=>[r(m(1*t.reduce_price),1)])),_:2},1024)])),_:2},1024)):i("",!0),20==t.coupon_type.value?(o(),l(w,{key:1,class:"mb10 theme-price"},{default:c((()=>[f(v,{class:"f52 fb"},{default:c((()=>[r(m(t.discount),1)])),_:2},1024),f(v,{class:"f24"},{default:c((()=>[r("折")])),_:1})])),_:2},1024)):i("",!0),f(w,{class:"f24 mb10"},{default:c((()=>[r(m(t.min_price>0?"滿"+1*t.min_price+"元可用":"無門檻"),1)])),_:2},1024),t.state.value>0?(o(),l(w,{key:2,class:"f26 coupon-btn theme-btn",onClick:k((a=>C.receive(t.coupon_id)),["stop"])},{default:c((()=>[r("領取")])),_:2},1032,["onClick"])):(o(),l(D,{key:3,type:"default",class:"f26 coupon-btn btn-gray white",onClick:e[0]||(e[0]=k((()=>{}),["stop"]))},{default:c((()=>[r(m(t.state.text),1)])),_:2},1024))])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"]),20==t.apply_range?(o(),l(w,{key:0,class:"range_item d-b-c",onClick:k((e=>a.gotoPage("/pages/coupon/detail?coupon_id="+t.coupon_id+"&apply_range="+t.apply_range)),["stop"])},{default:c((()=>[f(w,{class:"gray9 f24"},{default:c((()=>[r(" 限指定部分商品 "),f(v,{class:"icon iconfont icon-you",style:{color:"#999999","font-size":"22rpx"}})])),_:1}),f(w,{class:"gray9 f24"},{default:c((()=>[r("本券不支援轉贈")])),_:1})])),_:2},1032,["onClick"])):30==t.apply_range?(o(),l(w,{key:1,class:"range_item d-b-c",onClick:k((e=>a.gotoPage("/pages/coupon/detail?coupon_id="+t.coupon_id+"&apply_range="+t.apply_range)),["stop"])},{default:c((()=>[f(w,{class:"gray9 f24"},{default:c((()=>[r(" 限指定分類商品 "),f(v,{class:"icon iconfont icon-you",style:{color:"#999999","font-size":"22rpx"}})])),_:1}),f(w,{class:"gray9 f24"},{default:c((()=>[r("本券不支援轉贈")])),_:1})])),_:2},1032,["onClick"])):(o(),l(w,{key:2,class:"range_item d-b-c"},{default:c((()=>[f(w,{class:"gray9 f24"},{default:c((()=>[r(" 全場通用 "),f(v,{class:"icon iconfont icon-you",style:{color:"#999999","font-size":"22rpx"}})])),_:1}),f(w,{class:"gray9 f24"},{default:c((()=>[r("本券不支援轉贈")])),_:1})])),_:1}))])),_:2},1024)))),128)):(o(),l(w,{key:1,class:"none-data-box"},{default:c((()=>[f(z,{src:x,mode:"widthFix"}),f(v,null,{default:c((()=>[r("暫無資料")])),_:1})])),_:1}))])),_:1},8,["data-theme","class"]))}]]);export{h as default};
