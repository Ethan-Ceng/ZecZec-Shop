import{_ as a,a as e,z as t,R as l,B as i,o as s,c as r,w as c,n,e as o,g as d,b as p,d as h,t as u,j as m,i as _,h as f,k as g}from"./index-6e5c77a7.js";import{A as k}from"./app-share.6adf735f.js";import{_ as y}from"./fenxiang.6373a85a.js";const S=a({components:{AppShare:k},data:()=>({loadding:!1,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,article_id:0,article:{image:{}},urldata:"",isAppShare:!1,appParams:{title:"",summary:"",path:""}}),onLoad(a){this.article_id=a.article_id,this.isWeixin()&&(this.urldata=window.location.href)},mounted(){this.getData()},onShareAppMessage(){let a=this,e=a.getShareUrlParams({article_id:a.article_id});return a.taskFunc(),{title:a.article.article_title,path:"/pages/article/detail/detail?"+e}},methods:{taskFunc(){this._post("plus.task.Task/dayTask",{task_type:"article"},(a=>{console.log("分享成功")}))},copyUrl(){var a=document.createElement("input");let t=window.location.href;a.value=t,document.body.appendChild(a),a.select(),a.setSelectionRange(0,a.value.length),document.execCommand("Copy"),document.body.removeChild(a),e({title:"複製成功",icon:"success",mask:!0,duration:2e3})},shareFunc(){this.taskFunc(),this.copyUrl()},closeAppShare(a){this.isAppShare=!1},getData(){let a=this;t({title:"載入中"}),a.loading=!0;let e=a.article_id;a._get("plus.article.article/detail",{article_id:e,url:a.urldata},(function(e){if(e.data.detail.article_content=l.format_content(e.data.detail.article_content),console.log(e.data.detail.article_content),a.article=e.data.detail,""!=a.url){let t={article_id:a.article_id};a.configWx(e.data.share.signPackage,e.data.share.shareParams,t)}a.loadding=!0,i()}))}}},[["render",function(a,e,t,l,i,k){const S=d,A=m,C=_,b=f,x=g("tabBar"),P=g("AppShare");return i.loadding?(s(),r(S,{key:0,"data-theme":a.theme(),class:n([a.theme()||"","article-detail"])},{default:c((()=>[p(S,{class:"title fb"},{default:c((()=>[h(u(i.article.article_title),1)])),_:1}),p(S,{class:"info d-b-c f24"},{default:c((()=>[p(S,null,{default:c((()=>[p(A,{class:"red"},{default:c((()=>[h(u(i.article.category.name),1)])),_:1}),p(A,{class:"ml30"},{default:c((()=>[h(u(i.article.create_time),1)])),_:1})])),_:1}),p(b,{class:"share-box","open-type":"share",onClick:k.shareFunc},{default:c((()=>[p(C,{class:"share_img",src:y,mode:""})])),_:1},8,["onClick"])])),_:1}),p(S,{class:"article-content",innerHTML:i.article.article_content},null,8,["innerHTML"]),p(x),p(P,{isAppShare:i.isAppShare,appParams:i.appParams,onClose:k.closeAppShare},null,8,["isAppShare","appParams","onClose"])])),_:1},8,["data-theme","class"])):o("",!0)}],["__scopeId","data-v-d9c2a2f4"]]);export{S as default};
