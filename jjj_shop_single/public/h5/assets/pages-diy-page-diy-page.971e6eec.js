import{_ as a,V as e,M as s,D as p,E as t,o as r,c as i,w as o,g as l,b as h,G as n,k as m}from"./index-6e5c77a7.js";import{_ as d}from"./diy.e1652478.js";import{r as g}from"./uni-app.es.5424dc16.js";import{s as f}from"./mp-share.5df2fe0f.js";import{A as u}from"./app-share.6adf735f.js";import"./countdown-act.34a2c1ec.js";import"./upload.182a2719.js";import"./share.0e953495.js";const c=a({components:{diy:d,share:f,AppShare:u},data:()=>({page_id:null,items:{},page_info:{params:{}},isMpShare:!1,isAppShare:!1,appParams:{title:"",summary:"",path:""},url:""}),onLoad(a){this.page_id=a.page_id,this.getData(),this.url=window.location.href},onShareAppMessage(){let a=this,e=a.getShareUrlParams({page_id:a.page_id});return{title:a.page_info.params.name,path:"/pages/diy-page/diy-page?"+e}},methods:{hasPage:()=>e().length>1,goback(){s()},getData(a){let e=this;e._get("index/diy",{page_id:e.page_id,url:e.url},(function(a){if(e.page_info=a.data.page,e.items=a.data.items,e.setPage(e.page_info),""!=e.url){let s={page_id:e.page_id};e.configWx(a.data.share.signPackage,a.data.share.shareParams,s)}}))},setPage(a){p({title:a.params.name});let e="#000000";"white"==a.style.titleTextColor&&(e="#ffffff"),t({frontColor:e,backgroundColor:a.style.titleBackgroundColor})},showShare(){this.isMpShare=!0},closeBottmpanel(a){this.isMpShare=!1},closeAppShare(a){this.isAppShare=!1}}},[["render",function(a,e,s,p,t,f){const u=g(n("diy"),d),c=m("share"),S=m("AppShare"),_=l;return r(),i(_,{class:"diy-page"},{default:o((()=>[h(u,{diyItems:t.items},null,8,["diyItems"]),h(c,{isMpShare:t.isMpShare,onClose:f.closeBottmpanel},null,8,["isMpShare","onClose"]),h(S,{isAppShare:t.isAppShare,appParams:t.appParams,onClose:f.closeAppShare},null,8,["isAppShare","appParams","onClose"])])),_:1})}]]);export{c as default};
