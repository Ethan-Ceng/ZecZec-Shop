import{_ as e,z as a,B as t,a as s,o as l,c as n,w as d,n as i,e as o,g as c,b as _,d as u,f as m,r as y,F as f,t as p,j as r,I as g,h}from"./index-6e5c77a7.js";const b=e({data:()=>({tableData:[],settings:{},active:-1,pay_type:20,plan_id:0,user_money:"",loading:!0}),watch:{user_money(e){""!=e&&(this.active=-1,this.plan_id=0)}},mounted(){this.getData()},methods:{getData(){let e=this;e.loading=!0,a({title:"載入中"}),e._get("balance.plan/index",{pay_source:e.getPlatform()},(function(a){e.loading=!1,t(),e.tableData=a.data.list,e.settings=a.data.settings}))},select(e){this.active=e,this.user_money=""},payTypeFunc(e){this.pay_type=e},payFunc(){let e=this;a({title:"載入中",mask:!0}),-1!=e.active&&(e.plan_id=e.tableData[e.active].plan_id),0!=e.plan_id||""!=e.user_money?parseFloat(e.user_money)<e.settings.min_money?s({icon:"none",title:`最低充值金額不得低於${e.settings.min_money}元`}):e._post("balance.plan/submit",{plan_id:e.plan_id,user_money:e.user_money},(function(a){e.gotoPage("/pages/order/cashier?order_id="+a.data.order_id+"&order_type=30"),t()})):s({icon:"none",title:"請選擇充值套餐或輸入要充值的金額"})}}},[["render",function(e,a,t,s,b,x){const v=c,k=r,D=g,C=h;return b.loading?o("",!0):(l(),n(v,{key:0,"data-theme":e.theme(),class:i([e.theme()||"","index"])},{default:d((()=>[_(v,{class:"index-head"},{default:d((()=>[_(v,{class:"index-head-top"},{default:d((()=>[_(v,{class:"f32"},{default:d((()=>[u("請選擇充值金額:")])),_:1})])),_:1}),_(v,{class:"index-head-bottom"},{default:d((()=>[(l(!0),m(f,null,y(b.tableData,((e,a)=>(l(),n(v,{class:i(b.active==a?"index-head-bottom-item-active":"index-head-bottom-item"),onClick:e=>x.select(a),key:a},{default:d((()=>[_(k,{class:"f40"},{default:d((()=>[u(p(e.money),1)])),_:2},1024),_(k,{class:"f22"},{default:d((()=>[u("元")])),_:1}),e.give_money>0?(l(),n(v,{key:0,class:"givemoney"},{default:d((()=>[u("送"+p(e.give_money)+"元",1)])),_:2},1024)):o("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1}),_(v,{class:"head-top-botm"},{default:d((()=>[u("注：充值金額只能消費，不能提現;")])),_:1})])),_:1}),_(v,{class:"index-body"},{default:d((()=>[1==b.settings.is_plan?(l(),m(f,{key:0},[_(v,{class:"index-head-top"},{default:d((()=>[_(v,{class:"f32 p-0-20"},{default:d((()=>[u("可自定義充值金額:")])),_:1})])),_:1}),_(v,{class:"index-body-top",onClick:a[1]||(a[1]=e=>x.select(-1))},{default:d((()=>[_(v,{class:""},{default:d((()=>[u("其他金額")])),_:1}),_(D,{type:"text",modelValue:b.user_money,"onUpdate:modelValue":a[0]||(a[0]=e=>b.user_money=e),placeholder:"請輸入您要充值的金額"},null,8,["modelValue"])])),_:1}),_(v,{class:"gray p-0-30"},{default:d((()=>[u("最低充值金額："+p(b.settings.min_money)+"元",1)])),_:1})],64)):o("",!0),_(v,{class:"index-body-bottom"},{default:d((()=>[_(v,{class:"index-body-bottom-info"},{default:d((()=>[_(v,{class:"f32 mb23"},{default:d((()=>[u("充值說明")])),_:1}),_(k,{class:"gray f26"},{default:d((()=>[u(p(b.settings.describe),1)])),_:1})])),_:1})])),_:1})])),_:1}),_(v,{class:"btn"},{default:d((()=>[_(C,{type:"default",onClick:x.payFunc},{default:d((()=>[u("確認支付")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data-theme","class"]))}],["__scopeId","data-v-c06d3545"]]);export{b as default};
