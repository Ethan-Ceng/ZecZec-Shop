import{_ as e,a as s,z as a,J as t,B as l,o as d,c as o,w as n,n as i,g as c,b as u,d as m,t as f,j as r,I as _,h as b}from"./index-6e5c77a7.js";const h=e({data:()=>({formData:{mobile:"",code:""},is_send:!1,send_btn_txt:"獲取驗證碼",second:60,ip:""}),onLoad(){},methods:{formSubmit(){let e=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)?""!=e.formData.code?(a({title:"正在提交"}),e._post("user.userweb/bindMobile",e.formData,(s=>{t({title:"提示",content:s.msg,showCancel:!1,success(){e.gotoPage("/pages/user/index/index")}})}),!1,(()=>{l()}))):s({title:"驗證碼不能為空！",duration:2e3,icon:"none"}):s({title:"手機有誤,請重填！",duration:2e3,icon:"none"})},sendCode(){let e=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)?e._post("user.userweb/sendCode",{mobile:e.formData.mobile},(a=>{1==a.code&&(s({title:"傳送成功"}),e.is_send=!0,e.changeMsg())})):s({title:"手機有誤,請重填！",duration:2e3,icon:"none"})},changeMsg(){this.second>0?(this.send_btn_txt=this.second+"秒",this.second--,setTimeout(this.changeMsg,1e3)):(this.send_btn_txt="獲取驗證碼",this.second=60,this.is_send=!1)}}},[["render",function(e,s,a,t,l,h){const g=r,p=c,x=_,D=b;return d(),o(p,{class:i(["login-container",e.theme()||""]),"data-theme":e.theme()},{default:n((()=>[u(p,{class:"p30"},{default:n((()=>[u(p,{class:"group-bd"},{default:n((()=>[u(p,{class:"form-level d-s-c"},{default:n((()=>[u(p,{class:"d-s-c field-name"},{default:n((()=>[u(g,{class:"orange"},{default:n((()=>[m("*")])),_:1}),u(g,{class:"gray3"},{default:n((()=>[m("手機號：")])),_:1})])),_:1}),u(p,{class:"val flex-1"},{default:n((()=>[u(x,{type:"text",modelValue:l.formData.mobile,"onUpdate:modelValue":s[0]||(s[0]=e=>l.formData.mobile=e),placeholder:"請輸入要繫結的新手機號",disabled:l.is_send},null,8,["modelValue","disabled"])])),_:1})])),_:1}),u(p,{class:"form-level d-s-c"},{default:n((()=>[u(p,{class:"d-s-c field-name"},{default:n((()=>[u(g,{class:"orange"},{default:n((()=>[m("*")])),_:1}),u(g,{class:"gray3"},{default:n((()=>[m("驗證碼：")])),_:1})])),_:1}),u(p,{class:"val flex-1 d-b-c"},{default:n((()=>[u(x,{class:"flex-1",type:"number",modelValue:l.formData.code,"onUpdate:modelValue":s[1]||(s[1]=e=>l.formData.code=e),placeholder:"請輸入驗證碼"},null,8,["modelValue"]),u(D,{class:"get-code-btn",type:"default",onClick:h.sendCode,disabled:l.is_send},{default:n((()=>[m(f(l.send_btn_txt),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),u(p,{class:"btns p30"},{default:n((()=>[u(D,{type:"default",onClick:h.formSubmit},{default:n((()=>[m("提交")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-1b10de92"]]);export{h as default};
