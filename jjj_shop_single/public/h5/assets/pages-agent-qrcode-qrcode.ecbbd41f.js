import{_ as e,z as t,B as s,T as a,U as o,a as l,o as c,c as r,w as d,n as i,g as n,b as u,d as m,i as g}from"./index-6e5c77a7.js";const f=e({data:()=>({qrcode_url:""}),mounted(){this.getData()},methods:{getData(){let e=this;t({title:"載入中"});let a=e.getPlatform();e._get("plus.agent.qrcode/poster",{source:a},(function(t){s(),e.qrcode_url=t.data.qrcode}))},savePosterImg(){let e=this;t({title:"載入中"}),a({url:e.qrcode_url,success(t){s(),o({filePath:t.tempFilePath,success(t){l({title:"儲存成功",icon:"success",duration:2e3}),e.isCreatedImg=!1},fail(e){console.log(e.errMsg),"saveImageToPhotosAlbum:fail auth deny"===e.errMsg&&(l({title:"請允許訪問相簿後重試",icon:"none",duration:1e3}),setTimeout((()=>{uni.openSetting()}),1e3))},complete(e){console.log("complete")}})}})}}},[["render",function(e,t,s,a,o,l){const f=g,h=n;return c(),r(h,{class:i(["qrcode",e.theme()||""]),"data-theme":e.theme()},{default:d((()=>[u(f,{class:"qrposter",src:o.qrcode_url,mode:"widthFix"},null,8,["src"]),u(h,{class:"btns-wrap"},{default:d((()=>[u(h,{class:"f22 gray9 tc ww100",type:"default"},{default:d((()=>[m("長按圖片即可儲存到相簿")])),_:1})])),_:1})])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-c6390f5c"]]);export{f as default};
