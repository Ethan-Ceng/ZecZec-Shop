import{_ as t,o as a,c as s,w as e,n as l,g as i,b as o,d as n,f as c,r as d,F as r,j as u,k as p,t as g,h as _}from"./index-6e5c77a7.js";import{u as m}from"./uni-load-more.58b2601d.js";const f=t({components:{uniLoadMore:m},data:()=>({loading:!0,listData:[],last_page:0,page:1,list_rows:10,no_more:!1,type:0}),onShow(){this.page=1,this.listData=[],this.getData()},computed:{loadingType(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},onReachBottom(){let t=this;t.page<t.last_page&&(t.page++,t.getData()),t.no_more=!0},methods:{stateFunc(t){this.type==t||this.loading||(this.type=t,this.page=1,this.listData=[],this.getData())},getData(){let t=this;t.loading=!0,t._post("plus.lottery.lottery/record",{page:t.page||1,list_rows:t.list_rows,type:t.type},(function(a){t.loading=!1,null!=a.data.list.data&&(t.listData=t.listData.concat(a.data.list.data)),t.last_page=a.data.list.last_page,t.last_page<=1&&(t.no_more=!0)}))}}},[["render",function(t,m,f,h,y,b){const D=i,k=_,w=u,v=p("uni-load-more");return a(),s(D,{class:l(["prodcut-list-wrap",t.theme()||""]),"data-theme":t.theme()},{default:e((()=>[o(D,{class:"top-tabbar"},{default:e((()=>[o(D,{class:l(0==y.type?"tab-item active":"tab-item"),onClick:m[0]||(m[0]=t=>b.stateFunc(0))},{default:e((()=>[n("全部")])),_:1},8,["class"]),o(D,{class:l(1==y.type?"tab-item active":"tab-item"),onClick:m[1]||(m[1]=t=>b.stateFunc(1))},{default:e((()=>[n("實物")])),_:1},8,["class"]),o(D,{class:l(2==y.type?"tab-item active":"tab-item"),onClick:m[2]||(m[2]=t=>b.stateFunc(2))},{default:e((()=>[n("虛擬")])),_:1},8,["class"])])),_:1}),o(D,{class:"list"},{default:e((()=>[(a(!0),c(r,null,d(y.listData,((l,i)=>(a(),s(D,{class:"item",key:i},{default:e((()=>[o(D,null,{default:e((()=>[o(D,{class:"f28"},{default:e((()=>[n(g(l.record_name),1)])),_:2},1024),o(D,{class:"f24 gray9"},{default:e((()=>[n(g(l.create_time),1)])),_:2},1024)])),_:2},1024),0==l.status?(a(),s(k,{key:0,class:"btn-red f-s-0 record-list-btn",onClick:a=>t.gotoPage("/pages/plus/lottery/receive?record_id="+l.record_id)},{default:e((()=>[n(" 未領取 ")])),_:2},1032,["onClick"])):(a(),s(k,{key:1,class:"btn-gray record-list-btn f-s-0"},{default:e((()=>[n("已領取")])),_:1}))])),_:2},1024)))),128))])),_:1}),0!=y.listData.length||y.loading?(a(),s(v,{key:1,loadingType:b.loadingType},null,8,["loadingType"])):(a(),s(D,{key:0,class:"d-c-c p30"},{default:e((()=>[o(w,{class:"iconfont icon-wushuju"}),o(w,{class:"cont"},{default:e((()=>[n("親，暫無相關記錄哦")])),_:1})])),_:1}))])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-1a584e2a"]]);export{f as default};
