import{_ as e,o as s,c as t,w as a,b as l,d as r,t as d,f as o,r as i,F as c,e as n,g as u,S as p,i as _,n as f,z as g,B as x,a3 as h,a as D,j as k,k as v}from"./index-6e5c77a7.js";const m=e({components:{expressMaskVue:e({data:()=>({show:!1,product:[]}),methods:{open(e){this.product=e,console.log(e),this.show=!0},close(){this.show=!1}}},[["render",function(e,f,g,x,h,D){const k=u,v=_,m=p;return h.show?(s(),t(k,{key:0,class:"express-mask","data-theme":e.theme()},{default:a((()=>[l(k,{class:"express-content"},{default:a((()=>[l(k,{class:"close-icon iconfont icon-guanbi1",onClick:D.close},null,8,["onClick"]),l(k,{class:"title"},{default:a((()=>[r("包裹中的商品("+d(h.product.length||0)+")",1)])),_:1}),l(k,{class:"desc"},{default:a((()=>[r("若有特殊或組合商品，可能會拆分多個包裹發貨")])),_:1}),l(m,{"scroll-y":"true",class:"product-list"},{default:a((()=>[(s(!0),o(c,null,i(h.product,(e=>(s(),t(k,{key:e,class:"product-item d-s-s one-product"},{default:a((()=>[l(k,{class:"cover"},{default:a((()=>[l(v,{src:e.image_path,model:"aspectFit"},null,8,["src"])])),_:2},1024),l(k,{class:"product-r"},{default:a((()=>[l(k,{class:"product-title"},{default:a((()=>[r(d(e.product_name),1)])),_:2},1024),l(k,{class:"d-b-c"},{default:a((()=>[l(k,{class:"product-num"},{default:a((()=>[r("共"+d(e.delivery_num)+"件",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),l(k,{class:"express-btn theme-btn",onClick:D.close},{default:a((()=>[r("完成")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data-theme"])):n("",!0)}],["__scopeId","data-v-c969f99f"]]),physicalStepVue:e({props:["expressData"],data:()=>({}),methods:{}},[["render",function(e,n,p,_,g,x){const h=u;return s(),t(h,{class:"physical-wrap"},{default:a((()=>[l(h,{class:"physical-title"},{default:a((()=>[r(" 物流詳情 ")])),_:1}),l(h,{class:"step-wrap"},{default:a((()=>[(s(!0),o(c,null,i(p.expressData,((e,o)=>(s(),t(h,{key:o,class:f(["step-item",{active:0==o}])},{default:a((()=>[l(h,{class:"step-circle"}),l(h,{class:"step-title"},{default:a((()=>[r(d(e.status)+" "+d(e.time),1)])),_:2},1024),l(h,{class:"step-desc"},{default:a((()=>[r(d(e.context),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-20ac872e"]])},data:()=>({loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,order_id:0,detail:{express:{}},currentIndex:0,orderDeliverList:[],orderDeliver:{},express:{}}),onLoad(e){g({title:"載入中"}),this.order_id=e.order_id,this.getData()},onShow(){},methods:{getData(){let e=this,s=e.order_id;e._get("user.order/detail",{order_id:s},(function(s){e.orderDeliver={},e.detail=s.data.order,e.orderDeliverList=s.data.order.orderDeliverList,e.orderDeliverList&&e.orderDeliverList.length>0&&(e.orderDeliver=e.orderDeliverList[e.currentIndex]),console.log(1111111111),0==e.detail.is_single?e.getSingleData():1==e.detail.is_single&&e.getMultiData(),e.loadding=!1,x()}))},getSingleData(){let e=this,s=e.order_id;e._get("user.order/express",{order_id:s},(function(s){e.express=s.data,e.loadding=!1,x()}))},getMultiData(){let e=this,s=e.order_id,t={express_id:e.orderDeliver.express_id,express_no:e.orderDeliver.express_no,order_id:s};e._post("user.order/multiExpress",t,(function(s){e.express=s.data,e.loadding=!1,x()}))},changPackage(e){this.currentIndex!=e&&(g({title:"載入中"}),this.currentIndex=e,this.orderDeliver=this.orderDeliverList[this.currentIndex],this.getMultiData())},openProduct(){this.$refs.expressMaskRef.open(this.orderDeliver.product_list)},copy(e){console.log("message",e),h({data:e,success:function(e){D({title:"複製成功",icon:"success",mask:!0,duration:2e3})},fail:function(e){console.log("error",e)}})}}},[["render",function(e,g,x,h,D,m){const y=u,b=p,w=_,C=k,L=v("physicalStepVue"),I=v("expressMaskVue");return s(),t(y,{class:"wrap"},{default:a((()=>[l(y,{class:"order d-b-c"},{default:a((()=>[l(y,{class:"order-num"},{default:a((()=>[r("訂單編號："+d(D.detail.order_no),1)])),_:1}),1==D.detail.is_single?(s(),t(y,{key:0,class:"order-total"},{default:a((()=>[r(d(D.orderDeliverList.length||0)+"個包裹 ",1)])),_:1})):n("",!0)])),_:1}),l(y,{class:"package-box"},{default:a((()=>[1==D.detail.is_single?(s(),t(b,{key:0,class:"package-wrap","scroll-x":"true"},{default:a((()=>[(s(!0),o(c,null,i(D.orderDeliverList,((e,o)=>(s(),t(y,{key:o,class:f(["package-item",{active:D.currentIndex==o}]),onClick:e=>m.changPackage(o)},{default:a((()=>[l(y,{class:"d-c-c"},{default:a((()=>[l(y,{class:"iconfont icon-baoguofahuo"}),l(y,null,{default:a((()=>[r("包裹"+d(o+1),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})):n("",!0),l(y,{class:"package-info"},{default:a((()=>[l(y,{class:"notice"},{default:a((()=>[r(" 快遞走件、催派等物流資訊，請聯絡物流公司，如需平臺接入請聯絡客服 ")])),_:1}),l(y,{class:"base-info"},{default:a((()=>[1==D.detail.is_single?(s(),o(c,{key:0},[l(y,{class:"base-title"},{default:a((()=>[r(d(D.orderDeliver.express_name),1)])),_:1}),l(y,{class:"base-order-no d-s-c"},{default:a((()=>[l(y,null,{default:a((()=>[r("運單號:"+d(D.orderDeliver.express_no),1)])),_:1}),l(y,{class:"base-order-copy",onClick:g[0]||(g[0]=e=>m.copy(D.orderDeliver.express_no))},{default:a((()=>[r("複製")])),_:1})])),_:1})],64)):(s(),o(c,{key:1},[l(y,{class:"base-title"},{default:a((()=>[r(d(D.detail.express.express_name),1)])),_:1}),l(y,{class:"base-order-no d-s-c"},{default:a((()=>[l(y,null,{default:a((()=>[r("運單號:"+d(D.detail.express_no),1)])),_:1}),l(y,{class:"base-order-copy",onClick:g[1]||(g[1]=e=>m.copy(D.detail.express_no))},{default:a((()=>[r("複製")])),_:1})])),_:1})],64)),1==D.detail.is_single?(s(),t(y,{key:2,class:"base-product-list d-b-c"},{default:a((()=>[l(y,null,{default:a((()=>[(s(!0),o(c,null,i(D.orderDeliver.product_list,((e,a)=>(s(),t(w,{key:a,class:"product-img",src:e.image_path,mode:"aspectFill"},null,8,["src"])))),128))])),_:1}),l(y,{class:"product-total",onClick:m.openProduct},{default:a((()=>[r(" 共"+d(D.orderDeliver.product_list&&D.orderDeliver.product_list.length||0)+"種商品",1),l(C,{class:"iconfont icon-jiantou1"})])),_:1},8,["onClick"])])),_:1})):n("",!0)])),_:1})])),_:1}),l(L,{ref:"physicalStepRef",expressData:D.express.express&&D.express.express.list},null,8,["expressData"])])),_:1}),l(I,{ref:"expressMaskRef"},null,512)])),_:1})}],["__scopeId","data-v-cfe27e00"]]);export{m as default};
