import{_ as t,o as e,c as s,w as i,f as o,d as n,F as a,t as r,b as l,q as c,j as h,g as d}from"./index-6e5c77a7.js";const u=t({data:()=>({status:0,day:"0",hour:"0",minute:"0",second:"0",timer:null,totalSeconds:0,title:"還剩"}),props:{config:{type:Object,default:function(){return{type:"all"}}},color:{type:String,default:function(){return"#ffffff"}},timeSize:{type:String,default:function(){return"28rpx"}}},created(){},watch:{config:{deep:!0,handler:function(t,e){t!=e&&0!=t.endstamp&&(t.title&&void 0!==t.title&&(this.title=t.title),this.setTime())},immediate:!0}},methods:{setTime(){let t=this;t.timer=setInterval((function(){t.init()}),1e3)},init(){let t=Date.now()/1e3;t<this.config.startstamp?(this.totalSeconds=parseInt(this.config.startstamp-t),this.status=1,this.title="距開始還剩",this.countDown()):t>this.config.endstamp?this.status=2:(this.totalSeconds=parseInt(this.config.endstamp-t),this.status=0,this.title="距截止還剩",this.countDown()),this.$emit("returnVal",this.status)},countDown(){let t=this.totalSeconds,e=Math.floor(t/86400),s=t%86400,i=Math.floor(s/3600);s%=3600;let o=Math.floor(s/60),n=s%60;this.day=this.convertTwo(e),this.hour=this.convertTwo(i),this.minute=this.convertTwo(o),this.second=this.convertTwo(n),this.totalSeconds--},convertTwo(t){let e="";return e=t<10?"0"+t:t,e},getLocalTime:t=>new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," "),clear(){console.log(1),clearInterval(this.timer),this.timer=null}},destroyed(){clearInterval(this.timer)}},[["render",function(t,u,f,m,p,y){const w=h,g=d;return e(),s(g,{class:"countdown",style:c("color:"+f.color)},{default:i((()=>[2==p.status?(e(),o(a,{key:0},[n("活動已結束")],64)):(e(),o(a,{key:1},[n(r(p.title)+" ",1),l(w,{class:"mr10"},{default:i((()=>[n(r(parseInt(p.day)+"天"),1)])),_:1}),l(w,{class:"f28",style:c("font-size:"+f.timeSize+";")},{default:i((()=>[n(r(parseInt(p.hour))+":"+r(p.minute)+":"+r(p.second),1)])),_:1},8,["style"])],64))])),_:1},8,["style"])}],["__scopeId","data-v-db0aca58"]]);export{u as C};
