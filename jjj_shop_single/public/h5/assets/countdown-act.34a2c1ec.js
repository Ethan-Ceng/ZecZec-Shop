import{_ as t,o as e,c as o,w as s,f as l,d as a,t as c,b as r,q as n,F as i,e as d,n as u,j as y,g as h}from"./index-6e5c77a7.js";const p=t({data:()=>({status:0,day:"0",hour:"0",minute:"0",second:"0",timer:null,totalSeconds:0,title:"活動剩餘："}),props:{config:{type:Object,default:function(){return{type:"all"}}},back_color:{type:String,default:()=>""},cut_color:{type:String,default:()=>""},color:{type:String,default:()=>""},start_name:{type:String,default:()=>"距開始"},end_name:{type:String,default:()=>"距結束"},activeName:{type:String,default:()=>""}},created(){},watch:{config:{deep:!0,handler:function(t,e){t!=e&&0!=t.endstamp&&(t.title&&t.title,this.setTime())},immediate:!0}},methods:{setTime(){let t=this;t.timer=setInterval((function(){t.init()}),1e3)},init(){let t=Date.now()/1e3;t<this.config.startstamp?(this.status=1,this.totalSeconds=parseInt(this.config.startstamp-t),this.countDown(),this.title=this.start_name):t>this.config.endstamp?(this.status=2,this.title=this.end_name):(this.totalSeconds=parseInt(this.config.endstamp-t),this.status=0,this.countDown(),this.title=this.end_name),this.$emit("returnVal",this.status)},countDown(){let t=this.totalSeconds,e=Math.floor(t/86400),o=t%86400,s=Math.floor(o/3600);o%=3600;let l=Math.floor(o/60),a=o%60;this.day=e,this.hour=this.convertTwo(s),this.minute=this.convertTwo(l),this.second=this.convertTwo(a),this.totalSeconds--},convertTwo(t){let e="";return e=t<10?"0"+t:t,e},getLocalTime:t=>new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," "),clear(){console.log(1),clearInterval(this.timer),this.timer=null}},destroyed(){clearInterval(this.timer)}},[["render",function(t,p,f,_,g,m){const b=y,k=h;return e(),o(k,{class:u(["countdown",f.activeName]),style:n("color:"+f.color)},{default:s((()=>[null==f.config.type?(e(),l(i,{key:0},[a(c(g.title),1),r(b,{class:"daybox",style:n("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(g.day)+"天",1)])),_:1},8,["style"]),r(b,{class:"numbox"},{default:s((()=>[a(c(g.hour)+":"+c(g.minute)+":"+c(g.second),1)])),_:1})],64)):d("",!0),"hours"==f.config.type?(e(),l(i,{key:1},[r(b,{style:{"white-space":"nowrap"},class:"mr10"},{default:s((()=>[a(c(g.title),1)])),_:1}),r(b,{class:"box",style:n("background: "+f.back_color+";color:"+f.cut_color+";border-radius: 6rpx;padding: 4rpx;line-height: 1;font-size:24rpx;")},{default:s((()=>[a(c(parseInt(24*g.day)+parseInt(g.hour)),1)])),_:1},8,["style"]),r(b,{class:"p-0-10",style:n("color:"+f.color)},{default:s((()=>[a(":")])),_:1},8,["style"]),r(b,{class:"box",style:n("background: "+f.back_color+";color:"+f.cut_color+";border-radius: 6rpx;padding: 4rpx;line-height: 1;font-size:24rpx;")},{default:s((()=>[a(c(g.minute),1)])),_:1},8,["style"]),r(b,{class:"p-0-10",style:n("color:"+f.color)},{default:s((()=>[a(":")])),_:1},8,["style"]),r(b,{class:"box",style:n("background: "+f.back_color+";color:"+f.cut_color+";border-radius: 6rpx;padding: 4rpx;line-height: 1;font-size:24rpx;")},{default:s((()=>[a(c(g.second),1)])),_:1},8,["style"]),r(b,{class:"p-0-10",style:n("color:"+f.color)},null,8,["style"])],64)):d("",!0),"text"===f.config.type?(e(),l(i,{key:2},[a(c(parseInt(24*g.day)+parseInt(g.hour))+":"+c(g.minute)+":"+c(g.second),1)],64)):d("",!0),"preview"===f.config.type?(e(),l(i,{key:3},[a(c(g.title),1),r(b,{class:"daybox",style:n("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(g.day)+"天",1)])),_:1},8,["style"]),r(b,{class:"box",style:n("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(g.hour),1)])),_:1},8,["style"]),r(b,{class:"p-0-10",style:n("color:"+f.color)},{default:s((()=>[a(":")])),_:1},8,["style"]),r(b,{class:"box",style:n("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(g.minute),1)])),_:1},8,["style"]),r(b,{class:"p-0-10",style:n("color:"+f.color)},{default:s((()=>[a(":")])),_:1},8,["style"]),r(b,{class:"box",style:n("background-color: "+f.back_color+";color:"+f.cut_color)},{default:s((()=>[a(c(g.second),1)])),_:1},8,["style"]),r(b,{class:"p-0-10",style:n("color:"+f.color)},null,8,["style"])],64)):d("",!0)])),_:1},8,["style","class"])}],["__scopeId","data-v-2a1bded9"]]);export{p as C};
