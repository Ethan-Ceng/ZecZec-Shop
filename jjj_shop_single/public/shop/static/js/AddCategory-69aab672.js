import{E as e,d as o,e as a,f as t,c as s,q as r}from"./element-plus-84a27f94.js";import{F as l}from"./file-b7a04c7e.js";import{_ as i}from"./index-5ae5860a.js";import{o as m,T as d,S as u,P as c,W as n}from"./@vue-8fe4574d.js";const g=i({data:()=>({dialogVisible:!0,form:{categoryname:""},categoryName:""}),props:["category","file_type"],created(){null!=this.category&&(this.form.categoryname=this.category.group_name,this.form.group_id=this.category.group_id)},methods:{addCategory:function(o){let a=this;l.addCategory({group_name:o,group_type:a.file_type}).then((o=>{e({message:"新增成功",type:"success"}),a.handleClose({status:"success"})})).catch((o=>{e.error("新增失敗")}))},editCategory:function(o){let a=this,t={group_name:o.categoryname,group_id:o.group_id};l.editCategory(t).then((o=>{e({message:"修改成功",type:"success"}),a.handleClose({status:"success"})})).catch((o=>{e.error("修改失敗")}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.category&&null!=this.category.group_id?this.editCategory(this.form):this.addCategory(this.form.categoryname)}))},handleClose(e){this.dialogVisible=!1,this.$emit("closeCategory",e)}}},[["render",function(e,l,i,g,f,p){const y=o,h=a,_=t,C=s,b=r;return m(),d(b,{title:"新增分類",modelValue:f.dialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>f.dialogVisible=e),width:"30%","before-close":p.handleClose,"append-to-body":!0},{default:u((()=>[c(C,{size:"small",model:f.form,ref:"form","label-width":"100px",class:"demo-ruleForm"},{default:u((()=>[c(h,{label:"分類名稱",prop:"categoryname",rules:[{required:!0,message:"名字不能為空"}]},{default:u((()=>[c(y,{type:"age",modelValue:f.form.categoryname,"onUpdate:modelValue":l[0]||(l[0]=e=>f.form.categoryname=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),c(h,null,{default:u((()=>[c(_,{size:"small",onClick:p.handleClose},{default:u((()=>[n("取消")])),_:1},8,["onClick"]),c(_,{size:"small",type:"primary",onClick:l[1]||(l[1]=e=>p.submitForm("form"))},{default:u((()=>[n("提交")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","before-close"])}]]);export{g as _};
