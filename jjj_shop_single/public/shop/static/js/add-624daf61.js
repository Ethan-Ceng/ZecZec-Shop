import{_ as e}from"./GetUser-4ce5b94f.js";import{E as s,f as a,L as l,C as o,e as t,s as r,t as i,d,m,g as n,c as u}from"./element-plus-84a27f94.js";import{S as p}from"./store-4d27d007.js";import{_ as c}from"./index-5ae5860a.js";import{o as f,c as _,P as b,S as j,W as h,a as g,Y as v,Q as k,a9 as C,T as y,bb as V,b9 as w}from"./@vue-8fe4574d.js";import"./data-05520354.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";const x={components:{GetUser:e},data:()=>({form:{user_id:"",sotre_id:"",status:1,real_name:"",mobile:""},user_info:{},open_add:!1,storeList:[],loading:!1}),created(){this.getTableList()},methods:{onSubmit(){let e=this,a=e.form;e.$refs.form.validate((l=>{l&&(e.loading=!0,p.addClerk(a,!0).then((a=>{e.loading=!1,1==a.code?(s({message:"恭喜你，店員新增成功",type:"success"}),e.$router.push("/store/clerk/index")):e.loading=!1})).catch((s=>{e.loading=!1})))}))},getTableList(){p.toAddClerk({},!0).then((e=>{this.storeList=e.data.store_list})).catch((e=>{}))},addClick(){this.open_add=!0},closeDialogFunc(e){e&&"error"!=e.type&&(this.user_info=e.params[0],this.form.user_id=e.params[0].user_id),this.open_add=!1},cancelFunc(){this.$router.back(-1)}}},U={class:"product-add"},L=(e=>(V("data-v-83023bab"),e=e(),w(),e))((()=>g("div",{class:"common-form"},"新增店員",-1))),z={key:0,class:"img"},F=["src"],S={class:"ww100"},q={class:"common-button-wrapper"};const D=c(x,[["render",function(s,p,c,V,w,x){const D=a,P=l,T=o,$=t,A=r,G=i,M=d,E=m,H=n,I=u,Q=e;return f(),_("div",U,[b(I,{size:"small",ref:"form",model:w.form,"label-width":"200px"},{default:j((()=>[L,b($,{label:"選擇使用者"},{default:j((()=>[b(T,null,{default:j((()=>[b(D,{onClick:x.addClick,icon:"Plus"},{default:j((()=>[h("選擇會員")])),_:1},8,["onClick"]),""!=w.form.user_id?(f(),_("div",z,[g("img",{src:w.user_info.avatarUrl,width:"100",height:"100"},null,8,F)])):v("",!0),g("div",S,[b(P,{underline:!1,disabled:""},{default:j((()=>[h("選擇後不可更改")])),_:1})])])),_:1})])),_:1}),b($,{label:"所屬門店"},{default:j((()=>[b(G,{modelValue:w.form.store_id,"onUpdate:modelValue":p[0]||(p[0]=e=>w.form.store_id=e),placeholder:"請選擇",style:{width:"460px"}},{default:j((()=>[(f(!0),_(k,null,C(w.storeList,((e,s)=>(f(),y(A,{key:s,label:e.store_name,value:e.store_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b($,{label:"店員姓名",prop:"real_name",rules:[{required:!0,message:"請輸入店員姓名"}]},{default:j((()=>[b(M,{class:"max-w460",modelValue:w.form.real_name,"onUpdate:modelValue":p[1]||(p[1]=e=>w.form.real_name=e),modelModifiers:{trim:!0},placeholder:"請輸入店員姓名"},null,8,["modelValue"])])),_:1}),b($,{label:"手機號",prop:"mobile",rules:[{required:!0,message:"請輸入手機號"}]},{default:j((()=>[b(M,{class:"max-w460",modelValue:w.form.mobile,"onUpdate:modelValue":p[2]||(p[2]=e=>w.form.mobile=e),modelModifiers:{trim:!0},placeholder:"請輸入手機號"},null,8,["modelValue"])])),_:1}),b($,{label:"狀態"},{default:j((()=>[b(H,{modelValue:w.form.status,"onUpdate:modelValue":p[3]||(p[3]=e=>w.form.status=e)},{default:j((()=>[b(E,{label:1},{default:j((()=>[h("啟用")])),_:1}),b(E,{label:0},{default:j((()=>[h("停用")])),_:1})])),_:1},8,["modelValue"])])),_:1}),g("div",q,[b(D,{size:"small",type:"info",onClick:x.cancelFunc},{default:j((()=>[h("取消")])),_:1},8,["onClick"]),b(D,{size:"small",type:"primary",onClick:x.onSubmit,loading:w.loading},{default:j((()=>[h("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"]),b(Q,{is_open:w.open_add,onClose:x.closeDialogFunc},null,8,["is_open","onClose"])])}],["__scopeId","data-v-83023bab"]]);export{D as default};
