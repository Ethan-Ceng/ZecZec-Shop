System.register(["./element-plus-legacy-4010b94c.js","./product-legacy-4257f291.js","./index-legacy-a1d733aa.js","./@vue-legacy-a5eb5da2.js"],(function(e,t){"use strict";var l,n,a,i,o,r,u,c,s,d,h,f,g,p,m,y,C,b,_,v,k,S,z,V,w,x=document.createElement("style");return x.textContent=".no-list .el-checkbox[data-v-3ca5fd40]{display:none}\n",document.head.appendChild(x),{setters:[function(e){l=e.E,n=e.s,a=e.t,i=e.e,o=e.f,r=e.d,u=e.c,c=e.l,s=e.i,d=e.p,h=e.q,f=e.v},function(e){g=e.P},function(e){p=e._},function(e){m=e.o,y=e.T,C=e.S,b=e.a,_=e.P,v=e.W,k=e.Y,S=e.c,z=e.Q,V=e.a9,w=e.$}],execute:function(){var t={class:"common-seach-wrap"},x={class:"product-content"},I={class:"table-wrap"},D=["src"],L={class:"pagination"},P={class:"dialog-footer"};e("P",p({data:function(){return{loading:!0,curPage:1,pageSize:10,totalDataNumber:0,formInline:{},cateList:[],productList:[],status:[{id:10,name:"上架"},{id:20,name:"下架"}],multipleSelection:[],formLabelWidth:"120px",dialogVisible:!1,type:"error",params:null}},props:["isproduct","excludeIds","islist"],watch:{isproduct:function(e,t){e!=t&&e&&(this.dialogVisible=e,this.type="error",this.params=null,this.getData())}},created:function(){},methods:{selectableFunc:function(e){return"boolean"!=typeof e.noChoose||e.noChoose},handleCurrentChange:function(e){this.curPage=e,this.getData()},handleSizeChange:function(e){this.curPage=1,this.pageSize=e,this.getData()},getData:function(){var e=this,t=e.formInline;t.page=e.curPage,t.list_rows=e.pageSize,g.chooseLists(t,!0).then((function(t){1==t.code&&(e.loading=!1,e.cateList=t.data.category,e.excludeIds&&void 0!==e.excludeIds&&e.excludeIds.length>0?t.data.list.data.forEach((function(t){e.excludeIds.indexOf(t.product_id)>-1?t.noChoose=!1:t.noChoose=!0})):e.islist||t.data.list.data.forEach((function(e){e.noChoose=!0})),e.productList=t.data.list.data,e.totalDataNumber=t.data.list.total)})).catch((function(e){}))},SingleFunc:function(e){this.multipleSelection=[e],this.addClerk()},addClerk:function(){var e=this,t=null;e.multipleSelection.length<1?l({message:"請至少選擇一件產品商品！",type:"error"}):(e.islist&&void 0!==e.islist?(e.multipleSelection.forEach((function(e){e.image=e.image[0].file_path})),t=e.multipleSelection):(t=e.multipleSelection[0]).image=t.image[0].file_path,e.params=t,e.type="success",e.dialogVisible=!1)},dialogFormVisible:function(){this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.params})},tableCurrentChange:function(e){this.multipleSelection=e}}},[["render",function(e,l,g,p,F,j){var E=n,N=a,U=i,W=o,$=r,q=u,O=c,Q=s,T=d,Y=h,A=f;return m(),y(Y,{title:"選擇商品",modelValue:F.dialogVisible,"onUpdate:modelValue":l[3]||(l[3]=function(e){return F.dialogVisible=e}),onClose:j.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:C((function(){return[b("div",P,[_(W,{size:"small",onClick:l[2]||(l[2]=function(e){return F.dialogVisible=!1})},{default:C((function(){return[v("取 消")]})),_:1}),g.islist?(m(),y(W,{key:0,size:"small",type:"primary",onClick:j.addClerk},{default:C((function(){return[v("確 定")]})),_:1},8,["onClick"])):k("",!0)])]})),default:C((function(){return[b("div",t,[_(q,{inline:!0,size:"small",model:F.formInline,class:"demo-form-inline"},{default:C((function(){return[_(U,{label:"商品分類"},{default:C((function(){return[_(N,{modelValue:F.formInline.category_id,"onUpdate:modelValue":l[0]||(l[0]=function(e){return F.formInline.category_id=e}),placeholder:"請選擇商品分類"},{default:C((function(){return[_(E,{value:0,label:"全部"}),(m(!0),S(z,null,V(F.cateList,(function(e){return m(),S(z,{key:e.category_id},[_(E,{value:e.category_id,label:e.name},null,8,["value","label"]),e.child&&e.child.length>0?(m(!0),S(z,{key:0},V(e.child,(function(e){return m(),S(z,{key:e.category_id},[_(E,{value:e.category_id,label:e.name,style:{"padding-left":"30px"}},null,8,["value","label"]),e.child&&e.child.length>0?(m(!0),S(z,{key:0},V(e.child,(function(e){return m(),y(E,{key:e.category_id,value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])})),128)):k("",!0)],64)})),128)):k("",!0)],64)})),128))]})),_:1},8,["modelValue"])]})),_:1}),_(U,{label:"商品名稱"},{default:C((function(){return[_($,{placeholder:"請輸入商品名稱",modelValue:F.formInline.search,"onUpdate:modelValue":l[1]||(l[1]=function(e){return F.formInline.search=e})},{append:C((function(){return[_(W,{icon:"Search",onClick:j.getData},{default:C((function(){return[v("查詢")]})),_:1},8,["onClick"])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]),b("div",x,[b("div",I,[w((m(),y(Q,{size:"small",data:F.productList,border:"",style:{width:"100%"},"highlight-current-row":"",onSelectionChange:j.tableCurrentChange},{default:C((function(){return[_(O,{width:"70",label:"商品圖片"},{default:C((function(e){var t=e.row;return[b("img",{src:t.image&&t.image[0].file_path,width:"30",height:"30"},null,8,D)]})),_:1}),_(O,{prop:"product_name",label:"商品名稱"}),_(O,{prop:"category.name",width:"100",label:"商品分類"}),_(O,{prop:"create_time",width:"140",label:"新增時間"}),g.islist?(m(),y(O,{key:0,type:"selection",selectable:j.selectableFunc,width:"44"},null,8,["selectable"])):k("",!0),g.islist?k("",!0):(m(),y(O,{key:1,width:"80",label:"單選"},{default:C((function(e){var t=e.row;return[t.noChoose?(m(),y(W,{key:0,size:"small",onClick:function(e){return j.SingleFunc(t)}},{default:C((function(){return[v("選擇")]})),_:2},1032,["onClick"])):(m(),y(W,{key:1,size:"small",disabled:""},{default:C((function(){return[v("已選")]})),_:1}))]})),_:1}))]})),_:1},8,["data","onSelectionChange"])),[[A,F.loading]])]),b("div",L,[_(T,{onSizeChange:j.handleSizeChange,onCurrentChange:j.handleCurrentChange,background:"","current-page":F.curPage,"page-sizes":[2,10,20,50,100],"page-size":F.pageSize,layout:"total, prev, pager, next, jumper",total:F.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])]})),_:1},8,["modelValue","onClose"])}],["__scopeId","data-v-3ca5fd40"]]))}}}));
