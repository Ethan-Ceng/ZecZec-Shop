System.register(["./element-plus-legacy-4010b94c.js","./index-legacy-a1d733aa.js","./@vue-legacy-a5eb5da2.js"],(function(e,t){"use strict";var n,o,l,i,a,u,r,d,c,f,s,m,p,_,g,b,h,y,V,w,v=document.createElement("style");return v.textContent=".img[data-v-87bde13b]{margin-top:10px}\n",document.head.appendChild(v),{setters:[function(e){n=e.E,o=e.e,l=e.m,i=e.g,a=e.d,u=e.c,r=e.f,d=e.q},function(e){c=e.r,f=e._},function(e){s=e.o,m=e.T,p=e.S,_=e.a,g=e.P,b=e.W,h=e.X,y=e.Y,V=e.c,w=e.Q}],execute:function(){var t=e("a",{toEditProduct:function(e,t){return c._get("/shop/plus.agent.product/edit",e,t)},editProduct:function(e,t){return c._post("/shop/plus.agent.product/edit",e,t)},getList:function(e,t){return c._get("/shop/plus.agent.product/index",e,t)},setAgent:function(e,t){return c._post("/shop/plus.agent.product/setAgent",e,t)}}),v={class:"dialog-footer"},x=e("A",f({data:function(){return{form:{is_ind_agent:0},unit:"%",is_agent:0,basicSetting:{},formLabelWidth:"120px",dialogVisible:!1,loading:!1}},props:["open_agent","productModel"],created:function(){this.is_agent=this.productModel.is_agent,this.dialogVisible=this.open_agent,this.getData()},methods:{getData:function(){var e=this;t.toEditProduct({product_id:e.productModel.product_id}).then((function(t){e.form=t.data.agent_product,null==e.form&&(e.form={is_ind_agent:0,agent_money_type:10}),e.basicSetting=t.data.basicSetting})).catch((function(e){}))},changeMoneyType:function(e){this.unit="10"==e?"%":"元"},saveProduct:function(){var e=this,o=e.form;o.product_id=e.productModel.product_id,o.is_agent=e.is_agent,e.loading=!0,t.editProduct(o).then((function(t){e.loading=!1,n({message:t.msg,type:"success"}),e.dialogFormVisible(!0)})).catch((function(t){e.loading=!1}))},dialogFormVisible:function(e){e?this.$emit("closeDialog",{type:"success",openDialog:!1}):this.$emit("closeDialog",{type:"error",openDialog:!1})}}},[["render",function(e,t,n,c,f,x){var C=o,L=l,S=i,W=a,k=u,M=r,P=d;return s(),m(P,{title:"商品規則",modelValue:f.dialogVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return f.dialogVisible=e}),onClose:x.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px"},{footer:p((function(){return[_("div",v,[g(M,{onClick:t[6]||(t[6]=function(e){return x.dialogFormVisible(!1)})},{default:p((function(){return[b("取 消")]})),_:1}),g(M,{type:"primary",onClick:x.saveProduct,loading:f.loading},{default:p((function(){return[b("確 定")]})),_:1},8,["onClick","loading"])])]})),default:p((function(){return[g(k,{size:"small",model:f.form,ref:"form"},{default:p((function(){return[g(C,{label:"商品名稱","label-width":f.formLabelWidth},{default:p((function(){return[_("span",null,h(n.productModel.product_name),1)]})),_:1},8,["label-width"]),g(C,{label:"是否參與推廣","label-width":f.formLabelWidth},{default:p((function(){return[g(S,{modelValue:f.is_agent,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.is_agent=e})},{default:p((function(){return[g(L,{label:1},{default:p((function(){return[b("參與")]})),_:1}),g(L,{label:0},{default:p((function(){return[b("不參與")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),f.is_agent?(s(),m(C,{key:0,label:"是否開啟單獨分銷：","label-width":f.formLabelWidth},{default:p((function(){return[g(S,{modelValue:f.form.is_ind_agent,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.form.is_ind_agent=e})},{default:p((function(){return[g(L,{label:1},{default:p((function(){return[b("開啟")]})),_:1}),g(L,{label:0},{default:p((function(){return[b("關閉")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"])):y("",!0),1==f.form.is_ind_agent&&1==f.is_agent?(s(),V(w,{key:1},[g(C,{label:"分銷佣金型別：","label-width":f.formLabelWidth},{default:p((function(){return[g(S,{modelValue:f.form.agent_money_type,"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.form.agent_money_type=e}),onChange:x.changeMoneyType},{default:p((function(){return[g(L,{label:10},{default:p((function(){return[b("百分比")]})),_:1}),g(L,{label:20},{default:p((function(){return[b("固定金額")]})),_:1})]})),_:1},8,["modelValue","onChange"])]})),_:1},8,["label-width"]),g(C,{label:"單獨分銷設定：","label-width":f.formLabelWidth},{default:p((function(){return[g(W,{type:"number",min:"0",modelValue:f.form.first_money,"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.form.first_money=e}),class:"max-w460"},{prepend:p((function(){return[b(" 一級佣金： ")]})),append:p((function(){return[b(h(f.unit),1)]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),f.basicSetting.level>=2?(s(),m(C,{key:0,label:"","label-width":f.formLabelWidth},{default:p((function(){return[g(W,{type:"number",min:"0",modelValue:f.form.second_money,"onUpdate:modelValue":t[4]||(t[4]=function(e){return f.form.second_money=e}),class:"max-w460"},{prepend:p((function(){return[b(" 二級佣金： ")]})),append:p((function(){return[b(h(f.unit),1)]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"])):y("",!0),f.basicSetting.level>=3?(s(),m(C,{key:1,label:"","label-width":f.formLabelWidth},{default:p((function(){return[g(W,{type:"number",min:"0",modelValue:f.form.third_money,"onUpdate:modelValue":t[5]||(t[5]=function(e){return f.form.third_money=e}),class:"max-w460"},{prepend:p((function(){return[b(" 三級佣金： ")]})),append:p((function(){return[b(h(f.unit),1)]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"])):y("",!0)],64)):y("",!0)]})),_:1},8,["model"])]})),_:1},8,["modelValue","onClose"])}],["__scopeId","data-v-87bde13b"]])),C=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"}));e("b",C)}}}));
