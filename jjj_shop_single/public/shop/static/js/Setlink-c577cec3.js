import{s as e,t as a,v as t,d as l,e as i,c as s,f as n,l as o,i as c,p as d,x as r,y as u,A as g,q as p}from"./element-plus-84a27f94.js";import{_ as m,r as h}from"./index-5ae5860a.js";import{o as v,T as b,S as y,c as f,Q as _,a9 as D,$ as k,P as C,a as L,W as V,ap as F,Y as w,X as P,ae as z,bb as x,b9 as S}from"./@vue-8fe4574d.js";import{A as T}from"./article-f18c4871.js";import{P as N}from"./product-6ff3546d.js";const U=m({data:()=>({pages:[{url:"/pages/user/address/address",name:"收貨地址",type:"選單"},{url:"/pages/coupon/coupon",name:"領券中心",type:"選單"},{url:"/pages/user/my-coupon/my-coupon",name:"我的優惠券",type:"選單"},{url:"/pages/agent/index/index",name:"分銷中心",type:"選單"},{url:"/pages/user/my-bargain/my-bargain",name:"我的砍價",type:"選單"},{url:"/pages/plus/giftpackage/giftlist",name:"我的禮包",type:"選單"},{url:"/pages/user/favorite/favorite",name:"我的收藏",type:"選單"},{url:"/pages/order/assemble-order",name:"我的拼團",type:"選單"},{url:"/pages/plus/signin/signin",name:"簽到有禮",type:"選單"},{url:"/pages/task/index",name:"任務中心",type:"選單"},{url:"/pages/user/evaluate/list",name:"我的評價",type:"選單"},{url:"/pages/user/set/set",name:"設定",type:"選單"}],activePage:"收貨地址"}),created(){this.changeFunc(this.pages[0])},methods:{changeFunc(e){this.$emit("changeData",e)}}},[["render",function(t,l,i,s,n,o){const c=e,d=a;return v(),b(d,{modelValue:n.activePage,"onUpdate:modelValue":l[0]||(l[0]=e=>n.activePage=e),placeholder:"請選擇",class:"percent-w100",onChange:o.changeFunc,"value-key":"url"},{default:y((()=>[(v(!0),f(_,null,D(n.pages,(e=>(v(),b(c,{key:e.url,"value-key":e.name,label:e.name,value:e},null,8,["value-key","label","value"])))),128))])),_:1},8,["modelValue","onChange"])}]]);let $={getList:(e,a)=>h._post("/shop/data.link/index",e,a),getPageList:(e,a)=>h._post("/shop/data.link/getPageList",e,a)};const A=m({data:()=>({loading:!0,pages:[],activePage:{}}),created(){this.getData()},methods:{getData(){let e=this;$.getPageList({},!0).then((a=>{e.loading=!1;let t=[];for(let e=0,l=a.data.list.length;e<l;e++){let l=a.data.list[e],i={url:"pages/diy-page/diy-page?page_id="+l.page_id,name:l.page_name,type:"自定義頁面"};t.push(i)}e.pages=t,e.pages.length>0&&(e.activePage=e.pages[0],e.changeFunc(e.activePage))})).catch((a=>{e.loading=!1}))},changeFunc(e){this.$emit("changeData",e)}}},[["render",function(l,i,s,n,o,c){const d=e,r=a,u=t;return k((v(),b(r,{modelValue:o.activePage,"onUpdate:modelValue":i[0]||(i[0]=e=>o.activePage=e),placeholder:"請選擇",class:"percent-w100",onChange:c.changeFunc,"value-key":"url"},{default:y((()=>[(v(!0),f(_,null,D(o.pages,(e=>(v(),b(d,{key:e.url,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])),[[u,o.loading]])}]]),j={data:()=>({formmodel:{}}),created(){this.changeFunc("")},methods:{changeFunc(e){let a={name:"https://"+e,url:"pages/webview/webview?url=https://"+e,type:"H5"};this.$emit("changeData",a)}}},H=L("p",null,"注意一：連結的網頁必須支援SSL ，連結必須以 https:// 開頭，否則無法跳轉",-1),I=L("p",null,"注意二：連結的域名必須是備案域名，否則無法跳轉",-1),M=L("p",null,"注意三：您的網站域名必須加到微信小程式公眾平臺的業務域名處,詳細說明？",-1);const O=m(j,[["render",function(e,a,t,n,o,c){const d=l,r=i,u=s;return v(),b(u,{"label-width":"80px",model:o.formmodel},{default:y((()=>[C(r,{label:"https://"},{default:y((()=>[C(d,{modelValue:o.formmodel.name,"onUpdate:modelValue":a[0]||(a[0]=e=>o.formmodel.name=e),onInput:c.changeFunc},null,8,["modelValue","onInput"])])),_:1}),C(r,{label:""},{default:y((()=>[H,I,M])),_:1})])),_:1},8,["model"])}]]),q={class:"article-box"},B={class:"common-seach-wrap"},Q={class:"article-content"},W={class:"table-wrap"},X={class:"pagination"};const Y=m({data:()=>({activeTab:"second",pageSize:5,totalDataNumber:0,curPage:1,loading:!0,tableData:[],activePage:{}}),created(){this.chooseList(),this.getData()},watch:{},methods:{handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.pageSize=e,this.curPage=1,this.getData()},getData(){let e=this;e.loading=!0;let a={};a.page=e.curPage,a.list_rows=e.pageSize,T.articlelist(a,!0).then((a=>{e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total})).catch((e=>{}))},changeFunc(e){let a={};a.name=e.article_title,a.url="pages/article/detail/detail?article_id="+e.article_id,a.type="文章",this.$emit("changeData",a)},chooseList(){let e={name:"文章列表",url:"pages/article/list/list",type:"文章"};this.$emit("changeData",e)}}},[["render",function(e,a,t,l,r,u){const g=n,p=i,m=s,h=o,b=c,_=d;return v(),f("div",q,[L("div",B,[C(m,{size:"small",inline:!0,class:"demo-form-inline"},{default:y((()=>[C(p,null,{default:y((()=>[C(g,{size:"small",icon:"Memo",onClick:u.chooseList},{default:y((()=>[V("選擇文章列表")])),_:1},8,["onClick"])])),_:1})])),_:1})]),L("div",Q,[L("div",W,[C(b,{size:"small",data:r.tableData,border:"",style:{width:"100%"}},{default:y((()=>[C(h,{prop:"article_title",label:"文章標題"}),C(h,{prop:"category.name",label:"文章分類",width:"80"}),C(h,{label:"操作",width:"80"},{default:y((e=>[C(g,{size:"small",onClick:a=>u.changeFunc(e.row)},{default:y((()=>[V("選擇")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),L("div",X,[C(_,{onSizeChange:u.handleSizeChange,onCurrentChange:u.handleCurrentChange,background:"","current-page":r.curPage,"page-size":r.pageSize,layout:"total, prev, pager, next, jumper",total:r.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]),E={class:"marketing-box"};const G=m({data:()=>({activeTab:"signin",pages:[],activePage:null,presaleList:[{id:0,url:"pages/plus/presale/list",name:"預售",type:"營銷"}],seckillList:[{id:0,url:"pages/plus/seckill/list/list",name:"秒殺",type:"營銷"}],signinList:[{id:0,url:"pages/plus/signin/signin",name:"簽到",type:"營銷"}],pointsList:[{id:0,url:"pages/plus/points/list/list",name:"積分商城",type:"營銷"}],assembleList:[{id:0,url:"pages/plus/assemble/list/list",name:"拼團",type:"營銷"}],bargainList:[{id:0,url:"pages/plus/bargain/list/list",name:"砍價",type:"營銷"}],packageList:[],invitationList:[],couponList:[{id:0,url:"pages/coupon/coupon",name:"優惠券",type:"營銷"}],lotteryList:[{id:0,url:"pages/plus/lottery/lottery",name:"幸運轉盤",type:"營銷"}],tableList:[],taskList:[{id:0,url:"pages/task/index",name:"任務中心",type:"營銷"}],previewList:[{id:0,url:"pages/plus/preview/list",name:"預告",type:"營銷"}]}),watch:{activeTab:function(e,a){let t=this;t.pages=[],e!=a&&("signin"==e?t.pages=t.signinList:"points"==e?t.pages=t.pointsList:"presale"==e?t.pages=t.presaleList:"seckill"==e?t.pages=t.seckillList:"assemble"==e?t.pages=t.assembleList:"bargain"==e?t.pages=t.bargainList:"package"==e?t.pages=t.packageList:"invitation"==e?t.pages=t.invitationList:"coupon"==e?t.pages=t.couponList:"lottery"==e?t.pages=t.lotteryList:"table"==e?t.pages=t.tableList:"task"==e?t.pages=t.taskList:"preview"==e&&(t.pages=t.previewList),t.autoSend())}},created(){this.pages=this.signinList,this.autoSend(),this.getData()},methods:{getData(){let e=this;$.getList({},!0).then((a=>{e.packageList=a.data.packageList,e.invitationList=a.data.invitationList,e.tableList=a.data.tableList})).catch((e=>{}))},autoSend(){this.pages.length>0&&(this.activePage=this.pages[0],this.changeFunc())},changeFunc(e){this.$emit("changeData",this.activePage)}}},[["render",function(t,l,i,s,n,o){const c=r,d=u,g=e,p=a;return v(),f("div",E,[C(d,{modelValue:n.activeTab,"onUpdate:modelValue":l[0]||(l[0]=e=>n.activeTab=e)},{default:y((()=>[C(c,{label:"簽到",name:"signin"}),C(c,{label:"積分商城",name:"points"}),C(c,{label:"預售",name:"presale"}),C(c,{label:"秒殺",name:"seckill"}),C(c,{label:"預告",name:"preview"}),C(c,{label:"拼團",name:"assemble"}),C(c,{label:"砍價",name:"bargain"}),C(c,{label:"禮包購",disabled:n.packageList.length<=0,name:"package"},null,8,["disabled"]),C(c,{label:"邀請有禮",disabled:n.invitationList.length<=0,name:"invitation"},null,8,["disabled"]),C(c,{label:"優惠券",name:"coupon"}),C(c,{label:"幸運轉盤",name:"lottery"}),C(c,{label:"萬能表單",disabled:n.tableList.length<=0,name:"table"},null,8,["disabled"]),C(c,{label:"任務中心",name:"task"})])),_:1},8,["modelValue"]),C(p,{modelValue:n.activePage,"onUpdate:modelValue":l[1]||(l[1]=e=>n.activePage=e),placeholder:"請選擇",class:"percent-w100",onChange:o.changeFunc,"value-key":"id"},{default:y((()=>[(v(!0),f(_,null,D(n.pages,((e,a)=>(v(),b(g,{key:a,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])}]]);const J=m({data:()=>({pages:[{url:"pages/index/index",name:"首頁",type:"頁面"},{url:"pages/product/category",name:"分類",type:"頁面"},{url:"pages/article/list/list",name:"文章首頁",type:"頁面"},{url:"pages/cart/cart",name:"購物車",type:"頁面"},{url:"pages/order/myorder",name:"訂單",type:"頁面"},{url:"pages/user/index/index",name:"我的",type:"頁面"},{url:"pages/code/code",name:"提貨頁面",type:"頁面"},{url:"pages/order/codeorder",name:"提貨訂單",type:"頁面"}],activePage:"首頁"}),created(){this.changeFunc(this.pages[0])},methods:{changeFunc(e){this.$emit("changeData",e)}}},[["render",function(t,l,i,s,n,o){const c=e,d=a;return v(),b(d,{modelValue:n.activePage,"onUpdate:modelValue":l[0]||(l[0]=e=>n.activePage=e),placeholder:"請選擇",class:"percent-w100",onChange:o.changeFunc,"value-key":"url"},{default:y((()=>[(v(!0),f(_,null,D(n.pages,(e=>(v(),b(c,{key:e.url,"value-key":e.name,label:e.name,value:e},null,8,["value-key","label","value"])))),128))])),_:1},8,["modelValue","onChange"])}]]),K={class:"marketing-box"},R={key:0,class:"product"},Z={class:"product-content"},ee={class:"table-wrap type-table"},ae={key:1,class:"product-list"},te={class:"common-seach-wrap"},le={class:"product-content"},ie={class:"table-wrap setlink-product-table"},se={class:"product-info"},ne={class:"pic"},oe={alt:""},ce={class:"info"},de={class:"name text-ellipsis"},re={class:"red"},ue={class:"pagination"};const ge=m({data:()=>({loading:!0,activeTab:"type",categoryList:[],categoryActive:[],searchForm:{product_name:""},tableData:[],pageSize:5,totalDataNumber:0,curPage:1,activePage:null}),created(){this.getCategory()},watch:{activeTab:function(e,a){e!=a&&(this.tableData=[],"type"==e&&this.autoType(),"detail"==e&&this.getData())}},methods:{getCategory(){let e=this;e.loading=!0,N.catList({},!0).then((a=>{e.categoryList=a.data.list,e.autoType(),e.loading=!1})).catch((a=>{e.loading=!1}))},autoType(e){if(e|=0,this.categoryActive=[],this.categoryList.length>0){let a=this.categoryList[e];this.categoryActive.push(a.category_id),a.child&&void 0!==a.child&&a.child.length>0?(this.categoryActive.push(a.child[0].category_id),this.changeFunc(a.child[0])):(e++,this.autoType(e))}},changeCategory(e){let a=this.$refs.cascader.getCheckedNodes();this.changeFunc(a[0].data)},handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.pageSize=e,this.curPage=0,this.getData()},getData(){let e=this;e.loading=!0;let a={};a.page=e.curPage,a.list_rows=e.pageSize,a.product_name=e.searchForm.product_name,N.productList(a,!0).then((a=>{e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,1==e.curPage&&e.tableData.length>0&&e.changeFunc(e.tableData[0])})).catch((a=>{e.loading=!1}))},onSubmit(){this.curPage=0,this.getData()},changeFunc(e){let a={};"type"==this.activeTab&&(a.name=e.name,a.url="pages/product/list/list?category_id="+e.category_id,a.type="商品分類"),"detail"==this.activeTab&&(a.name=e.product_name,a.url="pages/product/detail/detail?product_id="+e.product_id,a.type="商品詳情"),this.$emit("changeData",a)}}},[["render",function(e,a,p,m,h,b){const _=r,D=u,z=g,x=l,S=i,T=n,N=s,U=o,$=c,A=d,j=t,H=F("img-url");return v(),f("div",K,[C(D,{modelValue:h.activeTab,"onUpdate:modelValue":a[0]||(a[0]=e=>h.activeTab=e)},{default:y((()=>[C(_,{label:"分類",name:"type"}),C(_,{label:"詳情",name:"detail"})])),_:1},8,["modelValue"]),"type"==h.activeTab?(v(),f("div",R,[k((v(),f("div",Z,[L("div",ee,[C(z,{class:"ww100",ref:"cascader",modelValue:h.categoryActive,"onUpdate:modelValue":a[1]||(a[1]=e=>h.categoryActive=e),options:h.categoryList,props:{children:"child",value:"category_id",label:"name"},onChange:b.changeCategory},null,8,["modelValue","options","onChange"])])])),[[j,h.loading]])])):w("",!0),"detail"==h.activeTab?k((v(),f("div",ae,[L("div",te,[C(N,{size:"small",inline:!0,model:h.searchForm,class:"demo-form-inline"},{default:y((()=>[C(S,{label:"商品名稱"},{default:y((()=>[C(x,{size:"small",modelValue:h.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=e=>h.searchForm.product_name=e),placeholder:"請輸入商品名稱"},null,8,["modelValue"])])),_:1}),C(S,null,{default:y((()=>[C(T,{size:"small",icon:"Search",onClick:b.onSubmit},{default:y((()=>[V("查詢")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),L("div",le,[L("div",ie,[C($,{size:"small",data:h.tableData,border:"",style:{width:"100%"}},{default:y((()=>[C(U,{prop:"product_name",label:"產品"},{default:y((e=>[L("div",se,[L("div",ne,[k(L("img",oe,null,512),[[H,e.row.image[0].file_path]])]),L("div",ce,[L("div",de,P(e.row.product_name),1)])])])),_:1}),C(U,{prop:"product_price",label:"價格",width:"100"},{default:y((e=>[L("span",re,P(e.row.product_price),1)])),_:1}),C(U,{label:"操作",width:"80"},{default:y((e=>[C(T,{size:"small",onClick:a=>b.changeFunc(e.row)},{default:y((()=>[V("選擇")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])]),L("div",ue,[C(A,{onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange,background:"","current-page":h.curPage,"page-size":h.pageSize,layout:"total, prev, pager, next, jumper",total:h.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),[[j,h.loading]]):w("",!0)])}],["__scopeId","data-v-09889512"]]),pe={data:()=>({formmodel:{}}),methods:{changeFunc(e){this.$emit("changeData",e)}}},me=L("p",null,"注意一：同一個小程式連結其他小程式，最多隻能連結10個，超過將不生效",-1),he=L("p",null,"注意二：不能填寫自身小程式appid",-1),ve=L("p",null,"注意三：小程式連結留空預設跳到小程式首頁",-1);const be=m(pe,[["render",function(e,a,t,n,o,c){const d=l,r=i,u=s;return v(),b(u,{"label-width":"80px",model:o.formmodel},{default:y((()=>[C(r,{label:"appid "},{default:y((()=>[C(d,{modelValue:o.formmodel.name,"onUpdate:modelValue":a[0]||(a[0]=e=>o.formmodel.name=e)},null,8,["modelValue"])])),_:1}),C(r,{label:"頁面路徑 "},{default:y((()=>[C(d,{modelValue:o.formmodel.name,"onUpdate:modelValue":a[1]||(a[1]=e=>o.formmodel.name=e)},null,8,["modelValue"])])),_:1}),C(r,{label:""},{default:y((()=>[me,he,ve])),_:1})])),_:1},8,["model"])}]]),ye={components:{Pages:J,Marketing:G,ProductIndex:ge,Article:Y,SmallProgram:be,H5:O,DiyPage:A,Menu:U},data:()=>({dialogVisible:!0,activeData:null,activeName:"pages"}),props:["is_linkset"],created(){this.dialogVisible=this.is_linkset},methods:{resetting(){this.activeData={type:"",url:"",name:"請選擇"},this.dialogFormVisible(!0)},dialogFormVisible(e){e?(-1!=this.activeData.url.indexOf("giftpackage")&&(this.activeData.name="禮包購-"+this.activeData.name),-1!=this.activeData.url.indexOf("invite")&&(this.activeData.name="邀請有禮-"+this.activeData.name),this.$emit("closeDialog",this.activeData)):this.$emit("closeDialog",null)},activeDataFunc(e){this.activeData=e}}},fe=e=>(x("data-v-faabf00f"),e=e(),S(),e),_e={class:"dialog-footer d-b-c"},De={class:"flex-1"},ke={key:0,class:"d-s-s d-c tl"},Ce={class:"text-ellipsis setlink-set-link"},Le=fe((()=>L("span",null,"當前連結：",-1))),Ve={class:"gray9"},Fe=fe((()=>L("span",{class:"p-0-10 gray"},"/",-1))),we={class:"blue"},Pe={class:"text-ellipsis gray",style:{"font-size":"10px"}},ze={key:1,class:"tl"},xe={class:"setlink-footer-btn"};const Se=m(ye,[["render",function(e,a,t,l,i,s){const o=J,c=r,d=G,g=z("ProductIndex"),m=Y,h=O,_=A,D=U,k=u,F=n,x=p;return v(),b(x,{title:"超連結設定",modelValue:i.dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=e=>i.dialogVisible=e),onClose:s.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"800px"},{footer:y((()=>[L("div",_e,[L("div",De,[null!=i.activeData?(v(),f("div",ke,[L("p",Ce,[Le,L("span",Ve,P(i.activeData.type),1),Fe,L("span",we,P(i.activeData.name),1)]),L("p",Pe,P(i.activeData.url),1)])):(v(),f("div",ze," 暫無 "))]),L("div",xe,[C(F,{size:"small",onClick:a[1]||(a[1]=e=>s.dialogFormVisible(!1))},{default:y((()=>[V("取 消")])),_:1}),C(F,{size:"small",type:"warning",onClick:s.resetting},{default:y((()=>[V("清空")])),_:1},8,["onClick"]),C(F,{size:"small",type:"primary",onClick:a[2]||(a[2]=e=>s.dialogFormVisible(!0))},{default:y((()=>[V("確 定")])),_:1})])])])),default:y((()=>[C(k,{type:"border-card",modelValue:i.activeName,"onUpdate:modelValue":a[0]||(a[0]=e=>i.activeName=e)},{default:y((()=>[C(c,{label:"頁面",name:"pages"},{default:y((()=>["pages"==i.activeName?(v(),b(o,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1}),C(c,{label:"營銷",name:"market"},{default:y((()=>["market"==i.activeName?(v(),b(d,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1}),C(c,{label:"產品",name:"product"},{default:y((()=>["product"==i.activeName?(v(),b(g,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1}),C(c,{label:"文章",name:"Article"},{default:y((()=>["Article"==i.activeName?(v(),b(m,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1}),C(c,{label:"H5",name:"H5"},{default:y((()=>["H5"==i.activeName?(v(),b(h,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1}),C(c,{label:"自定義",name:"diypage"},{default:y((()=>["diypage"==i.activeName?(v(),b(_,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1}),C(c,{label:"個人中心選單",name:"menu"},{default:y((()=>["menu"==i.activeName?(v(),b(D,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):w("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","onClose"])}],["__scopeId","data-v-faabf00f"]]);export{O as H,G as M,be as S,Se as _,J as a,Y as b,A as c};
