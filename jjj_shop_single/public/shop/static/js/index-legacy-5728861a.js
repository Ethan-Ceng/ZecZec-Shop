System.register(["./element-plus-legacy-4010b94c.js","./product-legacy-4257f291.js","./index-legacy-a1d733aa.js","./@vue-legacy-a5eb5da2.js","./@vueuse-legacy-7e5b8ef2.js","./lodash-es-legacy-93596df5.js","./async-validator-legacy-aa1fd2de.js","./dayjs-legacy-4687536e.js","./call-bind-legacy-b90429f9.js","./get-intrinsic-legacy-4f34f38e.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-f19c70ad.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./vue-router-legacy-b3eb717b.js","./pinia-legacy-9406b588.js","./vue-demi-legacy-97cfbb01.js","./axios-legacy-3cda2001.js","./qs-legacy-5fc46ed9.js","./side-channel-legacy-8f83241e.js","./object-inspect-legacy-2e2b0934.js","./vue-clipboard2-legacy-b2d9783e.js","./clipboard-legacy-b868140c.js","./vue-ueditor-wrap-legacy-53d1452b.js"],(function(e,t){"use strict";var a,l,n,u,c,r,o,i,s,d,p,f,g,m,y,h,_,v,b,C,k,j,w,z,x,S,D,N,P,V;return{setters:[function(e){a=e.E,l=e.a,n=e.K,u=e.x,c=e.y,r=e.s,o=e.t,i=e.e,s=e.d,d=e.f,p=e.c,f=e.l,g=e.i,m=e.p,y=e.v},function(e){h=e.P},function(e){_=e._},function(e){v=e.ap,b=e.o,C=e.c,k=e.a,j=e.P,w=e.S,z=e.W,x=e.X,S=e.Q,D=e.a9,N=e.T,P=e.$,V=e.Y},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t={class:"product-list"},F={class:"common-seach-wrap"},$={class:"common-level-rail"},L={class:"product-content"},T={class:"table-wrap"},q={class:"product-info"},U={class:"pic"},A={alt:""},E={class:"info"},I={class:"name"},K={class:"price"},Q={key:0},W={key:1,class:"green"},X={class:"pagination"};e("default",_({components:{},data:function(){return{activeName:"sell",activeIndex:"0",loading:!0,pageSize:10,totalDataNumber:0,curPage:1,searchForm:{product_name:"",category_id:""},tableData:[],categoryList:[],product_count:{}}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){var t=this;t.loading=!0,t.curPage=e,t.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleClick:function(e,t){var a=this;a.curPage=1,a.activeName=e,a.getData()},getData:function(){var e=this,t=e.searchForm;t.page=e.curPage,t.list_rows=e.pageSize,t.type=e.activeName,e.loading=!0,h.productList(t,!0).then((function(t){e.loading=!1,e.tableData=t.data.list.data,e.categoryList=t.data.category,e.totalDataNumber=t.data.list.total,e.product_count=t.data.product_count})).catch((function(t){e.loading=!1}))},onSubmit:function(){this.curPage=1,this.getData()},addClick:function(){this.$router.push("/product/product/add")},editClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"edit"}})},linkClick:function(e){var t="pages/product/detail/detail?product_id="+e;this.$copyText(t).then((function(e){a({showClose:!0,message:"複製成功",type:"success"})}),(function(e){a({showClose:!0,message:"複製失敗",type:"error"})}))},copyClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"copy"}})},delClick:function(e){var t=this,n="";n=30==e.product_status?"刪除後不可恢復，確認刪除該記錄嗎?":"刪除後將移動到回收站，確定刪除該記錄嗎?",l.confirm(n,"提示",{type:"warning"}).then((function(){h.delProduct({product_id:e.product_id}).then((function(e){a({message:"刪除成功",type:"success"}),t.getData()}))}))},changeStatus:function(e,t){var n=this,u="";10==t?u="確認要上架該商品嗎?":(u="確認要下架該商品嗎?","recovery"==n.activeName&&(u="確認要移動該商品到倉庫嗎?")),l.confirm(u,"提示",{type:"warning"}).then((function(){h.changeStatus({product_id:e.product_id,state:t}).then((function(e){a({message:"操作成功",type:"success"}),n.getData()}))}))}}},[["render",function(e,a,l,h,_,Y){var B=n,G=u,H=c,J=r,M=o,O=i,R=s,Z=d,ee=p,te=f,ae=g,le=m,ne=v("auth"),ue=v("img-url"),ce=y;return b(),C("div",t,[k("div",F,[j(H,{modelValue:_.activeName,"onUpdate:modelValue":a[0]||(a[0]=function(e){return _.activeName=e}),onTabChange:Y.handleClick},{default:w((function(){return[j(G,{label:"出售中",name:"sell"},{label:w((function(){return[z(" 出售中 "),j(B,{size:"small"},{default:w((function(){return[z(x(_.product_count.sell),1)]})),_:1})]})),_:1}),j(G,{label:"倉庫中",name:"lower"},{label:w((function(){return[z(" 倉庫中 "),j(B,{size:"small"},{default:w((function(){return[z(x(_.product_count.lower),1)]})),_:1})]})),_:1}),j(G,{label:"回收站",name:"recovery"},{label:w((function(){return[z(" 回收站 "),j(B,{size:"small"},{default:w((function(){return[z(x(_.product_count.recovery),1)]})),_:1})]})),_:1}),j(G,{label:"庫存緊張",name:"stock"},{label:w((function(){return[z(" 庫存緊張 "),j(B,{size:"small"},{default:w((function(){return[z(x(_.product_count.stock),1)]})),_:1})]})),_:1}),j(G,{label:"已售罄",name:"over"},{label:w((function(){return[z(" 已售罄 "),j(B,{size:"small"},{default:w((function(){return[z(x(_.product_count.over),1)]})),_:1})]})),_:1})]})),_:1},8,["modelValue","onTabChange"]),j(ee,{size:"small",inline:!0,model:_.searchForm,class:"demo-form-inline"},{default:w((function(){return[j(O,{label:"商品分類"},{default:w((function(){return[j(M,{size:"small",modelValue:_.searchForm.category_id,"onUpdate:modelValue":a[1]||(a[1]=function(e){return _.searchForm.category_id=e}),placeholder:"所有分類"},{default:w((function(){return[j(J,{label:"全部",value:"0"}),(b(!0),C(S,null,D(_.categoryList,(function(e,t){return b(),N(J,{key:t,label:e.name,value:e.category_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),j(O,{label:"商品名稱"},{default:w((function(){return[j(R,{size:"small",modelValue:_.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=function(e){return _.searchForm.product_name=e}),placeholder:"請輸入商品名稱"},null,8,["modelValue"])]})),_:1}),j(O,null,{default:w((function(){return[j(Z,{size:"small",type:"primary",icon:"Search",onClick:Y.onSubmit},{default:w((function(){return[z("查詢")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),k("div",$,[P((b(),N(Z,{size:"small",type:"primary",icon:"Plus",onClick:Y.addClick},{default:w((function(){return[z("新增產品")]})),_:1},8,["onClick"])),[[ne,"/product/product/add"]])]),k("div",L,[k("div",T,[P((b(),N(ae,{size:"small",data:_.tableData,border:"",style:{width:"100%"}},{default:w((function(){return[j(te,{prop:"product_name",label:"產品",width:"400px"},{default:w((function(e){return[k("div",q,[k("div",U,[P(k("img",A,null,512),[[ue,e.row.image[0].file_path]])]),k("div",E,[k("div",I,x(e.row.product_name),1),k("div",K,"￥"+x(e.row.product_price),1)])])]})),_:1}),j(te,{prop:"category.name",label:"分類"}),j(te,{prop:"type_text",label:"商品大分類"}),j(te,{label:"商品起始時間",width:"290"},{default:w((function(e){return[z(x(e.row.active_time.join(" 至 ")),1)]})),_:1}),j(te,{prop:"target_money",label:"目標金額"}),j(te,{prop:"total_money",label:"計劃內訂單總金額"}),j(te,{prop:"sales_actual",label:"實際銷量"}),j(te,{prop:"product_stock",label:"庫存"}),j(te,{prop:"view_times",label:"點選數"}),j(te,{prop:"product_status.text",label:"商品屬性"},{default:w((function(e){return[0==e.row.is_virtual?(b(),C("span",Q,"實物商品")):V("",!0),1==e.row.is_virtual?(b(),C("span",W,"虛擬商品")):V("",!0)]})),_:1}),j(te,{prop:"create_time",label:"釋出時間"}),j(te,{prop:"product_sort",label:"排序"}),j(te,{fixed:"right",label:"操作",width:"210"},{default:w((function(e){return[P((b(),N(Z,{onClick:function(t){return Y.editClick(e.row)},type:"text",size:"small"},{default:w((function(){return[z("編輯")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]),"sell"==_.activeName?P((b(),N(Z,{key:0,onClick:function(t){return Y.changeStatus(e.row,20)},type:"text",size:"small"},{default:w((function(){return[z("下架")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]):V("",!0),"lower"==_.activeName?P((b(),N(Z,{key:1,onClick:function(t){return Y.changeStatus(e.row,10)},type:"text",size:"small"},{default:w((function(){return[z("上架")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]):V("",!0),"recovery"==_.activeName?P((b(),N(Z,{key:2,onClick:function(t){return Y.changeStatus(e.row,20)},type:"text",size:"small"},{default:w((function(){return[z("恢復")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]):V("",!0),P((b(),N(Z,{onClick:function(t){return Y.delClick(e.row)},type:"text",size:"small"},{default:w((function(){return[z("刪除")]})),_:2},1032,["onClick"])),[[ne,"/product/product/delete"]]),P((b(),N(Z,{onClick:function(t){return Y.copyClick(e.row)},type:"text",size:"small"},{default:w((function(){return[z("複製")]})),_:2},1032,["onClick"])),[[ne,"/product/product/copy"]]),j(Z,{onClick:function(t){return Y.linkClick(e.row.product_id)},type:"text",size:"small"},{default:w((function(){return[z("連結")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])),[[ce,_.loading]])])]),k("div",X,[j(le,{onSizeChange:Y.handleSizeChange,onCurrentChange:Y.handleCurrentChange,background:"","current-page":_.curPage,"page-size":_.pageSize,layout:"total, prev, pager, next, jumper",total:_.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])}]]))}}}));
