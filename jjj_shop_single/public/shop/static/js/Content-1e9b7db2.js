import{_ as e}from"./Upload-71ca9325.js";import{m as t,g as o,e as i,k as s}from"./element-plus-84a27f94.js";import{U as l}from"./UE-97bf9096.js";import{d as a}from"./vuedraggable-54f344de.js";import{ae as m,ap as n,o as r,c as d,P as p,S as c,W as f,$ as u,a0 as g,a as _,T as h,a1 as j,Y as v}from"./@vue-8fe4574d.js";import{_ as b}from"./index-5ae5860a.js";import"./file-b7a04c7e.js";/* empty css                                                               */import"./AddCategory-69aab672.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-a056b7b7.js";import"./sortablejs-88eb33dd.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";const y={components:{Uediter:l,Upload:e,draggable:a},data:()=>({ueditor:{text:"",config:{initialFrameWidth:400,initialFrameHeight:500}},is_upload:!1,config:{total:9,file_type:"image"},file_name:"image"}),created(){},inject:["form"],methods:{getContent:function(){},contentChangeFunc(e){this.form.model.content=e},openProductUpload:function(e,t){this.file_name=t,this.config="image"==e?{total:9,file_type:"image"}:{total:1,file_type:"video"},this.is_upload=!0},returnImgsFunc(e){if(null!=e)if("video"==this.file_name)this.form.model.content_video_id=e[0].file_id,this.form.model.contentVideo=e[0];else if("image"==this.file_name){let t=this.form.model.contentImage.concat(e);this.form.model.contentImage=t}else"poster"==this.file_name&&(this.form.model.content_poster_id=e[0].file_id,this.form.model.contentPoster=e[0]);this.is_upload=!1},deleteImg(e){let t=-1;this.form.model.contentImage.forEach(((o,i)=>{o.file_path!=e.file_path||(t=i)})),t>=0&&this.form.model.contentImage.splice(t,1)},delVideo(){this.form.model.content_video_id=0,this.form.model.contentVideo={}},deleteVideo(){this.form.model.content_poster_id=0,this.form.model.contentPoster={}}}},I={class:"basic-setting-content pl16 pr16"},C=_("div",{class:"common-form"},"商品詳情",-1),U=_("div",{class:"gray9 f12"},"尺寸無限制",-1),V={class:"edit_container"},k={class:"draggable-list"},x={class:"item"},F=["onClick"];const P=b(y,[["render",function(l,a,b,y,P,w){const z=t,A=o,E=i,R=m("Uediter"),W=m("Close"),q=s,B=m("draggable"),H=m("Plus"),S=e,T=n("img-url");return r(),d("div",I,[C,p(E,{label:"詳情型別："},{default:c((()=>[p(A,{modelValue:w.form.model.is_picture,"onUpdate:modelValue":a[0]||(a[0]=e=>w.form.model.is_picture=e)},{default:c((()=>[p(z,{label:0},{default:c((()=>[f("圖文")])),_:1}),p(z,{label:1},{default:c((()=>[f("純圖")])),_:1})])),_:1},8,["modelValue"]),U])),_:1}),u(p(E,{label:"詳情內容："},{default:c((()=>[_("div",V,[p(R,{text:w.form.model.content,config:P.ueditor.config,ref:"ue",onContentChange:w.contentChangeFunc},null,8,["text","config","onContentChange"])])])),_:1},512),[[g,0==w.form.model.is_picture]]),1==w.form.model.is_picture?(r(),h(E,{key:0,label:"詳情圖片："},{default:c((()=>[_("div",k,[w.form.model&&w.form.model.contentImage&&w.form.model.contentImage.length>0?(r(),h(B,{key:0,modelValue:w.form.model.contentImage,"onUpdate:modelValue":a[1]||(a[1]=e=>w.form.model.contentImage=e),group:"people","item-key":"id",class:"draggable-list"},{item:c((({element:e})=>[_("div",x,[u(_("img",null,null,512),[[T,e.file_path]]),_("a",{href:"javascript:void(0);",class:"delete-btn",onClick:j((t=>w.deleteImg(e)),["stop"])},[p(q,null,{default:c((()=>[p(W)])),_:1})],8,F)])])),_:1},8,["modelValue"])):v("",!0),_("div",{class:"item img-select",onClick:a[2]||(a[2]=e=>w.openProductUpload("image","image"))},[p(q,null,{default:c((()=>[p(H)])),_:1})])])])),_:1})):v("",!0),P.is_upload?(r(),h(S,{key:1,config:P.config,isupload:P.is_upload,onReturnImgs:w.returnImgsFunc},{default:c((()=>[f("上傳圖片")])),_:1},8,["config","isupload","onReturnImgs"])):v("",!0)])}]]);export{P as default};
