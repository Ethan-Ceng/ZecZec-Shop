import{_ as a}from"./Upload-71ca9325.js";import{E as s,d as e,e as o,f as t,c as i}from"./element-plus-84a27f94.js";import{S as l}from"./setting-db36ed28.js";import{_ as m}from"./index-5ae5860a.js";import{ap as r,o as d,c as p,P as n,S as u,a as c,W as f,$ as j,T as g,Y as h}from"./@vue-8fe4574d.js";import"./file-b7a04c7e.js";/* empty css                                                               */import"./AddCategory-69aab672.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";const v={components:{Upload:a},data:()=>({loading:!0,formData:{qq:"",wechat:"",mp_image:""},isupload:!1}),created(){this.getParams()},methods:{getParams(){let a=this;l.getMpService({},!0).then((s=>{1==s.code&&(a.formData=s.data.vars.values,a.loading=!1)})).catch((a=>{}))},onSubmit(){let a=this,e=this.formData;a.$refs.formData.validate((o=>{o&&(a.loading=!0,l.setMpService(e,!0).then((e=>{a.loading=!1,s({message:"恭喜你， 客服設定成功",type:"success"})})).catch((s=>{a.loading=!1})))}))},chooseImg(){this.isupload=!0},returnImgsFunc(a){this.isupload=!1,this.formData.mp_image=a[0].file_path}}},_=c("div",{class:"common-form"},"客服設定",-1),b={class:"ww100"},y={class:"mt10",width:200},w=c("div",{class:"gray"},"建議圖片上傳尺寸為200px*200px",-1),D={class:"common-button-wrapper"};const q=m(v,[["render",function(s,l,m,v,q,x){const k=e,I=o,Q=t,S=i,V=a,z=r("img-url");return d(),p("div",null,[n(S,{size:"small",ref:"formData",model:q.formData,"label-width":"150px"},{default:u((()=>[_,n(I,{label:"QQ",rules:[{required:!0,message:"請輸入QQ"}]},{default:u((()=>[n(k,{type:"number",modelValue:q.formData.qq,"onUpdate:modelValue":l[0]||(l[0]=a=>q.formData.qq=a),modelModifiers:{trim:!0},placeholder:"請輸入QQ",class:"max-w460"},null,8,["modelValue"])])),_:1}),n(I,{label:"微訊號",rules:[{required:!0,message:"請輸入微訊號"}]},{default:u((()=>[n(k,{modelValue:q.formData.wechat,"onUpdate:modelValue":l[1]||(l[1]=a=>q.formData.wechat=a),modelModifiers:{trim:!0},placeholder:"請輸入微訊號",class:"max-w460"},null,8,["modelValue"])])),_:1}),n(I,{label:"公眾號二維碼",rules:[{required:!0,message:"請輸入上傳公眾號二維碼"}]},{default:u((()=>[c("div",b,[n(Q,{onClick:x.chooseImg},{default:u((()=>[f("選擇圖片")])),_:1},8,["onClick"])]),j(c("img",y,null,512),[[z,q.formData.mp_image]]),w])),_:1}),c("div",D,[n(Q,{size:"small",type:"primary",onClick:x.onSubmit,disabled:q.loading},{default:u((()=>[f("提交")])),_:1},8,["onClick","disabled"])])])),_:1},8,["model"]),q.isupload?(d(),g(V,{key:0,isupload:q.isupload,config:{total:3},onReturnImgs:x.returnImgsFunc},null,8,["isupload","onReturnImgs"])):h("",!0)])}]]);export{q as default};
