import{d as a,e,f as s,c as t,l,i,p as r,v as o}from"./element-plus-84a27f94.js";import{B as n}from"./bargain-d601917c.js";import c from"./detail-769eb494.js";import{_ as d}from"./index-5ae5860a.js";import{ae as p,o as u,c as m,a as h,P as g,S as b,W as _,$ as j,T as f,X as w,Y as y}from"./@vue-8fe4574d.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";const v={class:"bargain-task"},C={class:"common-seach-wrap"},z={class:"product-content"},k={class:"table-wrap"},D={class:"d-s-c"},S=["src"],F={class:"text-ellipsis"},x={class:"user-info d-s-c"},P=["src"],M={class:"ml10"},N={class:"gray"},V={class:"red fb"},U={class:"orange"},q={key:0,class:"gray"},A={key:1,class:"green"},B={key:0,class:"gray3"},I={key:1,class:"green"},L={key:2,class:"gray"},R={class:"pagination"};const T=d({components:{Detail:c},data:()=>({searchForm:{},tableData:[],pageSize:10,totalDataNumber:0,curPage:1,loading:!0,curModel:{},is_detail:!1}),created(){this.getData()},methods:{onSubmit(){this.curPage=1,this.getData()},getData(){let a=this,e=a.searchForm;e.page=a.curPage,e.list_rows=a.pageSize,a.loading=!0,n.taskList(e,!0).then((e=>{a.loading=!1,a.tableData=e.data.list.data,a.totalDataNumber=e.data.list.total})).catch((a=>{}))},handleCurrentChange(a){this.curPage=a,this.getData()},handleSizeChange(a){this.curPage=1,this.pageSize=a,this.getData()},detailFunc(a){this.curModel=a,this.is_detail=!0},closeFunc(){this.curModel={},this.is_detail=!1}}},[["render",function(n,c,d,T,W,X){const Y=a,$=e,E=s,G=t,H=l,J=i,K=r,O=p("Detail"),Q=o;return u(),m("div",v,[h("div",C,[g(G,{size:"small",inline:!0,model:W.searchForm,class:"demo-form-inline",style:{float:"right"}},{default:b((()=>[g($,{label:""},{default:b((()=>[g(Y,{modelValue:W.searchForm.search,"onUpdate:modelValue":c[0]||(c[0]=a=>W.searchForm.search=a),placeholder:"請輸入商品名稱/使用者暱稱"},null,8,["modelValue"])])),_:1}),g($,null,{default:b((()=>[g(E,{type:"primary",icon:"Search",onClick:X.onSubmit},{default:b((()=>[_("查詢")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),h("div",z,[h("div",k,[j((u(),f(J,{size:"small",data:W.tableData,border:"",style:{width:"100%"}},{default:b((()=>[g(H,{prop:"product_name",label:"商品名稱",width:"200"},{default:b((a=>[h("div",D,[h("img",{class:"product-pic",src:a.row.file_path},null,8,S),h("div",F,w(a.row.product_name),1)])])),_:1}),g(H,{prop:"nickName",label:"使用者資訊",width:"200"},{default:b((a=>[h("div",x,[h("img",{src:a.row.user.avatarUrl},null,8,P),h("div",M,[h("span",null,w(a.row.user.nickName),1),h("span",N,"ID:"+w(a.row.user.user_id),1)])])])),_:1}),g(H,{prop:"bargain_price",label:"砍價底價"},{default:b((a=>[h("div",V,w(a.row.bargain_price),1)])),_:1}),g(H,{prop:"cut_money",label:"已砍金額"},{default:b((a=>[h("div",U,w(a.row.cut_money),1)])),_:1}),g(H,{prop:"is_buy",label:"是否購買"},{default:b((a=>[0==a.row.is_buy?(u(),m("span",q,"暫無購買")):y("",!0),1==a.row.is_buy?(u(),m("span",A,"已購買")):y("",!0)])),_:1}),g(H,{prop:"status",label:"砍價狀態"},{default:b((a=>[0==a.row.status?(u(),m("span",B,"進行中")):y("",!0),1==a.row.status?(u(),m("span",I,"砍價成功")):y("",!0),2==a.row.status?(u(),m("span",L,"砍價失敗")):y("",!0)])),_:1}),g(H,{prop:"end_time_text",label:"截止時間",width:"140"}),g(H,{prop:"create_time",label:"建立時間",width:"140"}),g(H,{fixed:"right",label:"操作",width:"75"},{default:b((a=>[g(E,{onClick:e=>X.detailFunc(a.row),type:"text",size:"small"},{default:b((()=>[_("砍價詳情")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Q,W.loading]])]),h("div",R,[g(K,{onSizeChange:X.handleSizeChange,onCurrentChange:X.handleCurrentChange,background:"","current-page":W.curPage,"page-sizes":[2,10,20,50,100],"page-size":W.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:W.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]),g(O,{is_detail:W.is_detail,curModel:W.curModel,onClose:X.closeFunc},null,8,["is_detail","curModel","onClose"])])}]]);export{T as default};
