import{_ as e}from"./Upload-71ca9325.js";import{E as l,d as o,e as a,s as t,t as m,m as d,g as i,J as s,k as r,f as u,C as p}from"./element-plus-84a27f94.js";import{d as n}from"./vuedraggable-54f344de.js";import{ae as f,ap as c,o as _,c as g,P as v,S as h,Q as b,a9 as y,T as j,Y as V,W as k,a as U,$ as w,a1 as x,bb as P,b9 as C}from"./@vue-8fe4574d.js";import{_ as Y}from"./index-5ae5860a.js";import"./file-b7a04c7e.js";/* empty css                                                               */import"./AddCategory-69aab672.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-a056b7b7.js";import"./sortablejs-88eb33dd.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";const q={components:{Upload:e,draggable:n},data:()=>({isProductUpload:!1,config:{},file_name:"image",customBtn:!1,CustomList:[{value:"text",label:"文字框"},{value:"number",label:"數字"},{value:"email",label:"郵件"},{value:"data",label:"日期"},{value:"time",label:"時間"},{value:"id",label:"身份證"},{value:"phone",label:"手機號"}]}),inject:["form"],created(){this.form.model.custom_form&&0!=this.form.model.custom_form.length&&(this.customBtn=!0)},methods:{customMessBtn(e){e||(this.form.model.custom_form=[])},addcustom(){this.form.model.custom_form||(this.form.model.custom_form=[]),this.form.model.custom_form&&this.form.model.custom_form.length>9?l.warning("最多新增10條"):this.form.model.custom_form.push({title:"",label:"text",value:"",status:!1})},delcustom(e){this.form.model.custom_form.splice(e,1)},openProductUpload:function(e,l){this.file_name=l,this.config="image"==e?{total:9,file_type:"image"}:{total:1,file_type:"video"},this.isProductUpload=!0},returnProductImgsFunc(e){if(null!=e)if("video"==this.file_name)this.form.model.video_id=e[0].file_id,this.form.model.video=e[0];else if("image"==this.file_name){let l=this.form.model.image.concat(e);this.form.model.image=l}else"poster"==this.file_name&&(this.form.model.poster_id=e[0].file_id,this.form.model.poster=e[0]);this.isProductUpload=!1},deleteImg(e){this.form.model.image.splice(e,1)},delVideo(){this.form.model.video_id=0,this.form.model.video={}},deleteVideo(){this.form.model.poster_id=0,this.form.model.poster={}}}},I=e=>(P("data-v-f31b88c1"),e=e(),C(),e),M={class:"basic-setting-content pl16 pr16"},z=I((()=>U("div",{class:"common-form"},"基本資訊",-1))),B={class:"draggable-list"},D={class:"item"},R=["onClick"],A=I((()=>U("div",{class:"gray"},"建議圖片上傳尺寸為800px*800px",-1))),F={class:"draggable-list"},H={key:1},E=["src"],J=I((()=>U("div",{class:"gray"},"影片寬高比16:9",-1))),L={class:"draggable-list"},O=["src"],Q=I((()=>U("div",{class:"gray"},"建議影片封面上傳尺寸為800px*800px",-1)));const S=Y(q,[["render",function(l,n,P,C,Y,q){const I=o,S=a,T=t,W=m,$=d,G=i,K=s,N=f("Close"),X=r,Z=f("draggable"),ee=f("Plus"),le=u,oe=p,ae=e,te=c("img-url");return _(),g("div",M,[z,v(S,{label:"商品名稱：",rules:[{required:!0,message:"請填寫商品名稱"}],prop:"model.product_name"},{default:h((()=>[v(I,{modelValue:q.form.model.product_name,"onUpdate:modelValue":n[0]||(n[0]=e=>q.form.model.product_name=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),v(S,{label:"商品編碼：",rules:[{required:!0,message:"請填寫商品編碼"}],prop:"model.product_no"},{default:h((()=>[v(I,{modelValue:q.form.model.product_no,"onUpdate:modelValue":n[1]||(n[1]=e=>q.form.model.product_no=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),v(S,{label:"所屬分類：",rules:[{required:!0,message:"你選擇商品分類"}],prop:"model.category_id"},{default:h((()=>[v(W,{modelValue:q.form.model.category_id,"onUpdate:modelValue":n[2]||(n[2]=e=>q.form.model.category_id=e),class:"max-w460"},{default:h((()=>[(_(!0),g(b,null,y(q.form.category,(e=>(_(),g(b,{key:e.category_id},[v(T,{value:e.category_id,label:e.name},null,8,["value","label"]),void 0!==e.child?(_(!0),g(b,{key:0},y(e.child,(e=>(_(),g(b,{key:e.category_id},[v(T,{value:e.category_id,label:e.name,style:{"padding-left":"30px"}},null,8,["value","label"]),void 0!==e.child?(_(!0),g(b,{key:0},y(e.child,(e=>(_(),j(T,{key:e.category_id,value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])))),128)):V("",!0)],64)))),128)):V("",!0)],64)))),128))])),_:1},8,["modelValue"])])),_:1}),v(S,{label:"銷售狀態："},{default:h((()=>[v(G,{modelValue:q.form.model.product_status,"onUpdate:modelValue":n[3]||(n[3]=e=>q.form.model.product_status=e)},{default:h((()=>[v($,{label:10},{default:h((()=>[k("立即上架")])),_:1}),v($,{label:20},{default:h((()=>[k("放入倉庫")])),_:1})])),_:1},8,["modelValue"])])),_:1}),v(S,{label:"預告商品："},{default:h((()=>[v(G,{modelValue:q.form.model.is_preview,"onUpdate:modelValue":n[4]||(n[4]=e=>q.form.model.is_preview=e)},{default:h((()=>[v($,{label:1},{default:h((()=>[k("開啟")])),_:1}),v($,{label:0},{default:h((()=>[k("關閉")])),_:1})])),_:1},8,["modelValue"])])),_:1}),1==q.form.model.is_preview?(_(),j(S,{key:0,label:"預告開啟購買時間",rules:[{required:!0,message:"請選擇開啟購買時間"}],prop:"model.preview_time"},{default:h((()=>[v(K,{modelValue:q.form.model.preview_time,"onUpdate:modelValue":n[5]||(n[5]=e=>q.form.model.preview_time=e),type:"datetime","value-format":"YYYY-MM-DD hh:mm:ss",placeholder:"選擇日期",width:"460px"},null,8,["modelValue"])])),_:1})):V("",!0),v(S,{label:"商品圖片：",rules:[{required:!0,message:"請上傳商品圖片"}],prop:"model.image"},{default:h((()=>[U("div",B,[q.form.model.image&&q.form.model.image.length>0?(_(),j(Z,{key:0,modelValue:q.form.model.image,"onUpdate:modelValue":n[6]||(n[6]=e=>q.form.model.image=e),group:"people","item-key":"id",class:"draggable-list"},{item:h((({element:e,index:l})=>[U("div",D,[w(U("img",null,null,512),[[te,e.file_path]]),U("a",{href:"javascript:void(0);",class:"delete-btn",onClick:x((e=>q.deleteImg(l)),["stop"])},[v(X,null,{default:h((()=>[v(N)])),_:1})],8,R)])])),_:1},8,["modelValue"])):V("",!0),U("div",{class:"item img-select",onClick:n[7]||(n[7]=e=>q.openProductUpload("image","image"))},[v(X,null,{default:h((()=>[v(ee)])),_:1})])]),A])),_:1}),v(S,{label:"商品影片："},{default:h((()=>[v(oe,null,{default:h((()=>[U("div",F,[0==q.form.model.video_id?(_(),g("div",{key:0,class:"item img-select",onClick:n[8]||(n[8]=e=>q.openProductUpload("video","video"))},[v(X,null,{default:h((()=>[v(ee)])),_:1})])):V("",!0),0!=q.form.model.video_id?(_(),g("div",H,[U("video",{width:"150",height:"150",src:q.form.model.video.file_path,autoplay:!1,controls:""}," 您的瀏覽器不支援 video 標籤 ",8,E),U("div",null,[v(le,{icon:"Picture",onClick:q.delVideo},{default:h((()=>[k("刪除影片")])),_:1},8,["onClick"])])])):V("",!0)])])),_:1}),J])),_:1}),v(S,{label:"影片封面："},{default:h((()=>[v(oe,null,{default:h((()=>[U("div",L,[0==q.form.model.poster_id?(_(),g("div",{key:0,class:"item img-select",onClick:n[9]||(n[9]=e=>q.openProductUpload("image","poster"))},[v(X,null,{default:h((()=>[v(ee)])),_:1})])):V("",!0),0!=q.form.model.poster_id?(_(),g("div",{key:1,class:"item",onClick:n[11]||(n[11]=e=>q.openProductUpload("image","poster"))},[U("img",{src:q.form.model.poster.file_path,width:"100",height:"100"},null,8,O),U("a",{href:"javascript:void(0);",class:"delete-btn",onClick:n[10]||(n[10]=x((e=>q.deleteVideo()),["stop"]))},[v(X,null,{default:h((()=>[v(N)])),_:1})])])):V("",!0)])])),_:1}),Q])),_:1}),v(S,{label:"商品賣點："},{default:h((()=>[v(I,{modelValue:q.form.model.selling_point,"onUpdate:modelValue":n[12]||(n[12]=e=>q.form.model.selling_point=e),type:"textarea",autosize:{minRows:4,maxRows:8},class:"max-w460","show-word-limit":""},null,8,["modelValue"])])),_:1}),v(S,{label:"商品大分類：",rules:[{required:!0,message:"請選擇商品大分類"}]},{default:h((()=>[v(G,{modelValue:q.form.model.type,"onUpdate:modelValue":n[13]||(n[13]=e=>q.form.model.type=e)},{default:h((()=>[v($,{label:1},{default:h((()=>[k("群眾集資")])),_:1}),v($,{label:2},{default:h((()=>[k("預購式專案")])),_:1}),v($,{label:3},{default:h((()=>[k("訂閱式專案")])),_:1}),v($,{label:4},{default:h((()=>[k("再登場專案")])),_:1})])),_:1},8,["modelValue"])])),_:1}),v(S,{label:"商品起始時間",rules:[{required:!0,message:"請選擇商品起始時間"}]},{default:h((()=>[v(K,{modelValue:q.form.model.active_time,"onUpdate:modelValue":n[14]||(n[14]=e=>q.form.model.active_time=e),type:"datetimerange",align:"right","unlink-panels":"","value-format":"YYYY-MM-DD HH:mm:ss","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期","picker-options":l.pickerOptions0},null,8,["modelValue","picker-options"])])),_:1}),v(S,{label:"目標金額："},{default:h((()=>[v(I,{type:"number",min:"0",modelValue:q.form.model.target_money,"onUpdate:modelValue":n[15]||(n[15]=e=>q.form.model.target_money=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),v(S,{label:"計劃內訂單總金額："},{default:h((()=>[v(I,{type:"number",min:"0",modelValue:q.form.model.total_money,"onUpdate:modelValue":n[16]||(n[16]=e=>q.form.model.total_money=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),Y.isProductUpload?(_(),j(ae,{key:1,config:Y.config,isupload:Y.isProductUpload,onReturnImgs:q.returnProductImgsFunc},{default:h((()=>[k(" 上傳圖片 ")])),_:1},8,["config","isupload","onReturnImgs"])):V("",!0)])}],["__scopeId","data-v-f31b88c1"]]);export{S as default};
