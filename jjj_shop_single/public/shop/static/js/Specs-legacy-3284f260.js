System.register(["./element-plus-legacy-4010b94c.js","./product-legacy-4257f291.js","./index-legacy-a1d733aa.js","./@vue-legacy-a5eb5da2.js"],(function(e,t){"use strict";var i,n,l,o,s,c,a,u,r,d,f,p,h,m,g,C,b;return{setters:[function(e){i=e.E,n=e.l,l=e.f,o=e.i,s=e.q,c=e.v},function(e){a=e.P},function(e){u=e._},function(e){r=e.o,d=e.T,f=e.S,p=e.P,h=e.W,m=e.Y,g=e.a,C=e.$,b=e.X}],execute:function(){var t={class:"table-wrap"};e("_",u({data:function(){return{loading:!0,specsList:[],multipleSelection:[],formLabelWidth:"120px",dialogVisible:!1,type:"error",params:null}},props:["isspecs","productId","excludeIds","islist"],watch:{isspecs:function(e,t){e!=t&&e&&(this.specsList=[],this.dialogVisible=e,this.type="error",this.params=null,this.getData())}},created:function(){},methods:{SingleFunc:function(e){this.multipleSelection=[e],this.addClerk()},selectableFunc:function(e){return"boolean"!=typeof e.noChoose||e.noChoose},getData:function(){var e=this;a.chooseSpec({product_id:e.productId},!0).then((function(t){1==t.code&&(e.loading=!1,e.excludeIds&&void 0!==e.excludeIds&&e.excludeIds.length>0?t.data.specList.forEach((function(t){e.excludeIds.indexOf(t.product_sku_id)>-1?t.noChoose=!1:t.noChoose=!0})):t.data.specList.forEach((function(e){e.noChoose=!0})),e.specsList=t.data.specList)})).catch((function(e){}))},addClerk:function(){var e=this,t=null;e.multipleSelection.length<1?i({message:"請至少選擇一件產品商品！",type:"error"}):(t=e.islist&&void 0!==e.islist?e.multipleSelection:e.multipleSelection[0],e.params=t,e.type="success",e.dialogVisible=!1)},dialogFormVisible:function(){this.$emit("close",{type:this.type,open:!1,params:this.params})},tableCurrentChange:function(e){this.multipleSelection=e}}},[["render",function(e,i,a,u,y,k){var _=n,v=l,S=o,V=s,x=c;return r(),d(V,{title:"選擇規格",modelValue:y.dialogVisible,"onUpdate:modelValue":i[1]||(i[1]=function(e){return y.dialogVisible=e}),onClose:k.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px"},{footer:f((function(){return[p(v,{size:"small",onClick:i[0]||(i[0]=function(e){return y.dialogVisible=!1})},{default:f((function(){return[h("取 消")]})),_:1}),a.islist?(r(),d(v,{key:0,size:"small",type:"primary",onClick:k.addClerk},{default:f((function(){return[h("確 定")]})),_:1},8,["onClick"])):m("",!0)]})),default:f((function(){return[g("div",null,[g("div",t,[C((r(),d(S,{size:"small",data:y.specsList,border:"",style:{width:"100%"},"highlight-current-row":"",onSelectionChange:k.tableCurrentChange},{default:f((function(){return[p(_,{label:"產品/規格"},{default:f((function(e){var t=e.row;return[h(b(t.spec_name),1)]})),_:1}),a.islist?(r(),d(_,{key:0,type:"selection",selectable:k.selectableFunc,width:"44"},null,8,["selectable"])):m("",!0),a.islist?m("",!0):(r(),d(_,{key:1,width:"80",label:"單選"},{default:f((function(e){var t=e.row;return[t.noChoose?(r(),d(v,{key:0,size:"small",onClick:function(e){return k.SingleFunc(t)}},{default:f((function(){return[h("選擇")]})),_:2},1032,["onClick"])):(r(),d(v,{key:1,size:"small",disabled:""},{default:f((function(){return[h("已選")]})),_:1}))]})),_:1}))]})),_:1},8,["data","onSelectionChange"])),[[x,y.loading]])])])]})),_:1},8,["modelValue","onClose"])}]]))}}}));
