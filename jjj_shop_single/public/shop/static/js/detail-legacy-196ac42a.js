System.register(["./element-plus-legacy-4010b94c.js","./data-legacy-acfda00b.js","./index-legacy-a1d733aa.js","./@vue-legacy-a5eb5da2.js","./order-legacy-ffb37a95.js","./Add-legacy-8c13eebb.js","./viewLogistics-legacy-2938e5f1.js","./@vueuse-legacy-7e5b8ef2.js","./lodash-es-legacy-93596df5.js","./async-validator-legacy-aa1fd2de.js","./dayjs-legacy-4687536e.js","./call-bind-legacy-b90429f9.js","./get-intrinsic-legacy-4f34f38e.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-f19c70ad.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./vue-router-legacy-b3eb717b.js","./pinia-legacy-9406b588.js","./vue-demi-legacy-97cfbb01.js","./axios-legacy-3cda2001.js","./qs-legacy-5fc46ed9.js","./side-channel-legacy-8f83241e.js","./object-inspect-legacy-2e2b0934.js","./vue-clipboard2-legacy-b2d9783e.js","./clipboard-legacy-b868140c.js","./vue-ueditor-wrap-legacy-53d1452b.js"],(function(e,t){"use strict";var a,l,i,n,r,s,d,o,u,c,p,_,f,m,y,v,g,b,h,x,k,w,V,C,D,z,j,S,U,L,E,P,N,F,$,I,A,O,R,q,J,M,T,Q,W=document.createElement("style");return W.textContent='@charset "UTF-8";.no-list .el-checkbox[data-v-1ebdf6a3]{display:none}:root{--el-color-primary: #409eff !important;--el-component-size-small: 32px !important}.common-seach-wrap .el-input__wrapper{padding:0 15px}.common-seach-wrap .el-form-item__label{--el-text-color-regular: #606266;font-weight:400}.common-seach-wrap .el-form--inline .el-form-item{margin-right:10px}.el-form-item--small .el-form-item__label{height:var(--el-component-size-small)!important;line-height:var(--el-component-size-small)!important}.el-form-item__content{display:block;line-height:32px!important;margin-top:1px;overflow:hidden}.el-form-item__content .gray9{width:100%}.el-form-item__content .el-row .img{width:100%;margin-top:10px}.el-form-item__content .el-date-editor{--el-date-editor-width: auto}.el-form-item__content span{margin:0 6px}.el-form-item__content label span{margin:0!important}.el-form-item__content .el-input span{margin:0}.el-form-item__content .el-color-picker--small .el-color-picker__trigger{width:32px;height:32px}.el-form-item__content .el-color-picker--small .el-color-picker__trigger span{margin:0!important}.el-table .cell{line-height:32px!important;font-size:12px!important}.el-table .cell .el-button.el-button--small.el-button--text+.el-button.el-button--small.el-button--text{margin-left:-12px!important}.el-button--small{--el-button-size: var(--el-component-size-small)}.common-button-wrapper .el-button--small{padding:5px 22px!important}.el-dialog__body{overflow:hidden;padding:10px 20px!important}.el-dialog__body .dialog-footer{float:right}.el-dialog__headerbtn .el-icon svg{width:auto!important;height:auto!important}.el-tabs .el-tabs__item{font-size:12px;font-weight:700!important}.el-tabs .el-tabs__item span{font-weight:inherit}.el-table{--el-table-border-color: #EEEEEE !important;--el-table-header-bg-color: #EAEDF4 !important;--el-table-header-text-color: #101010 !important;width:100%!important}.el-table .el-table__cell{position:static!important}.el-form{--el-text-color-regular: #333;--el-font-size-base: 12px !important}.el-form-item{--font-size: 12px !important}.el-form-item .el-form-item{margin-bottom:18px}.el-form-item__label{font-weight:700}.el-radio__input.is-checked+.el-radio__label span{color:var(--el-text-color-regular)}.pagination{overflow:hidden}.pagination .el-pagination,.upload-dialog .pagination-wrap{float:right}.img-select .el-icon svg{width:2em;height:2em}.el-image-viewer__canvas{padding:20px;box-sizing:border-box}.draggable-list{display:flex;justify-content:flex-start;flex-wrap:wrap}.draggable-list .wrapper{display:flex}.draggable-list .wrapper>span{display:flex;justify-content:flex-start;flex-wrap:wrap}.draggable-list .item{position:relative;width:110px;height:110px;margin-top:10px;margin-right:10px;border-radius:8px;overflow:hidden;border:1px solid #dddddd}.draggable-list .delete-btn{position:absolute;top:0;right:0;width:16px;height:16px;background:red;line-height:16px;font-size:16px;color:#fff;display:none}.draggable-list .item:hover .delete-btn{display:block}.draggable-list .item img{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-height:100%;max-width:100%}.draggable-list .img-select{display:flex;justify-content:center;align-items:center;border:1px dashed #dddddd;font-size:30px}.draggable-list .img-select i{color:#409eff}.edit_container{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;line-height:20px;color:#2c3e50;height:auto!important}.ql-editor{height:400px}.btn-edit-del{position:absolute;bottom:0;right:0;z-index:1}.btn-edit-del .btn-del{width:32px;height:16px;line-height:16px;display:inline-block;text-align:center;font-size:10px;color:#fff;background:rgba(0,0,0,.4);margin-left:2px;cursor:pointer}.pb100{padding-bottom:100px}\n',document.head.appendChild(W),{setters:[function(e){a=e.d,l=e.s,i=e.t,n=e.f,r=e.q,s=e.E,d=e.l,o=e.i,u=e.p,c=e.v,p=e.a,_=e.B,f=e.C,m=e.m,y=e.e,v=e.c,g=e.D,b=e.x,h=e.y,x=e.g,k=e.k,w=e.F,V=e.G},function(e){C=e.D},function(e){D=e._,z=e.d},function(e){j=e.o,S=e.T,U=e.S,L=e.P,E=e.W,P=e.c,N=e.Q,F=e.a9,$=e.Y,I=e.ap,A=e.a,O=e.$,R=e.ae,q=e.X,J=e.M},function(e){M=e.O},function(e){T=e.default},function(e){Q=e.L},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=D({data:function(){return{dialogVisible:!1,type:"error",params:null,reverse:!1,order_id:0,activities:[],areaList:[],address:{name:"",phone:"",region:{province:"",province_id:"",city:"",city_id:"",region:"",region_id:"",detail:""}}}},props:["isChange","addressData"],watch:{isChange:function(e,t){e!=t&&(this.dialogVisible=e,this.type="error")}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;C.getRegion({},!0).then((function(t){e.areaList=t.data.regionData})).catch((function(e){}))},initCity:function(){this.addressData.city_id=""},initRegion:function(){this.addressData.region_id=""},dialogFormVisible:function(e){e?this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.addressData}):this.$emit("closeDialog",!1)}}},[["render",function(e,t,s,d,o,u){var c=a,p=l,_=i,f=n,m=r;return j(),S(m,{title:"修改地址",modelValue:o.dialogVisible,"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.dialogVisible=e}),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:U((function(){return[L(f,{size:"small",onClick:t[6]||(t[6]=function(e){return u.dialogFormVisible(!1)})},{default:U((function(){return[E("取 消")]})),_:1}),L(f,{size:"small",type:"primary",onClick:t[7]||(t[7]=function(e){return u.dialogFormVisible(!0)})},{default:U((function(){return[E("確 定")]})),_:1})]})),default:U((function(){return[L(c,{class:"mb16",size:"small",modelValue:s.addressData.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.addressData.name=e}),placeholder:"請輸入收貨人"},null,8,["modelValue"]),L(c,{class:"mb16",size:"small",modelValue:s.addressData.phone,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.addressData.phone=e}),placeholder:"請輸入收貨電話"},null,8,["modelValue"]),L(_,{class:"mb16",modelValue:s.addressData.province_id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.addressData.province_id=e}),placeholder:"省",onChange:u.initCity},{default:U((function(){return[(j(!0),P(N,null,F(o.areaList,(function(e,t){return j(),S(p,{label:e.name,value:e.id,key:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"]),""!=s.addressData.province_id?(j(),S(_,{key:0,class:"mb16 ml10",modelValue:s.addressData.city_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.addressData.city_id=e}),placeholder:"市",onChange:u.initRegion},{default:U((function(){return[(j(!0),P(N,null,F(o.areaList[s.addressData.province_id].city,(function(e,t){return j(),S(p,{label:e.name,value:e.id,key:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])):$("",!0),""!=s.addressData.city_id?(j(),S(_,{key:1,class:"mb16 ml10",modelValue:s.addressData.region_id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.addressData.region_id=e}),placeholder:"區"},{default:U((function(){return[(j(!0),P(N,null,F(o.areaList[s.addressData.province_id].city[s.addressData.city_id].region,(function(e,t){return j(),S(p,{label:e.name,value:e.id,key:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):$("",!0),L(c,{class:"mb16",size:"small",modelValue:s.addressData.detail,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.addressData.detail=e}),placeholder:"請輸入詳細地址"},null,8,["modelValue"])]})),_:1},8,["modelValue"])}]]),W={class:"product-content"},B={class:"table-wrap"},G={key:0,width:30,height:30},H={class:"pagination"},K={class:"dialog-footer"},X={components:{Add:T,changeAddress:t,ProductSelect:D({data:function(){return{loading:!0,curPage:1,pageSize:20,totalDataNumber:0,formInline:{},categoryList:[],status:[{id:10,name:"上架"},{id:20,name:"下架"}],multipleSelection:[],formLabelWidth:"120px",dialogVisible:!1,type:"error",params:null,check_ds:null,product_arr:[],beforeDeliveryNumIds:[]}},props:["is_product","exclude_ids","islist","product_list"],created:function(){},methods:{open:function(e){var t=this;this.beforeDeliveryNumIds=e,this.type="error",this.dialogVisible=!0,this.loading=!1,this.$refs.tableRef&&this.$refs.tableRef.clearSelection(),this.$nextTick((function(){t.getData()}))},selectableFunc:function(e){return"boolean"!=typeof e.no_choose||e.no_choose},closeCheck:function(){this.dialogVisible=!1},getData:function(){var e=this,t=this.$props.exclude_ids,a=JSON.parse(JSON.stringify(this.$props.product_list));e.islist?a.forEach((function(a){t&&t.length>0&&(t.indexOf(a.product_id)>-1?a.no_choose=!1:a.no_choose=!0),(a.total_num==a.delivery_num||a.delivery_num>a.total_num)&&(a.no_choose=!1),e.beforeDeliveryNumIds&&e.beforeDeliveryNumIds.length>0&&e.beforeDeliveryNumIds.forEach((function(e){if(e.product_id==a.product_id){var t=Number(e.delivery_num);a.delivery_num=t}}))})):e.islist||a.forEach((function(e){e.no_choose=!0})),this.product_arr=a},SingleFunc:function(e){this.multipleSelection=[e],this.addClerk()},addClerk:function(){var e,t=this;if(t.multipleSelection.length<1)s({message:"請至少選擇一件產品商品！",type:"error"});else{var a=[],l=[];t.multipleSelection.forEach((function(e){var t={order_product_id:e.order_product_id,maxDeliveryNum:Number(e.total_num)-Number(e.delivery_num||0),total_num:e.total_num,delivery_num:Number(e.total_num)-Number(e.delivery_num||0),image_path:e.image?e.image.file_path:e.image_path,product_name:e.product_name,product_id:e.product_id};a.push(t),l.push(e.product_id)})),e=a,t.params=e,t.check_ds=l,t.type="success",this.$emit("closeDialog",{params:this.params,check_ds:this.check_ds}),t.dialogVisible=!1}},tableCurrentChange:function(e){var t=this.$props.exclude_ids,a=[];e&&e.length>0&&e.forEach((function(e){t.includes(e.product_id)||a.push(e)})),this.multipleSelection=a}}},[["render",function(e,t,a,l,i,s){var p=d,_=n,f=o,m=u,y=r,v=I("img-url"),g=c;return j(),S(y,{title:"選擇商品","modal-append-to-body":!0,"append-to-body":!0,modelValue:i.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.dialogVisible=e}),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:U((function(){return[A("div",K,[L(_,{size:"small",onClick:s.closeCheck},{default:U((function(){return[E("取 消")]})),_:1},8,["onClick"]),a.islist?(j(),S(_,{key:0,size:"small",type:"primary",onClick:s.addClerk},{default:U((function(){return[E("確 定")]})),_:1},8,["onClick"])):$("",!0)])]})),default:U((function(){return[A("div",W,[A("div",B,[O((j(),S(f,{size:"small",data:i.product_arr,border:"",style:{width:"100%"},"highlight-current-row":"",onSelectionChange:s.tableCurrentChange,ref:"tableRef"},{default:U((function(){return[L(p,{width:"70",label:"商品圖片"},{default:U((function(e){return[e.row.image?O((j(),P("img",G,null,512)),[[v,e.row.image.file_path]]):$("",!0)]})),_:1}),L(p,{prop:"product_name",label:"商品名稱"}),L(p,{prop:"total_num",width:"100",label:"商品數量"}),L(p,{prop:"create_time",width:"140",label:"新增時間"}),a.islist?(j(),S(p,{key:0,type:"selection",selectable:s.selectableFunc,width:"44"},null,8,["selectable"])):$("",!0),a.islist?$("",!0):(j(),S(p,{key:1,width:"80",label:"單選"},{default:U((function(e){return[e.row.no_choose?(j(),S(_,{key:0,size:"small",onClick:function(t){return s.SingleFunc(e.row)}},{default:U((function(){return[E("選擇")]})),_:2},1032,["onClick"])):(j(),S(_,{key:1,size:"small",disabled:""},{default:U((function(){return[E("已選")]})),_:1}))]})),_:1}))]})),_:1},8,["data","onSelectionChange"])),[[g,i.loading]])]),A("div",H,[L(m,{background:"","current-page":i.curPage,"page-sizes":[2,10,20,50,100],"page-size":i.pageSize,layout:"total, prev, pager, next, jumper",total:i.totalDataNumber},null,8,["current-page","page-size","total"])])])]})),_:1},8,["modelValue"])}],["__scopeId","data-v-1ebdf6a3"]]),Logistics:Q},data:function(){return{active:0,loading:!0,detail:{pay_status:[],pay_type:[],delivery_type:[],user:{},address:[],product:[],order_status:[],extract:[],extract_store:[],express:[],delivery_status:[],extractClerk:[]},open_add:!1,pageSize:20,totalDataNumber:0,curPage:1,form:{express_id:null,express_no:"",is_single:1,delivery_list:[],is_label:0},forms:{is_cancel:1,is_single:1},extract_form:{order:{extract_status:1}},virtual_form:{virtual_content:""},order:{},delivery_type:0,exStyle:[],shopList:[],userModel:{},create_time:"",expressList:[],shopClerkList:[],open_edit:!1,isChange:!1,addressData:null,current_index:0,template_list:[],address_list:[],label_list:[],product_list:[],exclude_ids:[],isLogistics:!1,logisticsData:{},custom_form:[]}},created:function(){this.getParams()},methods:{getLogistics:function(e){var t=this,a={order_id:e.order_id,express_id:e.express_id,express_no:e.express_no};t.loading=!0,M.orderExpress(a,!0).then((function(e){t.loading=!1,t.logisticsData=e.data.express.list,t.openLogistics()})).catch((function(e){t.loading=!1}))},openLogistics:function(){this.isLogistics=!0},closeLogistics:function(){this.isLogistics=!1},addPackage:function(){this.form.delivery_list=this.form.delivery_list||[],this.form.delivery_list.push({express_id:"",express_no:"",delivery_data:[]})},delPackage:function(e){var t=this.form.delivery_list[e].delivery_data,a=[];t.forEach((function(e){a.push(e.product_id)})),this.filterExcludeIds(a),this.form.delivery_list.splice(e,1)},addProduct:function(e){var t=[],a=[],l=[];this.form.delivery_list.forEach((function(e){e.delivery_data.forEach((function(e){if(a.includes(e.product_id)){var i=t.findIndex((function(t){return t.product_id==e.product_id}));if(-1!=i){var n=t[i],r=Number(n.delivery_num)+Number(e.delivery_num);t[i].delivery_num=r,(e.total_num==r||e.total_num<r)&&l.push(e.product_id)}}else a.push(e.product_id),t.push({product_id:e.product_id,delivery_num:e.delivery_num}),(e.total_num==e.delivery_num||e.total_num<e.delivery_num)&&l.push(e.product_id)}))})),this.current_index=e,this.exclude_ids=l,this.$refs.ProductSelectRef.open(t)},delProduct:function(e,t){this.filterExcludeIds([e[t].product_id]),e.splice(t,1)},labelCancel:function(e){var t=this,a=e.order_id,l=0;e.order_delivery_id&&e.order_delivery_id>0&&(a=e.order_delivery_id,l=1),p.confirm("確定取消嗎?","提示",{type:"warning"}).then((function(){M.labelCancel({order_id:a,is_multi:l},!0).then((function(e){t.loading=!1,s({message:"取消成功",type:"success"}),t.getParams()})).catch((function(e){t.loading=!1}))})).catch((function(){s({type:"info",message:"取消失敗"})}))},printOld:function(e){var t=this,a=e.order_id,l=0;e.order_delivery_id&&e.order_delivery_id>0&&(a=e.order_delivery_id,l=1),p.confirm("最多可復打10次,確定復打嗎?","提示",{type:"warning"}).then((function(){M.printOld({order_id:a,is_multi:l},!0).then((function(e){t.loading=!1,s({message:"復打成功",type:"success"}),t.getParams()})).catch((function(e){t.loading=!1}))})).catch((function(){s({type:"info",message:"復打失敗"})}))},filterExcludeIds:function(e){var t=this;e.forEach((function(e){var a=t.exclude_ids.indexOf(e);a>-1&&t.exclude_ids.splice(a,1)}))},closeProductDialogFunc:function(e){var t=this.form.delivery_list[this.current_index].delivery_data||[],a=e.params||[],l=t.concat(a),i=[],n=[];l.forEach((function(e){if(n.includes(e.product_id)){var t=i.findIndex((function(t){return t.product_id==e.product_id}));-1!=t&&(i[t].delivery_num=Number(i[t].delivery_num)+Number(e.delivery_num))}else n.push(e.product_id),i.push(e)})),this.exclude_ids=this.exclude_ids.concat(e.checkIds),this.form.delivery_list[this.current_index].delivery_data=i},next:function(){this.active++>4&&(this.active=0)},getParams:function(){var e=this,t=this.$route.query.order_id;M.orderdetail({order_id:t},!0).then((function(t){e.loading=!1,e.detail=t.data.detail,e.expressList=t.data.expressList,e.shopClerkList=t.data.shopClerkList,e.addressData=e.detail.address,e.product_list=t.data.detail.product,e.template_list=t.data.template_list,e.address_list=t.data.address_list,e.custom_form=e.detail.custom_form,e.label_list=t.data.label_list,30==e.detail.delivery_status.value&&(e.form.is_single=0)})).catch((function(t){e.loading=!1}))},onSubmit:function(){var e=this,t=JSON.parse(JSON.stringify(e.form)),a=this.$route.query.order_id,l=[],i=[],n=[],r=[],d=!0,o=!1;return!t.is_single||!t.is_label||t.setting_id&&t.template_id&&t.address_id?(t.is_single||t.delivery_list.forEach((function(e,t){if(e.delivery_data&&e.delivery_data.length>0){var a=[];e.delivery_data.forEach((function(e){i.includes(e.product_id)?l.forEach((function(t){if(t.product_id==e.product_id){var a=Number(e.delivery_num)+Number(t.delivery_num);t.delivery_num=a}t.delivery_num>e.total_num&&t.product_id==e.product_id&&(d=!1,r.includes(e.product_id)||(r.push(e.product_id),n.push({product_id:e.product_id,product_name:e.product_name,total_num:e.total_num})))})):(i.push(e.product_id),l.push({product_id:e.product_id,delivery_num:e.delivery_num,product_name:e.product_name}),e.delivery_num>e.total_num&&(n.push({product_id:e.product_id,product_name:e.product_name,total_num:e.total_num}),r.push(e.product_id),d=!1)),a.push({order_product_id:e.order_product_id,delivery_num:e.delivery_num,image_path:e.image_path,product_name:e.product_name})})),e.delivery_data=a}else d=!1,o=!0})),d?(t.order_id=a,void M.delivery(t,!0).then((function(t){e.loading=!1,s({message:"恭喜你，發貨成功",type:"success"}),e.form={},e.getParams()})).catch((function(t){e.loading=!1}))):o?void s.error("無法新增空包裹，請選擇商品"):void(n&&n.length>0&&n.forEach((function(e){s.error("".concat(e.product_name,"最多隻能選擇").concat(e.total_num,"個"))})))):s.error("電子面單相關資訊請填寫完整")},closeAddress:function(e){var t=this;if(0==e)return t.isChange=!1,!1;var a=e.params;a.order_id=t.$route.query.order_id,M.updateAddress(a,!0).then((function(e){t.getParams(),s({message:"修改成功",type:"success"})})).catch((function(e){})),t.isChange=!1},confirmCancel:function(){var e=this,t=this.$route.query.order_id,a=e.forms.is_cancel;M.confirm({order_id:t,is_cancel:a},!0).then((function(t){e.loading=!1,s({message:"恭喜你，稽核成功",type:"success"}),e.getParams()})).catch((function(t){e.loading=!1}))},onExtract:function(e){var t=this,a=t.extract_form;a.order_id=e,M.extract({extract_form:a},!0).then((function(e){t.loading=!1,s({message:"恭喜你，操作成功",type:"success"}),t.getParams()})).catch((function(e){t.loading=!1}))},onVirtual:function(e){var t=this,a=t.virtual_form;""!=a.virtual_content?(a.order_id=e,M.virtual({order_id:a.order_id,virtual_content:a.virtual_content},!0).then((function(e){t.loading=!1,s({message:"恭喜你，操作成功",type:"success"}),t.getParams()})).catch((function(e){t.loading=!1}))):s.error("請填寫發貨資訊")},editClick:function(e){this.userModel=z(e),this.open_edit=!0},closeDialogFunc:function(e,t){e&&"edit"==t&&(this.open_edit=e.openDialog,this.getParams())},cancelFunc:function(){this.$router.back(-1)},changeAdd:function(){this.isChange=!0}}},Y={class:"pb100",style:{"padding-bottom":"100px"}},Z={class:"product-content"},ee=A("div",{class:"common-form"},"基本資訊",-1),te={class:"table-wrap"},ae={class:"pb16"},le=A("span",{class:"gray9"},"訂單號：",-1),ie={class:"pb16"},ne=A("span",{class:"gray9"},"買家：",-1),re={class:"pb16"},se=A("span",{class:"gray9"},"訂單金額 (元)：",-1),de={class:"pb16"},oe=A("span",{class:"gray9"},"運費金額 (元)：",-1),ue={class:"pb16"},ce=A("span",{class:"gray9"},"優惠券抵扣 (元)：",-1),pe={class:"pb16"},_e=A("span",{class:"gray9"},"積分抵扣 (元)：",-1),fe={class:"pb16"},me=A("span",{class:"gray9"},"滿減金額 (元)：",-1),ye={class:"pb16"},ve=A("span",{class:"gray9"},"定金：",-1),ge={class:"pb16"},be=A("span",{class:"gray9"},"尾款：",-1),he={class:"pb16"},xe=A("span",{class:"gray9"},"尾款立減：",-1),ke={class:"pb16"},we=A("span",{class:"gray9"},"實付款金額 (元)：",-1),Ve={key:0},Ce={key:0,class:"pb16"},De=A("span",{class:"gray9"},"支付方式：",-1),ze={key:1},je=A("span",{class:"gray9"},"支付方式：",-1),Se={key:1},Ue=A("span",{class:"gray9"},"支付方式：",-1),Le={class:"pb16"},Ee=A("span",{class:"gray9"},"配送方式：",-1),Pe={class:"pb16"},Ne=A("span",{class:"gray9"},"下單時間：",-1),Fe={class:"pb16"},$e=A("span",{class:"gray9"},"完成時間：",-1),Ie={class:"pb16"},Ae=A("span",{class:"gray9"},"交易狀態：",-1),Oe=A("div",{class:"common-form mt16"},"商品資訊",-1),Re={class:"table-wrap"},qe={class:"product-info"},Je={class:"pic"},Me={class:"info"},Te={class:"name"},Qe={key:0,class:"red"},We={key:0,class:"gray9"},Be={key:1,class:"orange"},Ge={class:"price"},He={key:0,class:"ml10"},Ke={key:0},Xe={key:1},Ye=A("div",{class:"common-form mt16"},"收貨資訊",-1),Ze={class:"table-wrap"},et={class:"pb16"},tt=A("span",{class:"gray9"},"收貨人：",-1),at={class:"pb16"},lt=A("span",{class:"gray9"},"收貨電話：",-1),it={class:"pb16"},nt=A("span",{class:"gray9"},"收貨地址：",-1),rt={class:"pb16"},st={class:"pb16"},dt=A("span",{class:"gray9"},"備註：",-1),ot=A("div",{class:"common-form mt16"},"自提使用者資訊",-1),ut={key:0,class:"table-wrap"},ct={class:"pb16"},pt=A("span",{class:"gray9"},"聯絡人：",-1),_t={class:"pb16"},ft=A("span",{class:"gray9"},"聯絡電話：",-1),mt={class:"pb16"},yt=A("span",{class:"gray9"},"備註：",-1),vt=A("div",{class:"common-form mt16"},"自提資訊",-1),gt={key:1,class:"table-wrap"},bt={class:"pb16"},ht=A("span",{class:"gray9"},"門店ID：",-1),xt={class:"pb16"},kt=A("span",{class:"gray9"},"門店名稱：",-1),wt={class:"pb16"},Vt=A("span",{class:"gray9"},"聯絡人：",-1),Ct={class:"pb16"},Dt=A("span",{class:"gray9"},"聯絡電話：",-1),zt={class:"pb16"},jt=A("span",{class:"gray9"},"門店地址：",-1),St=A("div",{class:"common-form mt16"},"使用者資訊",-1),Ut={class:"table-wrap"},Lt={class:"pb16"},Et=A("span",{class:"gray9"},"聯絡手機：",-1),Pt={class:"pb16"},Nt=A("span",{class:"gray9"},"備註：",-1),Ft={key:4},$t=A("div",{class:"common-form mt16"},"付款資訊",-1),It={class:"table-wrap"},At={class:"pb16"},Ot=A("span",{class:"gray9"},"應付款金額：",-1),Rt={class:"pb16"},qt=A("span",{class:"gray9"},"支付方式：",-1),Jt={class:"pb16"},Mt=A("span",{class:"gray9"},"支付流水號：",-1),Tt={class:"pb16"},Qt=A("span",{class:"gray9"},"付款狀態：",-1),Wt={class:"pb16"},Bt=A("span",{class:"gray9"},"付款時間：",-1),Gt={key:5},Ht=A("div",{class:"common-form mt16"},"使用者取消訂單",-1),Kt=A("p",{class:"red pb16"},"當前買家已付款並申請取消訂單，請稽核是否同意，如同意則自動退回付款金額（微信支付原路退款）並關閉訂單。",-1),Xt={key:6},Yt={key:0},Zt=A("div",{class:"common-form mt16"},"發貨資訊",-1),ea={class:"table-wrap"},ta={key:0},aa={class:"pb16"},la=A("span",{class:"gray9"},"物流公司：",-1),ia={class:"pb16"},na=A("span",{class:"gray9"},"物流單號：",-1),ra={class:"pb16"},sa=A("span",{class:"gray9"},"發貨狀態：",-1),da={class:"pb16"},oa=A("span",{class:"gray9"},"發貨時間：",-1),ua={class:"pb16 d-s-s"},ca=A("div",{class:"gray9"},"電子面單：",-1),pa={key:1},_a={class:"pic"},fa={class:"info d-b-s d-c"},ma={class:"name"},ya={class:"price"},va={key:1,class:"pb50"},ga=A("div",{class:"common-form mt16"},"去發貨",-1),ba={class:"d-s-c mb16"},ha={class:"ml10"},xa={class:"d-s-c"},ka=A("div",null,"多運單發貨",-1),wa={class:"d-s-s mt16"},Va={class:"package-pre"},Ca={class:"flex-1"},Da={class:"ww100"},za={class:"d-s-c"},ja=["onClick"],Sa={width:60},Ua=["onClick"],La=A("div",{class:"common-form mt16"},"表單資訊",-1),Ea={class:"table-wrap"},Pa={class:"table-wrap"},Na={class:"list"},Fa=["span"],$a={key:8,class:"table-wrap"},Ia=A("div",{class:"common-form mt16"},"取消資訊",-1),Aa={class:"table-wrap"},Oa={class:"pb16"},Ra=A("span",{class:"gray9"},"商家備註：",-1),qa={key:9},Ja=A("div",{class:"common-form mt16"},"門店自提核銷",-1),Ma={key:0},Ta={key:1,class:"table-wrap"},Qa={class:"pb16"},Wa=A("span",{class:"gray9"},"自提門店名稱：",-1),Ba={class:"pb16"},Ga=A("span",{class:"gray9"},"核銷員：",-1),Ha={class:"pb16"},Ka=A("span",{class:"gray9"},"核銷狀態：",-1),Xa={class:"pb16"},Ya=A("span",{class:"gray9"},"核銷時間：",-1),Za={key:10},el=A("div",{class:"common-form mt16"},"虛擬商品發貨",-1),tl={key:0},al={key:1,class:"table-wrap"},ll={class:"pb16"},il=A("span",{class:"gray9"},"發貨資訊：",-1),nl={class:"pb16"},rl=A("span",{class:"gray9"},"發貨狀態：",-1),sl={class:"pb16"},dl=A("span",{class:"gray9"},"發貨時間：",-1),ol={class:"common-button-wrapper"};e("default",D(X,[["render",function(e,r,s,u,p,C){var D=_,z=n,M=f,T=R("Add"),Q=d,W=o,B=m,G=y,H=v,K=g,X=b,ul=h,cl=x,pl=l,_l=i,fl=a,ml=R("QuestionFilled"),yl=k,vl=w,gl=V,bl=t,hl=R("ProductSelect"),xl=R("Logistics"),kl=I("auth"),wl=I("img-url"),Vl=c;return O((j(),P("div",Y,[A("div",Z,[ee,A("div",te,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",ae,[le,E(" "+q(p.detail.order_no),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",ie,[ne,E(" "+q(p.detail.user.nickName)+" ",1),A("span",null,"使用者ID：("+q(p.detail.user.user_id)+")",1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",re,[se,E(" "+q(p.detail.order_price),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",de,[oe,E(" "+q(p.detail.express_price),1)])]})),_:1}),p.detail.coupon_money>0?(j(),S(D,{key:0,span:5},{default:U((function(){return[A("div",ue,[ce,E(" "+q(p.detail.coupon_money),1)])]})),_:1})):$("",!0),p.detail.points_money>0?(j(),S(D,{key:1,span:5},{default:U((function(){return[A("div",pe,[_e,E(" "+q(p.detail.points_money),1)])]})),_:1})):$("",!0),p.detail.fullreduce_money>0?(j(),S(D,{key:2,span:5},{default:U((function(){return[A("div",fe,[me,E(" "+q(p.detail.fullreduce_money),1)])]})),_:1})):$("",!0),80==p.detail.order_source?(j(),S(D,{key:3,span:5},{default:U((function(){return[A("div",ye,[ve,E(" "+q(p.detail.advance.pay_price),1)])]})),_:1})):$("",!0),80==p.detail.order_source?(j(),S(D,{key:4,span:5},{default:U((function(){return[A("div",ge,[be,E(" "+q(p.detail.total_price),1)])]})),_:1})):$("",!0),80==p.detail.order_source&&p.detail.advance.reduce_money?(j(),S(D,{key:5,span:5},{default:U((function(){return[A("div",he,[xe,E(" "+q(p.detail.advance.reduce_money),1)])]})),_:1})):$("",!0),L(D,{span:5},{default:U((function(){return[A("div",ke,[we,E(" "+q(p.detail.pay_price),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[20==p.detail.pay_status.value?(j(),P("div",Ve,[10!=p.detail.pay_type.value&&p.detail.balance>0?(j(),P("div",Ce,[De,E(" "+q(p.detail.pay_type.text)+"("+q(p.detail.online_money)+")+ 餘額支付("+q(p.detail.balance)+") ",1)])):(j(),P("div",ze,[je,E(q(p.detail.pay_type.text),1)]))])):(j(),P("div",Se,[Ue,E(q(p.detail.pay_type.text),1)]))]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Le,[Ee,E(" "+q(p.detail.delivery_type.text),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Pe,[Ne,E(" "+q(p.detail.create_time),1)])]})),_:1}),p.detail.receipt_time?(j(),S(D,{key:6,span:5},{default:U((function(){return[A("div",Fe,[$e,E(" "+q(p.detail.receipt_time),1)])]})),_:1})):$("",!0),L(D,{span:5},{default:U((function(){return[A("div",Ie,[Ae,E(" "+q(p.detail.order_status.text),1)])]})),_:1}),10==p.detail.pay_status.value&&10==p.detail.order_status.value&&10==p.detail.order_source?O((j(),S(D,{key:7,span:5},{default:U((function(){return[L(z,{onClick:r[0]||(r[0]=function(e){return C.editClick(p.detail)}),size:"small"},{default:U((function(){return[E("修改價格")]})),_:1})]})),_:1})),[[kl,"/order/order/updatePrice"]]):$("",!0)]})),_:1})]),p.open_edit?(j(),S(T,{key:0,open_edit:p.open_edit,order:p.userModel,onClose:r[1]||(r[1]=function(e){return C.closeDialogFunc(e,"edit")})},null,8,["open_edit","order"])):$("",!0),Oe,A("div",Re,[L(W,{size:"small",data:p.detail.product,border:"",style:{width:"100%"}},{default:U((function(){return[L(Q,{prop:"product_name",label:"商品",width:"400"},{default:U((function(e){return[A("div",qe,[A("div",Je,[O(A("img",null,null,512),[[wl,e.row.image.file_path]])]),A("div",Me,[A("div",Te,[E(q(e.row.product_name)+" ",1),1==e.row.is_gift?(j(),P("span",Qe,"贈品")):$("",!0)]),""!=e.row.product_attr?(j(),P("div",We,q(e.row.product_attr),1)):$("",!0),e.row.refund?(j(),P("div",Be,q(e.row.refund.type.text)+"-"+q(e.row.refund.status.text),1)):$("",!0),A("div",Ge,[A("span",{class:J({"text-d-line":1==e.row.is_user_grade,gray6:1!=e.row.is_user_grade})},"￥ "+q(e.row.product_price),3),1==e.row.is_user_grade?(j(),P("span",He," 會員折扣價：￥ "+q(e.row.grade_product_price),1)):$("",!0)])])])]})),_:1}),L(Q,{prop:"product_no",label:"商品編碼"}),L(Q,{prop:"product_weight",label:"重量 (Kg)"}),L(Q,{prop:"total_num",label:"購買數量"},{default:U((function(e){return[A("p",null,"x "+q(e.row.total_num),1)]})),_:1}),L(Q,{prop:"total_price",label:"商品總價(元)"},{default:U((function(e){return[A("p",null,"￥ "+q(e.row.total_price),1)]})),_:1}),L(Q,{label:"表單資訊"},{default:U((function(e){return[e.row.table_record_id>0?(j(),P("div",Ke,[(j(!0),P(N,null,F(e.row.tableData,(function(e,t){return j(),P("div",{key:t},q(e.name)+":"+q(e.value),1)})),128))])):$("",!0)]})),_:1})]})),_:1},8,["data"])]),10==p.detail.delivery_type.value?(j(),P("div",Xe,[Ye,A("div",Ze,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",et,[tt,E(" "+q(p.detail.address.name),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",at,[lt,E(" "+q(p.detail.address.phone),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",it,[nt,E(" "+q(p.detail.address.region.province)+" "+q(p.detail.address.region.city)+" "+q(p.detail.address.region.region)+" "+q(p.detail.address.detail),1)])]})),_:1}),20!=p.detail.delivery_status.value&&10==p.detail.order_status.value?(j(),S(D,{key:0,span:5},{default:U((function(){return[A("div",rt,[L(z,{type:"primary",link:"",size:"small",onClick:C.changeAdd},{default:U((function(){return[E(" 修改地址")]})),_:1},8,["onClick"])])]})),_:1})):$("",!0)]})),_:1}),L(M,null,{default:U((function(){return[L(D,{span:25},{default:U((function(){return[A("div",st,[dt,E(" "+q(p.detail.buyer_remark),1)])]})),_:1})]})),_:1})])])):$("",!0),20==p.detail.delivery_type.value?(j(),P(N,{key:2},[ot,p.detail.extract?(j(),P("div",ut,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",ct,[pt,E(" "+q(p.detail.extract.linkman),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",_t,[ft,E(" "+q(p.detail.extract.phone),1)])]})),_:1})]})),_:1}),L(M,null,{default:U((function(){return[L(D,{span:25},{default:U((function(){return[A("div",mt,[yt,E(" "+q(p.detail.buyer_remark),1)])]})),_:1})]})),_:1})])):$("",!0),vt,p.detail.extract?(j(),P("div",gt,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",bt,[ht,E(" "+q(p.detail.extractStore.store_id),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",xt,[kt,E(" "+q(p.detail.extractStore.store_name),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",wt,[Vt,E(" "+q(p.detail.extractStore.linkman),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Ct,[Dt,E(" "+q(p.detail.extractStore.phone),1)])]})),_:1}),L(D,{span:15},{default:U((function(){return[A("div",zt,[jt,E(" "+q(p.detail.extractStore.region.province)+"- "+q(p.detail.extractStore.region.city)+"- "+q(p.detail.extractStore.region.region)+"- "+q(p.detail.extractStore.address),1)])]})),_:1})]})),_:1})])):$("",!0)],64)):$("",!0),30==p.detail.delivery_type.value?(j(),P(N,{key:3},[St,A("div",Ut,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",Lt,[Et,E(" "+q(p.detail.user.mobile),1)])]})),_:1})]})),_:1}),L(M,null,{default:U((function(){return[L(D,{span:25},{default:U((function(){return[A("div",Pt,[Nt,E(" "+q(p.detail.buyer_remark),1)])]})),_:1})]})),_:1})])],64)):$("",!0),20==p.detail.pay_status.value?(j(),P("div",Ft,[$t,A("div",It,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",At,[Ot,E(" "+q(p.detail.pay_price),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Rt,[qt,E(" "+q(p.detail.pay_type.text),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Jt,[Mt,E(" "+q(p.detail.transaction_id),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Tt,[Qt,E(" "+q(p.detail.pay_status.text),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Wt,[Bt,E(" "+q(p.detail.pay_time),1)])]})),_:1})]})),_:1})])])):$("",!0),20==p.detail.pay_status.value&&21==p.detail.order_status.value?O((j(),P("div",Gt,[Ht,Kt,L(H,{size:"small",ref:"forms",model:p.forms},{default:U((function(){return[L(G,{label:"稽核狀態"},{default:U((function(){return[A("div",null,[L(B,{modelValue:p.forms.is_cancel,"onUpdate:modelValue":r[2]||(r[2]=function(e){return p.forms.is_cancel=e}),label:1},{default:U((function(){return[E("同意")]})),_:1},8,["modelValue"]),L(B,{modelValue:p.forms.is_cancel,"onUpdate:modelValue":r[3]||(r[3]=function(e){return p.forms.is_cancel=e}),label:0},{default:U((function(){return[E("拒絕")]})),_:1},8,["modelValue"])])]})),_:1})]})),_:1},8,["model"])])),[[kl,"/order/operate/confirmCancel"]]):$("",!0),20!=p.detail.pay_status.value||10!=p.detail.delivery_type.value||-1!==[20,21].indexOf(p.detail.order_status.value)||p.detail.assemble_status&&20!=p.detail.assemble_status?$("",!0):O((j(),P("div",Xt,[20==p.detail.delivery_status.value||30==p.detail.delivery_status.value?(j(),P("div",Yt,[Zt,A("div",ea,[10==p.detail.delivery_type.value&&0==p.detail.is_single?(j(),P("div",ta,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",aa,[la,E(" "+q(p.detail.express.express_name),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",ia,[na,E(" "+q(p.detail.express_no),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",ra,[sa,E(" "+q(p.detail.delivery_status.text),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",da,[oa,E(" "+q(p.detail.delivery_time),1)])]})),_:1}),p.detail.is_label?(j(),S(D,{key:0,span:5},{default:U((function(){return[A("div",ua,[ca,L(K,{style:{width:"100px"},src:p.detail.label,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[p.detail.label],"initial-index":0,fit:"cover"},null,8,["src","zoom-rate","min-scale","preview-src-list"])])]})),_:1})):$("",!0),20==p.detail.pay_status.value&&10!=p.detail.delivery_status.value&&10==p.detail.order_status.value&&1==p.detail.label_print_type&&10==p.detail.delivery_type.value&&1==p.detail.is_label&&10==p.detail.receipt_status.value?O((j(),S(D,{key:1,span:5},{default:U((function(){return[L(z,{onClick:r[4]||(r[4]=function(e){return C.printOld(p.detail)}),type:"text",size:"small"},{default:U((function(){return[E("電子面單復打 ")]})),_:1})]})),_:1})),[[kl,"/order/order/printRepeate"]]):$("",!0),20==p.detail.pay_status.value&&10!=p.detail.delivery_status.value&&10==p.detail.order_status.value&&10==p.detail.delivery_type.value&&1==p.detail.is_label&&10==p.detail.receipt_status.value?O((j(),S(D,{key:2,span:5},{default:U((function(){return[L(z,{onClick:r[5]||(r[5]=function(e){return C.labelCancel(p.detail)}),type:"text",size:"small"},{default:U((function(){return[E("電子面單取消 ")]})),_:1})]})),_:1})),[[kl,"/order/order/labelCancel"]]):$("",!0)]})),_:1})])):10==p.detail.delivery_type.value&&1==p.detail.is_single?(j(),P("div",pa,[L(W,{size:"small",data:p.detail.orderDeliverList,border:"",style:{width:"100%"}},{default:U((function(){return[L(Q,{prop:"product_name",label:"#",width:"100"},{default:U((function(e){var t=e.$index;return[E(" 包裹"+q(t+1),1)]})),_:1}),L(Q,{prop:"product_name",label:"商品"},{default:U((function(e){var t=e.row;return[(j(!0),P(N,null,F(t.product_list,(function(e){return j(),P("div",{key:e,class:"product-info pb16"},[A("div",_a,[O(A("img",null,null,512),[[wl,e.image_path]])]),A("div",fa,[A("div",ma,q(e.product_name),1),A("div",ya,"發貨數："+q(e.delivery_num),1)])])})),128))]})),_:1}),L(Q,{label:"電子面單"},{default:U((function(e){var t=e.row;return[t.label?(j(),S(K,{key:0,style:{width:"100px",height:"100px"},src:t.label,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[t.label],"initial-index":0,fit:"cover"},null,8,["src","zoom-rate","min-scale","preview-src-list"])):$("",!0)]})),_:1}),L(Q,{prop:"express_name",label:"快遞型別"}),L(Q,{prop:"express_no",label:"快遞單號"}),L(Q,{prop:"create_time",label:"發貨時間"}),L(Q,{prop:"remark",label:"備註"}),L(Q,{fixed:"right",label:"操作"},{default:U((function(e){return[20==p.detail.pay_status.value&&10!=p.detail.delivery_status.value&&10==p.detail.order_status.value&&1==p.detail.is_single&&1==e.row.is_label&&10==p.detail.receipt_status.value?O((j(),S(z,{key:0,onClick:function(t){return C.labelCancel(e.row)},type:"text",size:"small"},{default:U((function(){return[E("電子面單取消 ")]})),_:2},1032,["onClick"])),[[kl,"/order/order/labelCancel"]]):$("",!0),20==p.detail.pay_status.value&&10!=p.detail.delivery_status.value&&10==p.detail.order_status.value&&1==e.row.label_print_type&&1==p.detail.is_single&&1==e.row.is_label&&10==p.detail.receipt_status.value?O((j(),S(z,{key:1,onClick:function(t){return C.printOld(e.row)},type:"text",size:"small"},{default:U((function(){return[E("電子面單復打 ")]})),_:2},1032,["onClick"])),[[kl,"/order/order/printRepeate"]]):$("",!0),O((j(),S(z,{type:"text",size:"small",onClick:function(t){return C.getLogistics(e.row)}},{default:U((function(){return[E("物流查詢 ")]})),_:2},1032,["onClick"])),[[kl,"/order/order/express"]])]})),_:1})]})),_:1},8,["data"])])):$("",!0)])])):$("",!0),10==p.detail.delivery_status.value||30==p.detail.delivery_status.value?(j(),P("div",va,[ga,10==p.detail.delivery_status.value?(j(),S(ul,{key:0,modelValue:p.form.is_single,"onUpdate:modelValue":r[6]||(r[6]=function(e){return p.form.is_single=e})},{default:U((function(){return[L(X,{label:"單包裹發貨",name:1}),L(X,{label:"多包裹發貨",name:0})]})),_:1},8,["modelValue"])):$("",!0),L(H,{size:"small",ref:"form",model:p.form,"label-width":"100px"},{default:U((function(){return[p.form.is_single&&10==p.detail.delivery_status.value?(j(),P(N,{key:0},[L(G,{label:"發貨型別"},{default:U((function(){return[L(cl,{modelValue:p.form.is_label,"onUpdate:modelValue":r[7]||(r[7]=function(e){return p.form.is_label=e})},{default:U((function(){return[L(B,{label:0},{default:U((function(){return[E("手動填寫")]})),_:1}),L(B,{label:1},{default:U((function(){return[E("電子面單列印")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),p.form.is_label?(j(),P(N,{key:0},[L(G,{label:"電子面單配置"},{default:U((function(){return[L(_l,{size:"small",modelValue:p.form.setting_id,"onUpdate:modelValue":r[8]||(r[8]=function(e){return p.form.setting_id=e}),placeholder:"請選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.label_list,(function(e,t){return j(),S(pl,{key:t,label:e.setting_name,value:e.setting_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),L(G,{label:"電子面單模板"},{default:U((function(){return[L(_l,{size:"small",modelValue:p.form.template_id,"onUpdate:modelValue":r[9]||(r[9]=function(e){return p.form.template_id=e}),placeholder:"請選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.template_list,(function(e,t){return j(),S(pl,{key:t,label:e.template_name,value:e.template_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),L(G,{label:"寄件人資訊"},{default:U((function(){return[L(_l,{size:"small",modelValue:p.form.address_id,"onUpdate:modelValue":r[10]||(r[10]=function(e){return p.form.address_id=e}),placeholder:"請選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.address_list,(function(e,t){return j(),S(pl,{key:t,label:e.detail,value:e.address_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})],64)):(j(),P(N,{key:1},[L(G,{label:"物流公司"},{default:U((function(){return[L(_l,{modelValue:p.form.express_id,"onUpdate:modelValue":r[11]||(r[11]=function(e){return p.form.express_id=e}),placeholder:"請選擇快遞公司"},{default:U((function(){return[(j(!0),P(N,null,F(p.expressList,(function(e,t){return j(),S(pl,{label:e.express_name,key:t,value:e.express_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),L(G,{label:"物流單號"},{default:U((function(){return[L(fl,{modelValue:p.form.express_no,"onUpdate:modelValue":r[12]||(r[12]=function(e){return p.form.express_no=e}),class:"max-w460"},null,8,["modelValue"])]})),_:1})],64))],64)):(j(),P(N,{key:1},[A("div",ba,[L(z,{size:"small",type:"primary",onClick:C.addPackage},{default:U((function(){return[E(" + 新增物流單號 ")]})),_:1},8,["onClick"]),A("div",ha,[A("div",xa,[ka,L(vl,{content:"發貨提示",placement:"top"},{default:U((function(){return[L(yl,{class:"ml4"},{default:U((function(){return[L(ml)]})),_:1})]})),_:1})])])]),L(G,{label:"發貨型別"},{default:U((function(){return[L(cl,{modelValue:p.form.is_label,"onUpdate:modelValue":r[13]||(r[13]=function(e){return p.form.is_label=e})},{default:U((function(){return[L(B,{label:0},{default:U((function(){return[E("手動填寫")]})),_:1}),L(B,{label:1},{default:U((function(){return[E("電子面單列印")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(j(!0),P(N,null,F(p.form.delivery_list,(function(e,t){return j(),P(N,{key:e},[A("div",wa,[A("div",Va,"包裹"+q(t+1)+"：",1),A("div",Ca,[p.form.is_label?(j(),P(N,{key:0},[L(G,{label:"電子面單配置"},{default:U((function(){return[L(_l,{size:"small",modelValue:e.setting_id,"onUpdate:modelValue":function(t){return e.setting_id=t},placeholder:"請選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.label_list,(function(e,t){return j(),S(pl,{key:t,label:e.setting_name,value:e.setting_id},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:2},1024),L(G,{label:"電子面單模板"},{default:U((function(){return[L(_l,{size:"small",modelValue:e.template_id,"onUpdate:modelValue":function(t){return e.template_id=t},placeholder:"請選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.template_list,(function(e,t){return j(),S(pl,{key:t,label:e.template_name,value:e.template_id},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:2},1024),L(G,{label:"寄件人資訊"},{default:U((function(){return[L(_l,{size:"small",modelValue:e.address_id,"onUpdate:modelValue":function(t){return e.address_id=t},placeholder:"請選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.address_list,(function(e,t){return j(),S(pl,{key:t,label:e.detail,value:e.address_id},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:2},1024)],64)):(j(),P(N,{key:1},[A("div",Da,[L(G,{label:"物流公司"},{default:U((function(){return[A("div",za,[L(_l,{modelValue:e.express_id,"onUpdate:modelValue":function(t){return e.express_id=t},placeholder:"請選擇快遞公司"},{default:U((function(){return[(j(!0),P(N,null,F(p.expressList,(function(e,t){return j(),S(pl,{label:e.express_name,key:t,value:e.express_id},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]),A("div",{class:"iconfont icon-shanchu1 ml10 delete-icon",style:{cursor:"pointer"},onClick:function(e){return C.delPackage(t)}},null,8,ja),L(z,{class:"ml10",size:"small",type:"primary",round:"",onClick:C.addPackage},{default:U((function(){return[E("+ 新增包裹")]})),_:1},8,["onClick"])])]})),_:2},1024)]),L(G,{label:"物流單號"},{default:U((function(){return[L(fl,{modelValue:e.express_no,"onUpdate:modelValue":function(t){return e.express_no=t},class:"max-w460"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),L(G,{label:"備註"},{default:U((function(){return[L(fl,{modelValue:e.remark,"onUpdate:modelValue":function(t){return e.remark=t},class:"max-w460"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)],64))])]),L(z,{icon:"Plus",class:"mb16",onClick:function(e){return C.addProduct(t)}},{default:U((function(){return[E("新增關聯商品")]})),_:2},1032,["onClick"]),L(W,{data:e.delivery_data,border:""},{default:U((function(){return[L(Q,{label:"商品圖片"},{default:U((function(e){return[O(A("img",Sa,null,512),[[wl,e.row.image_path]])]})),_:1}),L(Q,{prop:"product_name",label:"商品名稱"}),L(Q,{prop:"delivery_num",label:"商品數量"},{default:U((function(e){return[L(gl,{modelValue:e.row.delivery_num,"onUpdate:modelValue":function(t){return e.row.delivery_num=t},min:1,max:100},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),L(Q,{prop:"name",label:"操作",width:"60"},{default:U((function(t){var a=t.$index;return[A("div",{class:"iconfont icon-shanchu delete-icon",style:{cursor:"pointer"},onClick:function(t){return C.delProduct(e.delivery_data,a)}},null,8,Ua)]})),_:2},1024)]})),_:2},1032,["data"])],64)})),128))],64))]})),_:1},8,["model"])])):$("",!0)])),[[kl,"/order/order/delivery"]]),p.custom_form&&p.custom_form.length>0?(j(),P(N,{key:7},[La,A("div",Ea,[A("div",Pa,[A("ul",Na,[(j(!0),P(N,null,F(p.custom_form,(function(e,t){return j(),P("li",{class:"item",span:"text"!==e.label?12:24,key:t},[A("div",null,q(e.title)+"："+q(e.value),1)],8,Fa)})),128))])])])],64)):$("",!0),20==p.detail.order_status.value&&""!=p.detail.cancel_remark?(j(),P("div",$a,[Ia,A("div",Aa,[L(M,null,{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",Oa,[Ra,E(" "+q(p.detail.cancel_remark),1)])]})),_:1})]})),_:1})])])):$("",!0),20==p.detail.delivery_type.value&&20==p.detail.pay_status.value&&21!=p.detail.order_status.value&&20!=p.detail.order_status.value?O((j(),P("div",qa,[Ja,10==p.detail.delivery_status.value?(j(),P("div",Ma,[L(H,{size:"small",ref:"extract_form",model:p.extract_form,"label-width":"100px"},{default:U((function(){return[L(G,{label:"門店核銷員"},{default:U((function(){return[L(_l,{modelValue:p.extract_form.order.extract_clerk_id,"onUpdate:modelValue":r[14]||(r[14]=function(e){return p.extract_form.order.extract_clerk_id=e}),placeholder:"點選選擇"},{default:U((function(){return[(j(!0),P(N,null,F(p.shopClerkList,(function(e,t){return j(),S(pl,{label:e.real_name,key:t,value:e.clerk_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),L(G,{label:"買家取貨狀態 "},{default:U((function(){return[L(B,{modelValue:p.extract_form.order.extract_status,"onUpdate:modelValue":r[15]||(r[15]=function(e){return p.extract_form.order.extract_status=e}),label:1},{default:U((function(){return[E("已取貨")]})),_:1},8,["modelValue"])]})),_:1}),L(G,null,{default:U((function(){return[L(z,{type:"primary",onClick:r[16]||(r[16]=function(e){return C.onExtract(p.detail.order_id)})},{default:U((function(){return[E("確認核銷")]})),_:1})]})),_:1})]})),_:1},8,["model"])])):(j(),P("div",Ta,[p.detail.extractClerk?(j(),S(M,{key:0},{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",Qa,[Wa,E(" "+q(p.detail.extractStore.store_name),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Ba,[Ga,E(" "+q(p.detail.extractClerk.real_name),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Ha,[Ka,20==p.detail.delivery_status.value?(j(),P(N,{key:0},[E(" 已核銷 ")],64)):$("",!0)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",Xa,[Ya,E(" "+q(p.detail.delivery_time),1)])]})),_:1})]})),_:1})):$("",!0)]))])),[[kl,"/order/operate/extract"]]):$("",!0),30==p.detail.delivery_type.value&&20==p.detail.pay_status.value&&21!=p.detail.order_status.value&&20!=p.detail.order_status.value?O((j(),P("div",Za,[el,10==p.detail.delivery_status.value?(j(),P("div",tl,[L(H,{size:"small",ref:"virtual_form",model:p.virtual_form,"label-width":"100px"},{default:U((function(){return[L(G,{label:"發貨資訊"},{default:U((function(){return[L(fl,{modelValue:p.virtual_form.virtual_content,"onUpdate:modelValue":r[17]||(r[17]=function(e){return p.virtual_form.virtual_content=e}),class:"max-w460"},null,8,["modelValue"])]})),_:1}),L(G,null,{default:U((function(){return[L(z,{type:"primary",onClick:r[18]||(r[18]=function(e){return C.onVirtual(p.detail.order_id)})},{default:U((function(){return[E("確認發貨")]})),_:1})]})),_:1})]})),_:1},8,["model"])])):(j(),P("div",al,[p.detail.virtual_content?(j(),S(M,{key:0},{default:U((function(){return[L(D,{span:5},{default:U((function(){return[A("div",ll,[il,E(" "+q(p.detail.virtual_content),1)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",nl,[rl,20==p.detail.delivery_status.value?(j(),P(N,{key:0},[E(" 已發貨 ")],64)):$("",!0)])]})),_:1}),L(D,{span:5},{default:U((function(){return[A("div",sl,[dl,E(" "+q(p.detail.delivery_time),1)])]})),_:1})]})),_:1})):$("",!0)]))])),[[kl,"/order/order/delivery"]]):$("",!0)]),A("div",ol,[L(z,{size:"small",type:"info",onClick:C.cancelFunc},{default:U((function(){return[E("返回上一頁")]})),_:1},8,["onClick"]),20!=p.detail.pay_status.value||10!=p.detail.delivery_type.value||-1!==[20,21].indexOf(p.detail.order_status.value)||p.detail.assemble_status&&20!=p.detail.assemble_status?$("",!0):(j(),P(N,{key:0},[10==p.detail.delivery_status.value?(j(),S(z,{key:0,size:"small",type:"primary",onClick:C.onSubmit},{default:U((function(){return[E("確認發貨")]})),_:1},8,["onClick"])):1==p.detail.is_single&&20!=p.detail.delivery_status.value?(j(),S(z,{key:1,size:"small",type:"primary",onClick:C.onSubmit},{default:U((function(){return[E("繼續發貨")]})),_:1},8,["onClick"])):$("",!0)],64)),20==p.detail.pay_status.value&&21==p.detail.order_status.value?(j(),S(z,{key:1,size:"small",type:"primary",onClick:r[19]||(r[19]=function(e){return C.confirmCancel()})},{default:U((function(){return[E("確認稽核")]})),_:1})):$("",!0)]),null!=p.addressData?(j(),S(bl,{key:0,isChange:p.isChange,addressData:p.addressData,onCloseDialog:C.closeAddress},null,8,["isChange","addressData","onCloseDialog"])):$("",!0),L(hl,{ref:"ProductSelectRef",product_list:p.product_list,exclude_ids:p.exclude_ids,islist:!0,onCloseDialog:C.closeProductDialogFunc},{default:U((function(){return[E("產品列表彈出層")]})),_:1},8,["product_list","exclude_ids","onCloseDialog"]),p.isLogistics?(j(),S(xl,{key:1,logisticsData:p.logisticsData,isLogistics:p.isLogistics,onCloseDialog:C.closeLogistics},null,8,["logisticsData","isLogistics","onCloseDialog"])):$("",!0)])),[[Vl,p.loading]])}]]))}}}));
