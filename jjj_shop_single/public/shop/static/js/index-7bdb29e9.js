import{_ as e}from"./Upload-71ca9325.js";import{E as a,k as l,e as o,x as s,y as t,m as d,g as i,d as m,f as r,c as p}from"./element-plus-84a27f94.js";import{S as n}from"./setting-db36ed28.js";import{_ as u}from"./index-5ae5860a.js";import{ae as c,o as _,c as f,P as g,S as b,a as k,T as v,Q as j,a9 as h,X as y,W as V,Y as w,bb as U,b9 as x}from"./@vue-8fe4574d.js";import"./file-b7a04c7e.js";/* empty css                                                               */import"./AddCategory-69aab672.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";const z={components:{Upload:e},data:()=>({activeName:"grow_task",form:{back_image:"",grow_task:[],day_task:[]},loading:!0,isupload:!1}),created(){this.getData()},methods:{openUpload(e){this.isupload=!0},returnImgsFunc(e){null!=e&&e.length>0&&(this.form.back_image=e[0].file_path),this.isupload=!1},getData(){let e=this;e.loading=!0,n.getTask().then((a=>{e.loading=!1;let l=a.data.vars.values;e.form.back_image=l.back_image,e.form.grow_task=l.grow_task,e.form.day_task=l.day_task})).catch((e=>{}))},onSubmit(){let e=this,l=e.form;e.loading=!0,e.$refs.ruleForm.validate((o=>{o&&n.editTask(l,!0).then((l=>{a({message:"恭喜你，儲存成功",type:"success"}),e.getData()})).catch((e=>{}))}))},getContent:function(){return this.$refs.ue.getUEContent()},addReward(){this.form.reward_data.push({day:0,is_point:!1,point:0,is_coupon:!1,coupon:[]})},deleteRewardClick(e){this.form.reward_data.splice(e,1)}}},R=e=>(U("data-v-90f868da"),e=e(),x(),e),C={class:"mt16"},I=R((()=>k("div",{class:"common-form"},"活動廣告",-1))),N=["src"],F=R((()=>k("p",{class:"ml10 gray"},"提示：圖片尺寸建議750*256(畫素)",-1))),S={class:"common-form"},D={class:"max-w460 d-s-c"},T={class:"flex-1"},A=R((()=>k("span",{class:"ml10"},"積分",-1))),E={class:"max-w460 d-s-c"},P={class:"flex-1"},X={class:"common-form"},$={class:"max-w460 d-s-c"},q={class:"flex-1"},Q=R((()=>k("span",{class:"ml10"},"積分",-1))),W={class:"max-w460 d-s-c"},Y={class:"flex-1"},B={class:"common-button-wrapper"};const G=u(z,[["render",function(a,n,u,U,x,z){const R=c("Picture"),G=l,H=o,J=s,K=t,L=d,M=i,O=m,Z=r,ee=p,ae=e;return _(),f("div",null,[g(ee,{size:"small",model:x.form,ref:"ruleForm","label-width":"100px"},{default:b((()=>[k("div",C,[I,g(H,{label:"",prop:"back_image"},{default:b((()=>[k("div",{class:"d-c-c ad-picture",onClick:n[0]||(n[0]=(...e)=>z.openUpload&&z.openUpload(...e))},[x.form.back_image?(_(),f("img",{key:0,src:x.form.back_image,width:186,height:128},null,8,N)):(_(),v(G,{key:1},{default:b((()=>[g(R)])),_:1}))]),F])),_:1}),g(K,{modelValue:x.activeName,"onUpdate:modelValue":n[1]||(n[1]=e=>x.activeName=e)},{default:b((()=>[g(J,{label:"成長任務",name:"grow_task"}),g(J,{label:"每日任務",name:"day_task"})])),_:1},8,["modelValue"]),"grow_task"==x.activeName?(_(!0),f(j,{key:0},h(x.form.grow_task,((e,a)=>(_(),f("div",{key:a},[k("div",S,y(e.name),1),g(H,{label:"狀態:",prop:"is_open"},{default:b((()=>[g(M,{modelValue:e.is_open,"onUpdate:modelValue":a=>e.is_open=a},{default:b((()=>[g(L,{label:"1"},{default:b((()=>[V("開啟")])),_:1}),g(L,{label:"0"},{default:b((()=>[V("關閉")])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),"1"==e.is_open?(_(),f(j,{key:0},[g(H,{label:"獎勵:",prop:"points"},{default:b((()=>[k("div",D,[k("div",T,[g(O,{modelValue:e.points,"onUpdate:modelValue":a=>e.points=a,placeholder:"0",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),A])])),_:2},1024),g(H,{label:"規則:",prop:"rule"},{default:b((()=>[k("div",E,[k("div",P,[g(O,{type:"textarea",resize:"none",autosize:{minRows:2,maxRows:4},placeholder:"請輸入內容",modelValue:e.rule,"onUpdate:modelValue":a=>e.rule=a},null,8,["modelValue","onUpdate:modelValue"])])])])),_:2},1024)],64)):w("",!0)])))),128)):w("",!0),"day_task"==x.activeName?(_(!0),f(j,{key:1},h(x.form.day_task,((e,a)=>(_(),f("div",{key:a},[k("div",X,y(e.name),1),g(H,{label:"狀態:",prop:"is_open"},{default:b((()=>[g(M,{modelValue:e.is_open,"onUpdate:modelValue":a=>e.is_open=a},{default:b((()=>[g(L,{label:"1"},{default:b((()=>[V("開啟")])),_:1}),g(L,{label:"0"},{default:b((()=>[V("關閉")])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),"1"==e.is_open?(_(),f(j,{key:0},[g(H,{label:"獎勵:",prop:"points"},{default:b((()=>[k("div",$,[k("div",q,[g(O,{modelValue:e.points,"onUpdate:modelValue":a=>e.points=a,placeholder:"0",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),Q])])),_:2},1024),g(H,{label:"規則:",prop:"rule"},{default:b((()=>[k("div",W,[k("div",Y,[g(O,{type:"textarea",resize:"none",autosize:{minRows:2,maxRows:4},placeholder:"請輸入內容",modelValue:e.rule,"onUpdate:modelValue":a=>e.rule=a},null,8,["modelValue","onUpdate:modelValue"])])])])),_:2},1024)],64)):w("",!0)])))),128)):w("",!0)]),k("div",B,[g(Z,{type:"primary",size:"small",onClick:z.onSubmit},{default:b((()=>[V("提交")])),_:1},8,["onClick"])])])),_:1},8,["model"]),x.isupload?(_(),v(ae,{key:0,isupload:x.isupload,onReturnImgs:z.returnImgsFunc},{default:b((()=>[V("上傳圖片")])),_:1},8,["isupload","onReturnImgs"])):w("",!0)])}],["__scopeId","data-v-90f868da"]]);export{G as default};
