import{_ as e}from"./Upload-71ca9325.js";import{s as l,t as o,E as a,m as t,g as m,e as d,d as s,O as i,n as r,f as u}from"./element-plus-84a27f94.js";import{P as n}from"./product-6ff3546d.js";import{_ as p}from"./index-5ae5860a.js";import{o as f,T as c,S as _,c as h,Q as v,a9 as b,P as g,W as V,Y as y,a as j,bb as x,b9 as U}from"./@vue-8fe4574d.js";import{d as w}from"./vuedraggable-54f344de.js";import"./file-b7a04c7e.js";/* empty css                                                               */import"./AddCategory-69aab672.js";import"./@vueuse-3cd91d51.js";import"./lodash-es-656e9c2f.js";import"./async-validator-cf877c1f.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-06559b09.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-49f0fa2f.js";import"./pinia-265da389.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-b80b041e.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-clipboard2-f8268db2.js";import"./clipboard-dd0324d2.js";import"./vue-ueditor-wrap-dff311b3.js";import"./vue-a056b7b7.js";import"./sortablejs-88eb33dd.js";const k=p({name:"SelectFaq",components:{},props:{value:{type:[String,Number],default:null},placeholder:{type:String,default:"請選擇"}},data(){return{loading:!1,faqList:[],innerValue:this.value}},created(){this.remoteMethod()},watch:{value(e){this.innerValue=e}},methods:{handleChange(e){this.$emit("change",e),this.$emit("input",e)},async remoteMethod(e){let{code:l,data:o}=await n.getFaqList({question:e});1===l&&(this.faqList=o.list.data||[])}}},[["render",function(e,a,t,m,d,s){const i=l,r=o;return f(),c(r,{modelValue:d.innerValue,"onUpdate:modelValue":a[0]||(a[0]=e=>d.innerValue=e),loading:d.loading,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:t.placeholder,"remote-show-suffix":"","remote-method":s.remoteMethod,onChange:s.handleChange},{default:_((()=>[(f(!0),h(v,null,b(d.faqList,(e=>(f(),c(i,{key:e.value,label:e.question,value:e.faq_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","loading","placeholder","remote-method","onChange"])}]]),q={components:{SelectFaq:k,Upload:e,draggable:w},data:()=>({isProductUpload:!1,config:{},file_name:"image",customBtn:!1,CustomList:[{value:"text",label:"文字框"},{value:"number",label:"數字"},{value:"email",label:"郵件"},{value:"data",label:"日期"},{value:"time",label:"時間"},{value:"id",label:"身份證"},{value:"phone",label:"手機號"}]}),inject:["form"],created(){this.form.model.custom_form&&0!=this.form.model.custom_form.length&&(this.customBtn=!0)},methods:{customMessBtn(e){e||(this.form.model.custom_form=[])},addcustom(){this.form.model.custom_form||(this.form.model.custom_form=[]),this.form.model.custom_form&&this.form.model.custom_form.length>9?a.warning("最多新增10條"):this.form.model.custom_form.push({title:"",label:"text",value:"",status:!1})},delcustom(e){this.form.model.custom_form.splice(e,1)},openProductUpload:function(e,l){this.file_name=l,this.config="image"==e?{total:9,file_type:"image"}:{total:1,file_type:"video"},this.isProductUpload=!0},returnProductImgsFunc(e){if(null!=e)if("video"==this.file_name)this.form.model.video_id=e[0].file_id,this.form.model.video=e[0];else if("image"==this.file_name){let l=this.form.model.image.concat(e);this.form.model.image=l}else"poster"==this.file_name&&(this.form.model.poster_id=e[0].file_id,this.form.model.poster=e[0]);this.isProductUpload=!1},deleteImg(e){this.form.model.image.splice(e,1)},delVideo(){this.form.model.video_id=0,this.form.model.video={}},deleteVideo(){this.form.model.poster_id=0,this.form.model.poster={}}}},C=e=>(x("data-v-44090fe5"),e=e(),U(),e),B={class:"basic-setting-content pl16 pr16"},P=C((()=>j("div",{class:"common-form"},"其他設定",-1))),L=C((()=>j("div",{class:"gray9"},"每個會員購買的最大數量，0為不限購",-1))),I=C((()=>j("div",{class:"gray9"},"虛擬物品內容",-1))),M=C((()=>j("div",{class:"gray9"},"僅設定的等級會員可購買，不設定則都可以購買",-1))),F=C((()=>j("div",{class:"common-form mt50"},"表單資訊收集",-1))),S={class:"max-w460"},z=C((()=>j("span",{slot:"open"},"開啟",-1))),A=C((()=>j("span",{slot:"close"},"關閉",-1))),R={key:0,class:"addCustom_content"},T=["onClick"],$={key:1,class:"addCustomBox"},E=C((()=>j("div",{class:"titTip"}," 使用者下單時需填寫的資訊，最多可設定10條，設定了自定義表單的商品不能加入購物車 ",-1)));const N=p(q,[["render",function(a,n,p,x,U,w){const q=t,C=m,N=d,O=l,Q=o,W=k,Y=s,D=i,G=r,H=u,J=e;return f(),h("div",B,[P,g(N,{label:"商品屬性："},{default:_((()=>[g(C,{modelValue:w.form.model.is_virtual,"onUpdate:modelValue":n[0]||(n[0]=e=>w.form.model.is_virtual=e)},{default:_((()=>[g(q,{label:0},{default:_((()=>[V("實物商品")])),_:1}),g(q,{label:1},{default:_((()=>[V("虛擬商品(無需發貨)")])),_:1})])),_:1},8,["modelValue"])])),_:1}),0==w.form.model.is_virtual?(f(),c(N,{key:0,label:"運費模板：",rules:[{required:!0,message:"選擇運費模板"}],prop:"model.delivery_id"},{default:_((()=>[g(Q,{modelValue:w.form.model.delivery_id,"onUpdate:modelValue":n[1]||(n[1]=e=>w.form.model.delivery_id=e),style:{width:"460px"}},{default:_((()=>[(f(!0),h(v,null,b(w.form.delivery,(e=>(f(),c(O,{value:e.delivery_id,key:e.delivery_id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})):y("",!0),g(N,{label:"常見問題："},{default:_((()=>[g(W,{modelValue:w.form.model.faq_ids,"onUpdate:modelValue":n[2]||(n[2]=e=>w.form.model.faq_ids=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),g(N,{label:"初始銷量："},{default:_((()=>[g(Y,{type:"number",min:"0",modelValue:w.form.model.sales_initial,"onUpdate:modelValue":n[3]||(n[3]=e=>w.form.model.sales_initial=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),g(N,{label:"商品排序：",rules:[{required:!0,message:" "}],prop:"model.product_sort"},{default:_((()=>[g(Y,{type:"number",min:"0",modelValue:w.form.model.product_sort,"onUpdate:modelValue":n[4]||(n[4]=e=>w.form.model.product_sort=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),g(N,{label:"限購數量：",rules:[{required:!0,message:" "}],prop:"model.limit_num"},{default:_((()=>[g(Y,{type:"number",min:"0",modelValue:w.form.model.limit_num,"onUpdate:modelValue":n[5]||(n[5]=e=>w.form.model.limit_num=e),class:"max-w460"},null,8,["modelValue"]),L])),_:1}),1==w.form.model.is_virtual?(f(),c(N,{key:1,label:"發貨型別："},{default:_((()=>[g(C,{modelValue:w.form.model.virtual_auto,"onUpdate:modelValue":n[6]||(n[6]=e=>w.form.model.virtual_auto=e)},{default:_((()=>[g(q,{label:1},{default:_((()=>[V("自動")])),_:1}),g(q,{label:0},{default:_((()=>[V("手動")])),_:1})])),_:1},8,["modelValue"])])),_:1})):y("",!0),1==w.form.model.is_virtual?(f(),c(N,{key:2,label:"虛擬內容：",rules:[{required:!0,message:"請填寫虛擬內容"}],prop:"model.virtual_content"},{default:_((()=>[g(Y,{type:"text",modelValue:w.form.model.virtual_content,"onUpdate:modelValue":n[7]||(n[7]=e=>w.form.model.virtual_content=e),class:"max-w460"},null,8,["modelValue"]),I])),_:1})):y("",!0),g(N,{label:"會員等級限制："},{default:_((()=>[g(Q,{modelValue:w.form.model.grade_ids,"onUpdate:modelValue":n[8]||(n[8]=e=>w.form.model.grade_ids=e),multiple:"",placeholder:"請選擇",style:{width:"460px"}},{default:_((()=>[(f(!0),h(v,null,b(w.form.gradeList,(e=>(f(),c(O,{key:e.grade_id,label:e.name,value:e.grade_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),M])),_:1}),F,g(N,{label:"關聯表單："},{default:_((()=>[j("div",S,[g(Q,{modelValue:w.form.model.table_id,"onUpdate:modelValue":n[9]||(n[9]=e=>w.form.model.table_id=e),placeholder:"請選擇",style:{width:"460px"}},{default:_((()=>[(f(!0),h(v,null,b(w.form.tableList,(e=>(f(),c(O,{value:e.table_id,key:e.table_id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])])),_:1}),g(N,{label:"自定義表單："},{default:_((()=>[j("div",null,[g(D,{"active-value":!0,"inactive-value":!1,modelValue:U.customBtn,"onUpdate:modelValue":n[10]||(n[10]=e=>U.customBtn=e),onChange:w.customMessBtn,size:"large"},{default:_((()=>[z,A])),_:1},8,["modelValue","onChange"]),U.customBtn?(f(),h("div",R,[(f(!0),h(v,null,b(w.form.model.custom_form,((e,l)=>(f(),h("div",{key:l,class:"custom_box"},[g(Y,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,modelModifiers:{trim:!0},placeholder:"表單標題"+(l+1),style:{width:"150px","margin-right":"10px"},maxlength:10},null,8,["modelValue","onUpdate:modelValue","placeholder"]),g(Q,{modelValue:e.label,"onUpdate:modelValue":l=>e.label=l,style:{width:"200px","margin-left":"6px","margin-right":"10px"}},{default:_((()=>[(f(!0),h(v,null,b(U.CustomList,(e=>(f(),c(O,{value:e.value,key:e.value,label:e.label},null,8,["value","label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),g(G,{modelValue:e.status,"onUpdate:modelValue":l=>e.status=l},{default:_((()=>[V("必填")])),_:2},1032,["modelValue","onUpdate:modelValue"]),j("div",{class:"addfont",onClick:e=>w.delcustom(l)},"刪除",8,T)])))),128))])):y("",!0),U.customBtn?(f(),h("div",$,[g(H,{class:"btn",onClick:w.addcustom},{default:_((()=>[V("+ 新增表單")])),_:1},8,["onClick"]),E])):y("",!0)])])),_:1}),U.isProductUpload?(f(),c(J,{key:3,config:U.config,isupload:U.isProductUpload,onReturnImgs:w.returnProductImgsFunc},{default:_((()=>[V(" 上傳圖片")])),_:1},8,["config","isupload","onReturnImgs"])):y("",!0)])}],["__scopeId","data-v-44090fe5"]]);export{N as default};
