# 版本說明

如果您是之前的老版本使用者，你就會發現，6.x 版本是沒辦法從舊版輕鬆升級的，當然如果非必要，我也不建議你去動已有的專案升級。

## 關於 6.x

6.x 和之前的版本設計風格完全不一樣，可以說是一個完全重寫的版本，其中最大的變化點是：

### 不再封裝業務介面

從 6.x 起 SDK 中不再內建具體業務的介面，僅封裝底層基礎部分，如認證、授權和 API 客戶端。為什麼不再封裝業務介面，主要有以下幾個原因：

##### 二次封裝的學習成本
    
從使用者角度，首先需要了解微信的介面，然後再到 SDK 去尋找對應二次封裝的新名稱和新的用法，為啥會是新的名稱呢？因為微信的介面起名太隨意，很多名字無法表意或者有歧義，所以在以前的版本中我們精心設計了新的名字來掩蓋這個問題，但是起名這件事情，相信寫過程式碼的同學都知道，它是非常困難的，尤其微信這種雜亂的介面系統，越到後面越詞窮。所以二次封裝，不僅增加了使用者的使用學習成本，也同時增加了 SDK 的封裝成本。

##### 更新時效性不足 
    
當有新介面，或者介面變化的時候，SDK 很難做到及時的更新，畢竟用愛發電的人也要工作和生活，大部分都需要好久才會有空把它同步更新過來，即使我已經很努力去儘可能做到快速更新，但還是無法滿足使用者的訴求。雖然 SDK 在設計之初就已經考慮過這個問題提供了底層直接呼叫介面地址的能力，但很多人不知道。

### 去容器化設計

從 3.x 起我們重寫了整個 SDK 的架構，引入了 [silexphp/Pimple](https://github.com/silexphp/Pimple) 作為服務容器，將各模組裝載到服務容器，隨取隨用，一直沿用到 5.x。

6.x 開始，因為也不需要再二次封裝業務介面，容器存在的必要性就不大了。最終去掉了容器這一層，將各個模組類以純粹的獨立類存在，使用依賴注入的模式傳入需要的依賴物件，方便有自定義需求或者特殊執行環境的同學使用自己的類做替換和更方邊的生命週期管理。為了方便大部分自定義需求少的使用者場景，在各生態模組外層，提供了工廠類以便於最小成本的完成開發對接。

### 幾乎 100% 的自定義能力支援

在繼續保持開箱即用的能力下，在 6.x 中你幾乎可以做到任何模組的替換，每一個模組都以介面形式依賴，所以你可以輕鬆的替換任何一個你不滿意的模組。當然也包括底層的 Http Client。

## 感謝

感謝所有 EasyWeChat 使用者的熱愛和支援，更要感謝所有的貢獻者，因為愛好產生了 EasyWeChat，因為大家的熱愛它才成為了今天擁有無數使用者的 EasyWeChat。希望在未來的路上我們能保持初心，一起努力，一起成長。

- [@overtrue](https://github.com/overtrue) 2022/02/25 深夜

### 感謝可愛的貢獻者們

<a href="https://github.com/w7corp/easywechat/graphs/contributors"><img src="https://opencollective.com/wechat/contributors.svg?width=890" /></a>
